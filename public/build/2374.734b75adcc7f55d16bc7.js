"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[2374],{53823:(A,M,t)=>{t.d(M,{o:()=>D});var s=t(74848),o=t(22803),p=t(29675),x=t(57205);const D=({items:d,children:m,isPinned:e,scrollable:O=!1,maxHeight:h})=>{const E=(0,p.of)(c),T=O?{maxHeight:h,overflowY:"auto"}:{};return(0,s.jsxs)("div",{className:E.wrapper,style:T,children:[d.map(({label:r,value:v,color:g,colorIndicator:a,colorPlacement:f,isActive:u,lineStyle:n},l)=>(0,s.jsx)(x.B,{label:r,value:v,color:g,colorIndicator:a,colorPlacement:f,isActive:u,justify:"space-between",isPinned:e,lineStyle:n,showValueScroll:!O},l)),m]})},c=d=>({wrapper:(0,o.css)({display:"flex",flexDirection:"column",flex:1,gap:2,borderTop:`1px solid ${d.colors.border.weak}`,padding:d.spacing(1)})})},14411:(A,M,t)=>{t.d(M,{S:()=>v});var s=t(74848),o=t(22803),p=t(96540),x=t(48583),D=t(79784),c=t(21891),d=t(54594),m=t(29675),e=t(70462),O=t(32879);const h="add-annotation-button";function E(a,f,u){return(l,i)=>{if(l.length===0)return;const _=l.find(C=>C.oneClick===!0);return _!=null?(0,s.jsx)("div",{className:i.dataLinks,children:(0,s.jsx)(x.B,{direction:"column",justifyContent:"flex-start",gap:.5,children:(0,s.jsxs)("span",{className:i.oneClickWrapper,children:[(0,s.jsx)(D.I,{name:"info-circle",size:"lg",className:i.infoIcon}),a(_.title)]})})}):(0,s.jsx)("div",{className:i.dataLinks,children:(0,s.jsx)(x.B,{direction:"column",justifyContent:"flex-start",gap:u,children:l.map((C,j)=>f(C,j,i))})})}}const T=E(a=>(0,s.jsxs)(e.x,{i18nKey:"grafana-ui.viz-tooltip.footer-click-to-navigate",children:["Click to open ",{linkTitle:a}]}),(a,f,u)=>(0,s.jsx)(c.R,{link:a,buttonProps:{className:u.dataLinkButton,fill:"text"}},f),.5),r=E(a=>(0,s.jsxs)(e.x,{i18nKey:"grafana-ui.viz-tooltip.footer-click-to-action",children:["Click to ",{actionTitle:a}]}),(a,f,u)=>(0,s.jsx)(O.r,{action:a,variant:"secondary"},f)),v=({dataLinks:a,actions:f=[],annotate:u})=>{const n=(0,m.of)(g),l=(0,p.useMemo)(()=>a.some(_=>_.oneClick===!0),[a]),i=(0,p.useMemo)(()=>f.some(_=>_.oneClick===!0),[f]);return(0,s.jsxs)("div",{className:n.wrapper,children:[!i&&T(a,n),!l&&r(f,n),!l&&!i&&u!=null&&(0,s.jsx)("div",{className:n.addAnnotations,children:(0,s.jsx)(d.$n,{icon:"comment-alt",variant:"secondary",size:"sm",id:h,onClick:u,children:(0,s.jsx)(e.x,{i18nKey:"grafana-ui.viz-tooltip.footer-add-annotation",children:"Add annotation"})})})]})},g=a=>({wrapper:(0,o.css)({display:"flex",flexDirection:"column",flex:1,padding:a.spacing(0)}),dataLinks:(0,o.css)({borderTop:`1px solid ${a.colors.border.medium}`,padding:a.spacing(1)}),addAnnotations:(0,o.css)({borderTop:`1px solid ${a.colors.border.medium}`,padding:a.spacing(1)}),dataLinkButton:(0,o.css)({cursor:"pointer","&:hover":{textDecoration:"underline",background:"none"}}),oneClickWrapper:(0,o.css)({display:"flex",alignItems:"center"}),infoIcon:(0,o.css)({color:a.colors.primary.main,paddingRight:a.spacing(.5)})})},33409:(A,M,t)=>{t.d(M,{A:()=>D});var s=t(74848),o=t(22803),p=t(29675),x=t(57205);const D=({item:d,isPinned:m})=>{const e=(0,p.of)(c),{label:O,value:h,color:E,colorIndicator:T}=d;return(0,s.jsx)("div",{className:e.wrapper,children:(0,s.jsx)(x.B,{label:O,value:h,color:E,colorIndicator:T,marginRight:"22px",isPinned:m})})},c=d=>({wrapper:(0,o.css)({display:"flex",flexDirection:"column",flex:1,padding:d.spacing(1),lineHeight:1})})},57205:(A,M,t)=>{t.d(M,{B:()=>f});var s=t(74848),o=t(22803),p=t(96540),x=t(29675),D=t(96260),c=t(6736),d=t(62931),m=t(61834),e=t(85217),O=t(37813),h=(n=>(n[n.Leading=0]="Leading",n[n.Trailing=1]="Trailing",n))(h||{});const E=({color:n=d.F,colorIndicator:l=e.Ev,position:i=0,lineStyle:_})=>{const C=(0,x.of)(T);return l===e.fX.series?(0,s.jsx)(m.p,{color:n,lineStyle:_,className:i===0?C.leading:C.trailing}):(0,s.jsx)("span",{style:{backgroundColor:n},className:(0,o.cx)(i===0?C.leading:C.trailing,(0,O.L$)(l,C))})},T=n=>({leading:(0,o.css)({marginRight:n.spacing(.5)}),trailing:(0,o.css)({marginLeft:n.spacing(.5)}),value:(0,o.css)({width:"12px",height:"12px",borderRadius:n.shape.radius.default,fontWeight:500,minWidth:"12px"}),hexagon:(0,o.css)({}),pie_1_4:(0,o.css)({}),pie_2_4:(0,o.css)({}),pie_3_4:(0,o.css)({}),marker_sm:(0,o.css)({width:"4px",height:"4px",borderRadius:n.shape.radius.circle,minWidth:"4px"}),marker_md:(0,o.css)({width:"8px",height:"8px",borderRadius:n.shape.radius.circle,minWidth:"8px"}),marker_lg:(0,o.css)({width:"12px",height:"12px",borderRadius:n.shape.radius.circle,minWidth:"12px"})});var r=(n=>(n.label="label",n.value="value",n))(r||{});const v="Copied to clipboard",g=2*1e3,a=7,f=({label:n,value:l,color:i,colorIndicator:_,colorPlacement:C=e.lJ.first,justify:j="flex-start",isActive:L=!1,marginRight:k="0px",isPinned:I,lineStyle:y,showValueScroll:S})=>{const R=(0,x.of)(u,j,k),$=S?{maxHeight:55,whiteSpace:"wrap",wordBreak:"break-word",overflowY:"auto"}:{whiteSpace:"wrap",wordBreak:"break-word"},[J,F]=(0,p.useState)(!1),[z,K]=(0,p.useState)(null),[U,w]=(0,p.useState)(!1),N=(0,p.useRef)(null),b=(0,p.useRef)(null);(0,p.useEffect)(()=>{let P;return U&&(P=setTimeout(()=>{w(!1)},g)),()=>{window.clearTimeout(P)}},[U]);const G=async(P,B)=>{if(!(navigator?.clipboard&&window.isSecureContext)){V(P,B);return}try{await navigator.clipboard.writeText(P),K({[`${B}`]:P}),w(!0)}catch{K(null)}},V=(P,B)=>{const W=document.createElement("textarea");N.current?.appendChild(W),W.value=P,W.focus(),W.select();try{document.execCommand("copy")&&(K({[`${B}`]:P}),w(!0))}catch(X){console.error("Unable to copy to clipboard",X)}W.remove()},Y=P=>{P.currentTarget.offsetWidth<P.currentTarget.scrollWidth&&F(!0)},Z=()=>F(!1);return n.length*a>window.innerWidth/2&&(n=n.replaceAll("{",`{
  `).replaceAll("}",`
}`).replaceAll(", ",`,
  `)),(0,s.jsxs)("div",{className:R.contentWrapper,children:[(i||n)&&(0,s.jsxs)("div",{className:R.valueWrapper,children:[i&&C===e.lJ.first&&(0,s.jsx)(E,{color:i,colorIndicator:_,lineStyle:y}),I?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(c.m,{content:n,interactive:!1,show:J,children:(0,s.jsxs)(s.Fragment,{children:[U&&z?.label&&(0,s.jsx)(D.r,{placement:"top",referenceElement:N.current,children:v}),(0,s.jsx)("div",{className:(0,o.cx)(R.label,L&&R.activeSeries,navigator?.clipboard&&R.copy),onMouseEnter:Y,onMouseLeave:Z,onClick:()=>G(n,"label"),ref:N,children:n})]})})}):(0,s.jsx)("div",{className:(0,o.cx)(R.label,L&&R.activeSeries),children:n})]}),(0,s.jsxs)("div",{className:R.valueWrapper,children:[i&&C===e.lJ.leading&&(0,s.jsx)(E,{color:i,colorIndicator:_,position:h.Leading,lineStyle:y}),I?(0,s.jsxs)(s.Fragment,{children:[U&&z?.value&&(0,s.jsx)(D.r,{placement:"top",referenceElement:b.current,children:v}),(0,s.jsx)("div",{className:(0,o.cx)(R.value,L,navigator?.clipboard&&R.copy),style:$,onClick:()=>G(l?l.toString():"","value"),ref:b,children:l})]}):(0,s.jsx)("div",{className:(0,o.cx)(R.value,L),style:$,children:l}),i&&C===e.lJ.trailing&&(0,s.jsx)(E,{color:i,colorIndicator:_,position:h.Trailing,lineStyle:y})]})]})},u=(n,l,i)=>({contentWrapper:(0,o.css)({display:"flex",alignItems:"start",justifyContent:l,marginRight:i}),label:(0,o.css)({color:n.colors.text.secondary,fontWeight:400,textOverflow:"ellipsis",overflow:"hidden",marginRight:n.spacing(2)}),value:(0,o.css)({fontWeight:500,textOverflow:"ellipsis",overflow:"hidden"}),valueWrapper:(0,o.css)({display:"flex",alignItems:"center"}),activeSeries:(0,o.css)({fontWeight:n.typography.fontWeightBold,color:n.colors.text.maxContrast}),copy:(0,o.css)({cursor:"pointer"})})},24520:(A,M,t)=>{t.d(M,{X:()=>h,k:()=>e});var s=t(47286),o=t(52718),p=t(63739),x=t(84099),D=t(28082),c=t(87638),d=t(65874),m=t(35874);const e=(r,v,g,a,f,u)=>!f||f.length===0?[]:f.map(l=>{const i=(0,s.vd)(r,v,g),_={...g,__dataContext:i},C=(I,y,S)=>a(I,{..._,...y},S);u.valueRowIndex!==void 0&&!isNaN(u.valueRowIndex)?i.value.rowIndex=u.valueRowIndex:i.value.calculatedValue=u.calculatedValue;const j=a(l.title,_),L=a(l.confirmation||`Are you sure you want to ${l.title}?`,_);return{title:j,confirmation:L,onClick:(I,y)=>{O(l,C)},oneClick:l.oneClick??!1}}).filter(l=>!!l),O=(r,v)=>{try{const g=new URL(E(v(r.fetch.url))),a={};let f={url:g.toString(),method:r.fetch.method,data:T(r,v),headers:a};r.fetch.headers&&r.fetch.headers.forEach(([u,n])=>{a[v(u)]=v(n)}),r.fetch.queryParams&&(r.fetch.queryParams?.forEach(([u,n])=>{g.searchParams.append(v(u),v(n))}),f.url=g.toString()),a["X-Grafana-Action"]="1",f.headers=a,(0,D.AI)().fetch(f).subscribe({error:u=>{c.lE.emit(o.r1.alertError,["An error has occurred. Check console output for more details."]),console.error(u)},complete:()=>{c.lE.emit(o.r1.alertSuccess,["API call was successful"])}})}catch(g){c.lE.emit(o.r1.alertError,["An error has occurred. Check console output for more details."]),console.error(g);return}},h=(r=[],v=[])=>({name:"Default field",type:p.PU.string,config:{links:r,actions:v},values:[]}),E=r=>{if(r.startsWith("/")){const g=x.sQ.sanitizeUrl(r);r=(0,m.z)(g,[])}return r},T=(r,v)=>{let g=r.fetch.body?v(r.fetch.body):"{}";return r.fetch.method===d.DO.GET&&(g=void 0),g}},65874:(A,M,t)=>{t.d(M,{DO:()=>x,en:()=>s,gR:()=>o,xp:()=>p});var s=(e=>(e.Center="center",e.Left="left",e.LeftRight="leftright",e.Right="right",e.Scale="scale",e))(s||{}),o=(e=>(e.Bottom="bottom",e.Center="center",e.Scale="scale",e.Top="top",e.TopBottom="topbottom",e))(o||{}),p=(e=>(e.Contain="contain",e.Cover="cover",e.Fill="fill",e.Original="original",e.Tile="tile",e))(p||{}),x=(e=>(e.GET="GET",e.POST="POST",e.PUT="PUT",e))(x||{}),D=(e=>(e.Straight="straight",e))(D||{});const c={vertices:[]},d={connections:[]},m={infinitePan:!0,inlineEditing:!0,panZoom:!0,showAdvancedTypes:!0}},69598:(A,M,t)=>{t.d(M,{OG:()=>D,u6:()=>p});var s=t(32370),o=t(24520);const p=(c,d)=>{const m=[];if((c.config.links?.length??0)>0&&c.getLinks!=null){const e=c.values[d],O=c.display?c.display(e):{text:`${e}`,numeric:+e},h=new Set;c.getLinks({calculatedValue:O,valueRowIndex:d}).forEach(E=>{const T=`${E.title}/${E.href}`;h.has(T)||(m.push(E),h.add(T))})}return m},x=c=>{},D=(c,d,m,e)=>{if(!s.$.featureToggles?.vizActions)return[];const O=[],h=new Set;return(0,o.k)(c,d,d.state.scopedVars,m,d.config.actions??[],{valueRowIndex:e}).forEach(T=>{const r=`${T.title}`;h.has(r)||(O.push(T),h.add(r))}),O}}}]);

//# sourceMappingURL=2374.734b75adcc7f55d16bc7.js.map