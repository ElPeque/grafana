(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[4541],{1779:(ie,f,t)=>{var d=t(48287).Buffer,C=function(){"use strict";function E(J,K){return K!=null&&J instanceof K}var B;try{B=Map}catch{B=function(){}}var D;try{D=Set}catch{D=function(){}}var S;try{S=Promise}catch{S=function(){}}function T(J,K,ee,I,X){typeof K=="object"&&(ee=K.depth,I=K.prototype,X=K.includeNonEnumerable,K=K.circular);var R=[],W=[],M=typeof d<"u";typeof K>"u"&&(K=!0),typeof ee>"u"&&(ee=1/0);function G(z,q){if(z===null)return null;if(q===0)return z;var _,Y;if(typeof z!="object")return z;if(E(z,B))_=new B;else if(E(z,D))_=new D;else if(E(z,S))_=new S(function(v,m){z.then(function(o){v(G(o,q-1))},function(o){m(G(o,q-1))})});else if(T.__isArray(z))_=[];else if(T.__isRegExp(z))_=new RegExp(z.source,U(z)),z.lastIndex&&(_.lastIndex=z.lastIndex);else if(T.__isDate(z))_=new Date(z.getTime());else{if(M&&d.isBuffer(z))return d.allocUnsafe?_=d.allocUnsafe(z.length):_=new d(z.length),z.copy(_),_;E(z,Error)?_=Object.create(z):typeof I>"u"?(Y=Object.getPrototypeOf(z),_=Object.create(Y)):(_=Object.create(I),Y=I)}if(K){var j=R.indexOf(z);if(j!=-1)return W[j];R.push(z),W.push(_)}E(z,B)&&z.forEach(function(v,m){var o=G(m,q-1),n=G(v,q-1);_.set(o,n)}),E(z,D)&&z.forEach(function(v){var m=G(v,q-1);_.add(m)});for(var y in z){var h;Y&&(h=Object.getOwnPropertyDescriptor(Y,y)),!(h&&h.set==null)&&(_[y]=G(z[y],q-1))}if(Object.getOwnPropertySymbols)for(var l=Object.getOwnPropertySymbols(z),y=0;y<l.length;y++){var a=l[y],i=Object.getOwnPropertyDescriptor(z,a);i&&!i.enumerable&&!X||(_[a]=G(z[a],q-1),i.enumerable||Object.defineProperty(_,a,{enumerable:!1}))}if(X)for(var u=Object.getOwnPropertyNames(z),y=0;y<u.length;y++){var c=u[y],i=Object.getOwnPropertyDescriptor(z,c);i&&i.enumerable||(_[c]=G(z[c],q-1),Object.defineProperty(_,c,{enumerable:!1}))}return _}return G(J,ee)}T.clonePrototype=function(K){if(K===null)return null;var ee=function(){};return ee.prototype=K,new ee};function P(J){return Object.prototype.toString.call(J)}T.__objToStr=P;function F(J){return typeof J=="object"&&P(J)==="[object Date]"}T.__isDate=F;function x(J){return typeof J=="object"&&P(J)==="[object Array]"}T.__isArray=x;function V(J){return typeof J=="object"&&P(J)==="[object RegExp]"}T.__isRegExp=V;function U(J){var K="";return J.global&&(K+="g"),J.ignoreCase&&(K+="i"),J.multiline&&(K+="m"),K}return T.__getRegExpFlags=U,T}();ie.exports&&(ie.exports=C)},87805:(ie,f,t)=>{var d=t(43360),C=t(75288);function E(B,D,S){(S!==void 0&&!C(B[D],S)||S===void 0&&!(D in B))&&d(B,D,S)}ie.exports=E},85250:(ie,f,t)=>{var d=t(37217),C=t(87805),E=t(86649),B=t(42824),D=t(23805),S=t(37241),T=t(14974);function P(F,x,V,U,J){F!==x&&E(x,function(K,ee){if(J||(J=new d),D(K))B(F,x,ee,V,P,U,J);else{var I=U?U(T(F,ee),K,ee+"",F,x,J):void 0;I===void 0&&(I=K),C(F,ee,I)}},S)}ie.exports=P},42824:(ie,f,t)=>{var d=t(87805),C=t(93290),E=t(71961),B=t(23007),D=t(35529),S=t(72428),T=t(56449),P=t(83693),F=t(3656),x=t(1882),V=t(23805),U=t(11331),J=t(37167),K=t(14974),ee=t(69884);function I(X,R,W,M,G,z,q){var _=K(X,W),Y=K(R,W),j=q.get(Y);if(j){d(X,W,j);return}var y=z?z(_,Y,W+"",X,R,q):void 0,h=y===void 0;if(h){var l=T(Y),a=!l&&F(Y),i=!l&&!a&&J(Y);y=Y,l||a||i?T(_)?y=_:P(_)?y=B(_):a?(h=!1,y=C(Y,!0)):i?(h=!1,y=E(Y,!0)):y=[]:U(Y)||S(Y)?(y=_,S(_)?y=ee(_):(!V(_)||x(_))&&(y=D(Y))):h=!1}h&&(q.set(Y,y),G(y,Y,M,z,q),q.delete(Y)),d(X,W,y)}ie.exports=I},69302:(ie,f,t)=>{var d=t(83488),C=t(56757),E=t(32865);function B(D,S){return E(C(D,S,d),D+"")}ie.exports=B},20999:(ie,f,t)=>{var d=t(69302),C=t(36800);function E(B){return d(function(D,S){var T=-1,P=S.length,F=P>1?S[P-1]:void 0,x=P>2?S[2]:void 0;for(F=B.length>3&&typeof F=="function"?(P--,F):void 0,x&&C(S[0],S[1],x)&&(F=P<3?void 0:F,P=1),D=Object(D);++T<P;){var V=S[T];V&&B(D,V,T,F)}return D})}ie.exports=E},14974:ie=>{function f(t,d){if(!(d==="constructor"&&typeof t[d]=="function")&&d!="__proto__")return t[d]}ie.exports=f},83693:(ie,f,t)=>{var d=t(64894),C=t(40346);function E(B){return C(B)&&d(B)}ie.exports=E},73916:(ie,f,t)=>{var d=t(43360),C=t(30641),E=t(15389);function B(D,S){var T={};return S=E(S,3),C(D,function(P,F,x){d(T,F,S(P,F,x))}),T}ie.exports=B},55364:(ie,f,t)=>{var d=t(85250),C=t(20999),E=C(function(B,D,S){d(B,D,S)});ie.exports=E},6924:(ie,f,t)=>{var d=t(85250),C=t(20999),E=C(function(B,D,S,T){d(B,D,S,T)});ie.exports=E},71086:(ie,f,t)=>{var d=t(34932),C=t(15389),E=t(97420),B=t(83349);function D(S,T){if(S==null)return{};var P=d(B(S),function(F){return[F]});return T=C(T),E(S,P,function(F,x){return T(F,x[0])})}ie.exports=D},22331:(ie,f,t)=>{var d=t(87133),C=t(77556),E=t(61489),B=t(13222);function D(S,T,P){return S=B(S),P=P==null?0:d(E(P),0,S.length),T=C(T),S.slice(P,P+T.length)==T}ie.exports=D},69884:(ie,f,t)=>{var d=t(21791),C=t(37241);function E(B){return d(B,C(B))}ie.exports=E},53263:(ie,f,t)=>{"use strict";var d=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.setDragStart=f.setDragProgress=f.setDragEnd=void 0;var C=B(t(1476));function E(P){if(typeof WeakMap!="function")return null;var F=new WeakMap,x=new WeakMap;return(E=function(U){return U?x:F})(P)}function B(P,F){if(!F&&P&&P.__esModule)return P;if(P===null||d(P)!=="object"&&typeof P!="function")return{default:P};var x=E(F);if(x&&x.has(P))return x.get(P);var V={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var J in P)if(J!=="default"&&Object.prototype.hasOwnProperty.call(P,J)){var K=U?Object.getOwnPropertyDescriptor(P,J):null;K&&(K.get||K.set)?Object.defineProperty(V,J,K):V[J]=P[J]}return V.default=P,x&&x.set(P,V),V}var D=function(F,x){return{type:C.SET_DRAG_PROGRESS,mousePos:F,dragging:x}};f.setDragProgress=D;var S=function(F,x,V){return{type:C.SET_DRAG_START,dragStart:F,dragging:x,mousePos:V}};f.setDragStart=S;var T=function(){return{type:C.SET_DRAG_END}};f.setDragEnd=T},99266:(ie,f,t)=>{"use strict";var d=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.setNot=f.setLock=f.setConjunction=void 0;var C=D(t(1476)),E=t(46897);function B(F){if(typeof WeakMap!="function")return null;var x=new WeakMap,V=new WeakMap;return(B=function(J){return J?V:x})(F)}function D(F,x){if(!x&&F&&F.__esModule)return F;if(F===null||d(F)!=="object"&&typeof F!="function")return{default:F};var V=B(x);if(V&&V.has(F))return V.get(F);var U={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var K in F)if(K!=="default"&&Object.prototype.hasOwnProperty.call(F,K)){var ee=J?Object.getOwnPropertyDescriptor(F,K):null;ee&&(ee.get||ee.set)?Object.defineProperty(U,K,ee):U[K]=F[K]}return U.default=F,V&&V.set(F,U),U}var S=function(x,V,U){return{type:C.SET_CONJUNCTION,path:(0,E.toImmutableList)(V),conjunction:U}};f.setConjunction=S;var T=function(x,V,U){return{type:C.SET_NOT,path:(0,E.toImmutableList)(V),not:U}};f.setNot=T;var P=function(x,V,U){return{type:C.SET_LOCK,path:(0,E.toImmutableList)(V),lock:U}};f.setLock=P},63597:(ie,f,t)=>{"use strict";var d=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.tree=f.rule=f.group=f.drag=void 0;var C=T(t(44725));f.tree=C;var E=T(t(99266));f.group=E;var B=T(t(33687));f.rule=B;var D=T(t(53263));f.drag=D;function S(P){if(typeof WeakMap!="function")return null;var F=new WeakMap,x=new WeakMap;return(S=function(U){return U?x:F})(P)}function T(P,F){if(!F&&P&&P.__esModule)return P;if(P===null||d(P)!=="object"&&typeof P!="function")return{default:P};var x=S(F);if(x&&x.has(P))return x.get(P);var V={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var J in P)if(J!=="default"&&Object.prototype.hasOwnProperty.call(P,J)){var K=U?Object.getOwnPropertyDescriptor(P,J):null;K&&(K.get||K.set)?Object.defineProperty(V,J,K):V[J]=P[J]}return V.default=P,x&&x.set(P,V),V}},33687:(ie,f,t)=>{"use strict";var d=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.setValueSrc=f.setValue=f.setOperatorOption=f.setOperator=f.setField=void 0;var C=D(t(1476)),E=t(46897);function B(V){if(typeof WeakMap!="function")return null;var U=new WeakMap,J=new WeakMap;return(B=function(ee){return ee?J:U})(V)}function D(V,U){if(!U&&V&&V.__esModule)return V;if(V===null||d(V)!=="object"&&typeof V!="function")return{default:V};var J=B(U);if(J&&J.has(V))return J.get(V);var K={},ee=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in V)if(I!=="default"&&Object.prototype.hasOwnProperty.call(V,I)){var X=ee?Object.getOwnPropertyDescriptor(V,I):null;X&&(X.get||X.set)?Object.defineProperty(K,I,X):K[I]=V[I]}return K.default=V,J&&J.set(V,K),K}var S=function(U,J,K){return{type:C.SET_FIELD,path:(0,E.toImmutableList)(J),field:K,config:U}};f.setField=S;var T=function(U,J,K){return{type:C.SET_OPERATOR,path:(0,E.toImmutableList)(J),operator:K,config:U}};f.setOperator=T;var P=function(U,J,K,ee,I,X,R){return{type:C.SET_VALUE,path:(0,E.toImmutableList)(J),delta:K,value:ee,valueType:I,asyncListValues:X,config:U,__isInternal:R}};f.setValue=P;var F=function(U,J,K,ee){return{type:C.SET_VALUE_SRC,path:(0,E.toImmutableList)(J),delta:K,srcKey:ee,config:U}};f.setValueSrc=F;var x=function(U,J,K,ee){return{type:C.SET_OPERATOR_OPTION,path:(0,E.toImmutableList)(J),name:K,value:ee,config:U}};f.setOperatorOption=x},44725:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.setTree=f.removeRule=f.removeGroup=f.moveItem=f.addRule=f.addGroup=f.addDefaultCaseGroup=f.addCaseGroup=void 0;var E=d(t(21428)),B=t(46897),D=t(68429),S=F(t(1476)),T=d(t(36940));function P(R){if(typeof WeakMap!="function")return null;var W=new WeakMap,M=new WeakMap;return(P=function(z){return z?M:W})(R)}function F(R,W){if(!W&&R&&R.__esModule)return R;if(R===null||C(R)!=="object"&&typeof R!="function")return{default:R};var M=P(W);if(M&&M.has(R))return M.get(R);var G={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var q in R)if(q!=="default"&&Object.prototype.hasOwnProperty.call(R,q)){var _=z?Object.getOwnPropertyDescriptor(R,q):null;_&&(_.get||_.set)?Object.defineProperty(G,q,_):G[q]=R[q]}return G.default=R,M&&M.set(R,G),G}var x=function(W,M){return{type:S.SET_TREE,tree:M,config:W}};f.setTree=x;var V=function(W,M,G){var z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"rule",q=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;return{type:S.ADD_RULE,ruleType:z,children:q,path:(0,B.toImmutableList)(M),id:(0,E.default)(),properties:(0,D.defaultRuleProperties)(W).merge(G||{}),config:W}};f.addRule=V;var U=function(W,M){return{type:S.REMOVE_RULE,path:(0,B.toImmutableList)(M),config:W}};f.removeRule=U;var J=function(W,M,G){var z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{type:S.ADD_CASE_GROUP,path:(0,B.toImmutableList)(M),children:z,id:(0,E.default)(),properties:(0,D.defaultGroupProperties)(W).merge(G||{}),config:W,meta:{isDefaultCase:!0}}};f.addDefaultCaseGroup=J;var K=function(W,M,G){var z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{type:S.ADD_CASE_GROUP,path:(0,B.toImmutableList)(M),children:z,id:(0,E.default)(),properties:(0,D.defaultGroupProperties)(W).merge(G||{}),config:W}};f.addCaseGroup=K;var ee=function(W,M,G){var z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{type:S.ADD_GROUP,path:(0,B.toImmutableList)(M),children:z,id:(0,E.default)(),properties:(0,D.defaultGroupProperties)(W).merge(G||{}),config:W}};f.addGroup=ee;var I=function(W,M){return{type:S.REMOVE_GROUP,path:(0,B.toImmutableList)(M),config:W}};f.removeGroup=I;var X=function(W,M,G,z){return{type:S.MOVE_ITEM,fromPath:(0,B.toImmutableList)(M),toPath:(0,B.toImmutableList)(G),placement:z,config:W}};f.moveItem=X},11001:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var E=d(t(17383)),B=d(t(34579)),D=d(t(29511)),S=d(t(28452)),T=d(t(63072)),P=W(t(96540)),F=d(t(5556)),x=W(t(36940)),V=t(20593),U=d(t(68668)),J=t(8930),K=d(t(21428)),ee=t(15203),I,X;function R(q){if(typeof WeakMap!="function")return null;var _=new WeakMap,Y=new WeakMap;return(R=function(y){return y?Y:_})(q)}function W(q,_){if(!_&&q&&q.__esModule)return q;if(q===null||C(q)!=="object"&&typeof q!="function")return{default:q};var Y=R(_);if(Y&&Y.has(q))return Y.get(q);var j={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in q)if(h!=="default"&&Object.prototype.hasOwnProperty.call(q,h)){var l=y?Object.getOwnPropertyDescriptor(q,h):null;l&&(l.get||l.set)?Object.defineProperty(j,h,l):j[h]=q[h]}return j.default=q,Y&&Y.set(q,j),j}function M(q){var _=G();return function(){var j=(0,T.default)(q),y;if(_){var h=(0,T.default)(this).constructor;y=Reflect.construct(j,arguments,h)}else y=j.apply(this,arguments);return(0,S.default)(this,y)}}function G(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var z=(0,U.default)(I=(X=function(q){(0,D.default)(Y,q);var _=M(Y);function Y(j){var y;return(0,E.default)(this,Y),y=_.call(this,j),y._updPath(j),y}return(0,B.default)(Y,[{key:"shouldComponentUpdate",value:function(y,h){var l=this.props,a=(0,ee.pureShouldComponentUpdate)(this)(y,h);if(a){var i=[];for(var u in y){var c=y[u]!==l[u];c&&u!="__isInternalValueChange"&&i.push(u)}i.length||(a=!1),i.length==1&&i[0]=="tree"&&y.__isInternalValueChange&&(a=!1)}return a}},{key:"_updPath",value:function(y){var h=y.tree.get("id");this.path=x.default.List.of(h)}},{key:"render",value:function(){var y=this.props.tree,h=y.get("type"),l=h=="switch_group",a=l?null:(0,J.getTotalReordableNodesCountInTree)(y),i=l?null:(0,J.getTotalRulesCountInTree)(y),u=y.get("id");return P.default.createElement(V.Item,{key:u,id:u,path:this.path,type:h,properties:y.get("properties")||new x.Map,config:this.props.config,actions:this.props.actions,children1:y.get("children1")||new x.Map,reordableNodesCnt:a,totalRulesCnt:i,parentReordableNodesCnt:0,onDragStart:this.props.onDragStart})}}]),Y}(P.Component),X.propTypes={tree:F.default.any.isRequired,config:F.default.object.isRequired,actions:F.default.object.isRequired,onDragStart:F.default.func},X))||I;f.default=z},52238:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var E=d(t(43693)),B=d(t(17383)),D=d(t(34579)),S=d(t(12475)),T=d(t(29511)),P=d(t(28452)),F=d(t(63072)),x=R(t(96540)),V=t(64249),U=d(t(81079)),J=d(t(5556)),K=R(t(63597)),ee=t(46897),I=t(15203);function X(j){if(typeof WeakMap!="function")return null;var y=new WeakMap,h=new WeakMap;return(X=function(a){return a?h:y})(j)}function R(j,y){if(!y&&j&&j.__esModule)return j;if(j===null||C(j)!=="object"&&typeof j!="function")return{default:j};var h=X(y);if(h&&h.has(j))return h.get(j);var l={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in j)if(i!=="default"&&Object.prototype.hasOwnProperty.call(j,i)){var u=a?Object.getOwnPropertyDescriptor(j,i):null;u&&(u.get||u.set)?Object.defineProperty(l,i,u):l[i]=j[i]}return l.default=j,h&&h.set(j,l),l}function W(j,y){var h=Object.keys(j);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(j);y&&(l=l.filter(function(a){return Object.getOwnPropertyDescriptor(j,a).enumerable})),h.push.apply(h,l)}return h}function M(j){for(var y=1;y<arguments.length;y++){var h=arguments[y]!=null?arguments[y]:{};y%2?W(Object(h),!0).forEach(function(l){(0,E.default)(j,l,h[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(h)):W(Object(h)).forEach(function(l){Object.defineProperty(j,l,Object.getOwnPropertyDescriptor(h,l))})}return j}function G(j){var y=z();return function(){var l=(0,F.default)(j),a;if(y){var i=(0,F.default)(this).constructor;a=Reflect.construct(l,arguments,i)}else a=l.apply(this,arguments);return(0,P.default)(this,a)}}function z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var q=function(j){(0,T.default)(h,j);var y=G(h);function h(l){var a;return(0,B.default)(this,h),a=y.call(this,l),a.shouldComponentUpdate=(0,I.liteShouldComponentUpdate)((0,S.default)(a),{tree:function(u){return!(u===a.oldValidatedTree&&a.oldValidatedTree===a.validatedTree)}}),(0,I.useOnPropsChanged)((0,S.default)(a)),a._updateActions(l),a.validatedTree=l.getMemoizedTree(l.config,l.tree),a.oldValidatedTree=a.validatedTree,a}return(0,D.default)(h,[{key:"_updateActions",value:function(a){var i=a.config,u=a.dispatch;this.actions=(0,I.bindActionCreators)(M(M(M({},K.tree),K.group),K.rule),i,u)}},{key:"onPropsChanged",value:function(a){var i=a.onChange,u=this.props.config,c=a.tree,v=this.props.tree,m=a.config;this.oldValidatedTree=this.validatedTree,this.validatedTree=c,u!==m&&(this._updateActions(a),this.validatedTree=a.getMemoizedTree(m,c,u));var o=!(0,ee.immutableEqual)(this.validatedTree,this.oldValidatedTree);o&&i&&i(this.validatedTree,m,a.__lastAction)}},{key:"render",value:function(){var a=this.props,i=a.config,u=a.renderBuilder,c=a.dispatch,v=a.__isInternalValueChange,m={tree:this.validatedTree,actions:this.actions,config:i,dispatch:c,__isInternalValueChange:v};return u(m)}}]),h}(x.Component);q.propTypes={config:J.default.object.isRequired,onChange:J.default.func,renderBuilder:J.default.func,tree:J.default.any};var _=(0,V.connect)(function(j){return{tree:j.tree,__isInternalValueChange:j.__isInternalValueChange,__lastAction:j.__lastAction}},null,null,{context:U.default})(q);_.displayName="ConnectedQuery";var Y=_;f.default=Y},89327:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var E=d(t(17383)),B=d(t(34579)),D=d(t(12475)),S=d(t(29511)),T=d(t(28452)),P=d(t(63072)),F=q(t(96540)),x=d(t(5556)),V=d(t(38410)),U=d(t(81079)),J=t(28895),K=t(64249),ee=q(t(63597)),I=t(67212),X=t(46897),R=t(68429),W=t(33588),M=t(15203),G=d(t(52238));function z(y){if(typeof WeakMap!="function")return null;var h=new WeakMap,l=new WeakMap;return(z=function(i){return i?l:h})(y)}function q(y,h){if(!h&&y&&y.__esModule)return y;if(y===null||C(y)!=="object"&&typeof y!="function")return{default:y};var l=z(h);if(l&&l.has(y))return l.get(y);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in y)if(u!=="default"&&Object.prototype.hasOwnProperty.call(y,u)){var c=i?Object.getOwnPropertyDescriptor(y,u):null;c&&(c.get||c.set)?Object.defineProperty(a,u,c):a[u]=y[u]}return a.default=y,l&&l.set(y,a),a}function _(y){var h=Y();return function(){var a=(0,P.default)(y),i;if(h){var u=(0,P.default)(this).constructor;i=Reflect.construct(a,arguments,u)}else i=a.apply(this,arguments);return(0,T.default)(this,i)}}function Y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var j=function(y){(0,S.default)(l,y);var h=_(l);function l(a,i){var u;(0,E.default)(this,l),u=h.call(this,a,i),u.shouldComponentUpdate=(0,M.liteShouldComponentUpdate)((0,D.default)(u),{value:function(p,s,O){return!1}}),(0,M.useOnPropsChanged)((0,D.default)(u)),u.getMemoizedConfig=(0,I.createConfigMemo)(),u.getMemoizedTree=(0,W.createValidationMemo)();var c=u.getMemoizedConfig(a),v=a.value,m=u.getMemoizedTree(c,v),o=(0,V.default)(c,m,u.getMemoizedTree),n=(0,J.createStore)(o);return u.state={store:n,config:c},u}return(0,B.default)(l,[{key:"onPropsChanged",value:function(i){var u=this,c=this.state.config,v=this.getMemoizedConfig(i),m=c!==v,o=this.state.store.getState().tree,n=!(0,X.immutableEqual)(i.value,this.props.value)&&!(0,X.immutableEqual)(i.value,o),r=n?i.value||(0,R.defaultRoot)(i):o;if(m&&this.setState({config:v}),n||m){var p=this.getMemoizedTree(v,r,c);return Promise.resolve().then(function(){u.state.store.dispatch(ee.tree.setTree(v,p))})}}},{key:"render",value:function(){var i=this.props,u=i.renderBuilder,c=i.get_children,v=i.onChange,m=i.settings,o=this.state,n=o.config,r=o.store,p=m.renderProvider;return F.default.createElement(p,{config:n},F.default.createElement(K.Provider,{store:r,context:U.default},F.default.createElement(G.default,{config:n,getMemoizedTree:this.getMemoizedTree,onChange:v,renderBuilder:u||c})))}}]),l}(F.Component);f.default=j,j.propTypes={conjunctions:x.default.object.isRequired,fields:x.default.object.isRequired,types:x.default.object.isRequired,operators:x.default.object.isRequired,widgets:x.default.object.isRequired,settings:x.default.object.isRequired,onChange:x.default.func,renderBuilder:x.default.func,value:x.default.any}},58700:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var E=d(t(94634)),B=d(t(91847)),D=d(t(17383)),S=d(t(34579)),T=d(t(29511)),P=d(t(28452)),F=d(t(63072)),x=ee(t(96540)),V=d(t(5556)),U=t(68668),J=["isDraggingTempo","isDraggingMe","dragging"];function K(M){if(typeof WeakMap!="function")return null;var G=new WeakMap,z=new WeakMap;return(K=function(_){return _?z:G})(M)}function ee(M,G){if(!G&&M&&M.__esModule)return M;if(M===null||C(M)!=="object"&&typeof M!="function")return{default:M};var z=K(G);if(z&&z.has(M))return z.get(M);var q={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Y in M)if(Y!=="default"&&Object.prototype.hasOwnProperty.call(M,Y)){var j=_?Object.getOwnPropertyDescriptor(M,Y):null;j&&(j.get||j.set)?Object.defineProperty(q,Y,j):q[Y]=M[Y]}return q.default=M,z&&z.set(M,q),q}function I(M){var G=X();return function(){var q=(0,F.default)(M),_;if(G){var Y=(0,F.default)(this).constructor;_=Reflect.construct(q,arguments,Y)}else _=q.apply(this,arguments);return(0,P.default)(this,_)}}function X(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var R=t(46942),W=function(G){return function(z){var q;return q=function(_){(0,T.default)(j,_);var Y=I(j);function j(y){var h;return(0,D.default)(this,j),h=Y.call(this,y),h.handleDraggerMouseDown=function(l){var a=h.props.id,i=h.wrapper.current;h.props.onDragStart&&h.props.onDragStart(a,i,l)},h.wrapper=x.default.createRef(),h}return(0,S.default)(j,[{key:"render",value:function(){var h=this.props,l=h.isDraggingTempo,a=h.isDraggingMe,i=h.dragging,u=(0,B.default)(h,J),c=u.isTrueLocked,v={};a&&l&&(U._isReorderingTree||(v={top:i.y,left:i.x,width:i.w}));var m=R(G,"group-or-rule",a&&l?"qb-draggable":null,a&&!l?"qb-placeholder":null,c?"locked":null);return x.default.createElement("div",{className:m,style:v,ref:this.wrapper,"data-id":this.props.id},x.default.createElement(z,(0,E.default)({handleDraggerMouseDown:this.handleDraggerMouseDown,isDraggingMe:a,isDraggingTempo:l},u)))}}]),j}(x.PureComponent),q.propTypes={isDraggingTempo:V.default.bool,isDraggingMe:V.default.bool,onDragStart:V.default.func,dragging:V.default.object,isLocked:V.default.bool,isTrueLocked:V.default.bool},q}};f.default=W},43253:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var E=d(t(17383)),B=d(t(34579)),D=d(t(12475)),S=d(t(29511)),T=d(t(28452)),P=d(t(63072)),F=X(t(96540)),x=d(t(5556)),V=d(t(73916)),U=d(t(81079)),J=t(15203),K=t(64249),ee=t(68429);function I(z){if(typeof WeakMap!="function")return null;var q=new WeakMap,_=new WeakMap;return(I=function(j){return j?_:q})(z)}function X(z,q){if(!q&&z&&z.__esModule)return z;if(z===null||C(z)!=="object"&&typeof z!="function")return{default:z};var _=I(q);if(_&&_.has(z))return _.get(z);var Y={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in z)if(y!=="default"&&Object.prototype.hasOwnProperty.call(z,y)){var h=j?Object.getOwnPropertyDescriptor(z,y):null;h&&(h.get||h.set)?Object.defineProperty(Y,y,h):Y[y]=z[y]}return Y.default=z,_&&_.set(z,Y),Y}function R(z){var q=W();return function(){var Y=(0,P.default)(z),j;if(q){var y=(0,P.default)(this).constructor;j=Reflect.construct(Y,arguments,y)}else j=Y.apply(this,arguments);return(0,T.default)(this,j)}}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var M=function(q){var _;return _=function(Y){(0,S.default)(y,Y);var j=R(y);function y(h){var l;return(0,E.default)(this,y),l=j.call(this,h),l._selectedConjunction=function(a){return a=a||l.props,a.conjunction||(0,ee.defaultGroupConjunction)(a.config,a.field)},l.setConjunction=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;l.props.actions.setConjunction(l.props.path,a)},l.setNot=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;l.props.actions.setNot(l.props.path,a)},l.setLock=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;l.props.actions.setLock(l.props.path,a)},l.dummyFn=function(){},l.removeSelf=function(){l.props.actions.removeGroup(l.props.path)},l.addGroup=function(){l.props.actions.addGroup(l.props.path)},l.addCaseGroup=function(){l.props.actions.addCaseGroup(l.props.path)},l.addDefaultCaseGroup=function(){l.props.actions.addDefaultCaseGroup(l.props.path)},l.addRule=function(){l.props.actions.addRule(l.props.path)},l.setField=function(a){l.props.actions.setField(l.props.path,a)},l.setOperator=function(a){l.props.actions.setOperator(l.props.path,a)},l.setValue=function(a,i,u){l.props.actions.setValue(l.props.path,a,i,u)},(0,J.useOnPropsChanged)((0,D.default)(l)),l.selectedConjunction=l._selectedConjunction(h),l.conjunctionOptions=l._getConjunctionOptions(h),l.dummyFn.isDummyFn=!0,l}return(0,B.default)(y,[{key:"shouldComponentUpdate",value:function(l,a){var i=this.props,u=this.state,c=(0,J.pureShouldComponentUpdate)(this)(l,a);if(c&&u==a&&i!=l){var v=l.dragging.id||i.dragging.id,m=v==l.id,o=[];for(var n in l){var r=l[n]!=i[n];n=="dragging"&&!m&&(r=!1),r&&o.push(n)}o.length||(c=!1)}return c}},{key:"onPropsChanged",value:function(l){var a=l.config,i=l.id,u=l.conjunction,c=this.props.config,v=this.props.conjunction;(c!=a||v!=u)&&(this.selectedConjunction=this._selectedConjunction(l),this.conjunctionOptions=this._getConjunctionOptions(l))}},{key:"_getConjunctionOptions",value:function(l){var a=this;return(0,V.default)(l.config.conjunctions,function(i,u){return{id:"conjunction-".concat(l.id,"-").concat(u),name:"conjunction[".concat(l.id,"]"),key:u,label:i.label,checked:u===a._selectedConjunction(l)}})}},{key:"render",value:function(){var l=this.props.dragging.id==this.props.id,a=this.props.path.size,i=this.props.config.settings.maxNesting,u=!l&&this.props.isDraggingTempo,c=typeof i>"u"||a<i,v=a==1;return F.default.createElement("div",{className:"group-or-rule-container group-container","data-id":this.props.id},[l?F.default.createElement(q,{key:"dragging",id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,isRoot:v,allowFurtherNesting:c,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:this.dummyFn,setNot:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,addGroup:this.dummyFn,addCaseGroup:this.dummyFn,addDefaultCaseGroup:this.dummyFn,addRule:this.dummyFn,setField:this.dummyFn,setOperator:this.dummyFn,setValue:this.dummyFn,value:this.props.value||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt}):null,F.default.createElement(q,{key:this.props.id,id:this.props.id,groupId:this.props.groupId,isDraggingMe:l,isDraggingTempo:u,onDragStart:this.props.onDragStart,isRoot:v,allowFurtherNesting:c,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:u?this.dummyFn:this.setConjunction,setNot:u?this.dummyFn:this.setNot,setLock:u?this.dummyFn:this.setLock,removeSelf:u?this.dummyFn:this.removeSelf,addGroup:u?this.dummyFn:this.addGroup,addCaseGroup:u?this.dummyFn:this.addCaseGroup,addDefaultCaseGroup:u?this.dummyFn:this.addDefaultCaseGroup,addRule:u?this.dummyFn:this.addRule,setField:u?this.dummyFn:this.setField,setOperator:u?this.dummyFn:this.setOperator,setValue:u?this.dummyFn:this.setValue,value:this.props.value||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt})])}}]),y}(F.Component),_.propTypes={config:x.default.object.isRequired,actions:x.default.object.isRequired,path:x.default.any.isRequired,id:x.default.string.isRequired,groupId:x.default.string,not:x.default.bool,conjunction:x.default.string,children1:x.default.any,onDragStart:x.default.func,reordableNodesCnt:x.default.number,field:x.default.string,parentField:x.default.string,isLocked:x.default.bool,isTrueLocked:x.default.bool,dragging:x.default.object,isDraggingTempo:x.default.bool},_},G=function(q){var _=(0,K.connect)(function(Y){return{dragging:Y.dragging}},null,null,{context:U.default})(M(q));return _.displayName="ConnectedGroupContainer",_};f.default=G},57258:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var E=d(t(17383)),B=d(t(34579)),D=d(t(29511)),S=d(t(28452)),T=d(t(63072)),P=ee(t(96540)),F=d(t(5556)),x=d(t(81079)),V=t(67212),U=t(15203),J=t(64249);function K(G){if(typeof WeakMap!="function")return null;var z=new WeakMap,q=new WeakMap;return(K=function(Y){return Y?q:z})(G)}function ee(G,z){if(!z&&G&&G.__esModule)return G;if(G===null||C(G)!=="object"&&typeof G!="function")return{default:G};var q=K(z);if(q&&q.has(G))return q.get(G);var _={},Y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var j in G)if(j!=="default"&&Object.prototype.hasOwnProperty.call(G,j)){var y=Y?Object.getOwnPropertyDescriptor(G,j):null;y&&(y.get||y.set)?Object.defineProperty(_,j,y):_[j]=G[j]}return _.default=G,q&&q.set(G,_),_}function I(G){var z=X();return function(){var _=(0,T.default)(G),Y;if(z){var j=(0,T.default)(this).constructor;Y=Reflect.construct(_,arguments,j)}else Y=_.apply(this,arguments);return(0,S.default)(this,Y)}}function X(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var R=t(46942),W=function(z){var q;return q=function(_){(0,D.default)(j,_);var Y=I(j);function j(y){var h;return(0,E.default)(this,j),h=Y.call(this,y),h.dummyFn=function(){},h.removeSelf=function(){h.props.actions.removeRule(h.props.path)},h.setLock=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;h.props.actions.setLock(h.props.path,l)},h.setField=function(l){h.props.actions.setField(h.props.path,l)},h.setOperator=function(l){h.props.actions.setOperator(h.props.path,l)},h.setOperatorOption=function(l,a){h.props.actions.setOperatorOption(h.props.path,l,a)},h.setValue=function(l,a,i,u,c){h.props.actions.setValue(h.props.path,l,a,i,u,c)},h.setValueSrc=function(l,a){h.props.actions.setValueSrc(h.props.path,l,a)},h.dummyFn.isDummyFn=!0,h}return(0,B.default)(j,[{key:"shouldComponentUpdate",value:function(h,l){var a=this.props,i=this.state,u=(0,U.pureShouldComponentUpdate)(this)(h,l);if(u&&i==l&&a!=h){var c=h.dragging.id||a.dragging.id,v=c==h.id,m=[];for(var o in h){var n=h[o]!=a[o];o=="dragging"&&!v&&(n=!1),n&&m.push(o)}m.length||(u=!1)}return u}},{key:"render",value:function(){var h=this.props.dragging.id==this.props.id,l=(0,V.getFieldConfig)(this.props.config,this.props.field),a=this.props.config.settings.showErrorMessage,i=l&&l.type=="!struct",u=!h&&this.props.isDraggingTempo,c=this.props.valueError,v=c&&c.toArray().filter(function(o){return!!o}).shift()||null,m=v!=null&&a;return P.default.createElement("div",{className:R("group-or-rule-container","rule-container",m?"rule-with-error":null),"data-id":this.props.id},[h?P.default.createElement(z,{key:"dragging",id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,setField:this.dummyFn,setOperator:this.dummyFn,setOperatorOption:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,setValue:this.dummyFn,setValueSrc:this.dummyFn,selectedField:this.props.field||null,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueError:this.props.valueError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt}):null,P.default.createElement(z,{key:this.props.id,id:this.props.id,groupId:this.props.groupId,isDraggingMe:h,isDraggingTempo:u,onDragStart:this.props.onDragStart,setLock:u?this.dummyFn:this.setLock,removeSelf:u?this.dummyFn:this.removeSelf,setField:u?this.dummyFn:this.setField,setOperator:u?this.dummyFn:this.setOperator,setOperatorOption:u?this.dummyFn:this.setOperatorOption,setValue:u?this.dummyFn:this.setValue,setValueSrc:u?this.dummyFn:this.setValueSrc,selectedField:this.props.field||null,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueError:this.props.valueError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt})])}}]),j}(P.Component),q.propTypes={id:F.default.string.isRequired,groupId:F.default.string,config:F.default.object.isRequired,path:F.default.any.isRequired,operator:F.default.string,field:F.default.string,actions:F.default.object.isRequired,onDragStart:F.default.func,value:F.default.any,valueSrc:F.default.any,asyncListValues:F.default.array,valueError:F.default.any,operatorOptions:F.default.object,reordableNodesCnt:F.default.number,parentField:F.default.string,isLocked:F.default.bool,isTrueLocked:F.default.bool,dragging:F.default.object,isDraggingTempo:F.default.bool},q},M=function(z){var q=(0,J.connect)(function(_){return{dragging:_.dragging}},null,null,{context:x.default})(W(z));return q.displayName="ConnectedRuleContainer",q};f.default=M},68668:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.default=f._isReorderingTree=void 0;var E=d(t(94634)),B=d(t(41132)),D=d(t(17383)),S=d(t(34579)),T=d(t(12475)),P=d(t(29511)),F=d(t(28452)),x=d(t(63072)),V=z(t(96540)),U=t(64249),J=t(8930),K=t(46897),ee=d(t(81079)),I=z(t(1476)),X=d(t(1779)),R=d(t(5556)),W=z(t(63597)),M=t(15203);function G(h){if(typeof WeakMap!="function")return null;var l=new WeakMap,a=new WeakMap;return(G=function(u){return u?a:l})(h)}function z(h,l){if(!l&&h&&h.__esModule)return h;if(h===null||C(h)!=="object"&&typeof h!="function")return{default:h};var a=G(l);if(a&&a.has(h))return a.get(h);var i={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in h)if(c!=="default"&&Object.prototype.hasOwnProperty.call(h,c)){var v=u?Object.getOwnPropertyDescriptor(h,c):null;v&&(v.get||v.set)?Object.defineProperty(i,c,v):i[c]=h[c]}return i.default=h,a&&a.set(h,i),i}function q(h){var l=_();return function(){var i=(0,x.default)(h),u;if(l){var c=(0,x.default)(this).constructor;u=Reflect.construct(i,arguments,c)}else u=i.apply(this,arguments);return(0,F.default)(this,u)}}function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Y=!1;f._isReorderingTree=Y;var j=function(l){var a,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return a=function(u){(0,P.default)(v,u);var c=q(v);function v(m){var o;return(0,D.default)(this,v),o=c.call(this,m),o._getEventTarget=function(n,r){return n&&n.__mocked_window||document.body||window},o.onDragStart=function(n,r,p){var s=r.closest(".query-builder");o._isUsingLegacyReactDomRender===void 0&&(o._isUsingLegacyReactDomRender=(0,M.isUsingLegacyReactDomRender)(s)),document.body.classList.add("qb-dragging"),s.classList.add("qb-dragging");var O=s.closest(".query-builder-container")||s;O=o._getScrollParent(O)||document.body;var b=O.scrollTop,Q=o._getDraggableNodeEl(s),H=o._getPlaceholderNodeEl(s),L=s.querySelectorAll(".group--children"),N=L.length?L[0]:null,w;N&&(w=window.getComputedStyle(N,null).getPropertyValue("padding-left"),w=parseInt(w));var $={id:n,x:r.offsetLeft,y:r.offsetTop,w:r.offsetWidth,h:r.offsetHeight,itemInfo:o.tree.items[n],paddingLeft:w},te={id:n,x:r.offsetLeft,y:r.offsetTop,scrollTop:b,clientX:p.clientX,clientY:p.clientY,itemInfo:(0,X.default)(o.tree.items[n]),treeEl:s,treeElContainer:O},re={clientX:p.clientX,clientY:p.clientY},ue=o._getEventTarget(p,te);o.eventTarget=ue,ue.addEventListener("mousemove",o.onDrag),ue.addEventListener("mouseup",o.onDragEnd),o.props.setDragStart(te,$,re)},o.onDrag=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,p=Object.assign({},o.props.dragging),s=o.props.dragStart,O=p.paddingLeft,b=s.treeElContainer,Q=b.scrollTop;if(p.itemInfo=o.tree.items[p.id],!!p.itemInfo){var H={clientX:n.clientX,clientY:n.clientY},L={clientX:s.clientX,clientY:s.clientY};if(n.__mock_dom){var N=s.treeEl,w=o._getDraggableNodeEl(N),$=o._getPlaceholderNodeEl(N);n.__mock_dom({treeEl:N,dragEl:w,plhEl:$})}if(!s.plX){var te=s.treeEl,re=o._getPlaceholderNodeEl(te);re&&(s.plX=re.getBoundingClientRect().left+window.scrollX,s.plY=re.getBoundingClientRect().top+window.scrollY)}var ue=s.x,ne=s.y,pe=s.clientX,se=s.clientY,ve=s.scrollTop,me={x:ue+(n.clientX-pe),y:ne+(n.clientY-se)+(Q-ve)};p.x=me.x,p.y=me.y,p.paddingLeft=O,p.mousePos=H,p.startMousePos=L,o.props.setDragProgress(H,p);var ye=r?o.handleDrag(p,n,i):!1;ye||n.preventDefault&&n.preventDefault()}},o.onDragEnd=function(){var n=o.props.dragStart.treeEl;o.props.setDragEnd(),n.classList.remove("qb-dragging"),document.body.classList.remove("qb-dragging"),o._cacheEls={};var r=o.eventTarget||o._getEventTarget();r.removeEventListener("mousemove",o.onDrag),r.removeEventListener("mouseup",o.onDragEnd)},(0,M.useOnPropsChanged)((0,T.default)(o)),o.onPropsChanged(m),o}return(0,S.default)(v,[{key:"onPropsChanged",value:function(o){this.tree=(0,J.getFlatTree)(o.tree)}},{key:"shouldComponentUpdate",value:function(o,n){var r=this.props,p=this.state,s=(0,M.pureShouldComponentUpdate)(this)(o,n);if(s&&p==n&&r!=o){var O=[];for(var b in o){var Q=o[b]!=r[b];Q&&b!="dragging"&&b!="mousePos"&&O.push(b)}O.length||(s=!1)}return s}},{key:"componentDidUpdate",value:function(o,n){var r=this.props.dragging,p=this.props.dragStart;if(f._isReorderingTree=Y=!1,p&&p.id&&(r.itemInfo=this.tree.items[r.id],r.itemInfo&&(r.itemInfo.index!=p.itemInfo.index||r.itemInfo.parent!=p.itemInfo.parent))){var s=p.treeEl,O=p.treeElContainer,b=this._getPlaceholderNodeEl(s,!0);if(b){var Q=b.getBoundingClientRect().left+window.scrollX,H=b.getBoundingClientRect().top+window.scrollY,L=p.plX,N=p.plY,w=O.scrollTop;p.plX=Q,p.plY=H,p.itemInfo=(0,X.default)(r.itemInfo),p.y=b.offsetTop,p.x=b.offsetLeft,p.clientY+=H-N,p.clientX+=Q-L,O!=document.body&&(p.scrollTop=w),this.onDrag(this.props.mousePos,!1)}}}},{key:"_getNodeElById",value:function(o,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(n==null)return null;this._cacheEls||(this._cacheEls={});var p=this._cacheEls[n];return p&&document.contains(p)&&!r||(p=o.querySelector('.group-or-rule-container[data-id="'+n+'"]'),this._cacheEls[n]=p),p}},{key:"_getDraggableNodeEl",value:function(o){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._cacheEls||(this._cacheEls={});var r=this._cacheEls.draggable;if(r&&document.contains(r)&&!n)return r;var p=o.getElementsByClassName("qb-draggable");return r=p.length?p[0]:null,this._cacheEls.draggable=r,r}},{key:"_getPlaceholderNodeEl",value:function(o){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._cacheEls||(this._cacheEls={});var r=this._cacheEls.placeholder;if(r&&document.contains(r)&&!n)return r;var p=o.getElementsByClassName("qb-placeholder");return r=p.length?p[0]:null,this._cacheEls.placeholder=r,r}},{key:"_isScrollable",value:function(o){var n=window.getComputedStyle(o)["overflow-y"];return(n==="scroll"||n==="auto")&&o.scrollHeight>o.offsetHeight}},{key:"_getScrollParent",value:function(o){return o==null?null:o===document.body||this._isScrollable(o)?o:this._getScrollParent(o.parentNode)}},{key:"handleDrag",value:function(o,n,r){var p=this,s=!0,O=o.itemInfo,b=o.paddingLeft,Q=null,H=this.props.dragStart.treeEl,L=o.id,N=this._getDraggableNodeEl(H),w=this._getPlaceholderNodeEl(H),$,te,re,ue;if(N&&w){if($=N.getBoundingClientRect(),te=w.getBoundingClientRect(),!te.width)return;var ne={hrz:0,vrt:0};$.top<te.top?ne.vrt=-1:$.bottom>te.bottom&&(ne.vrt=1),$.left>te.left?ne.hrz=1:$.left<te.left&&(ne.hrz=-1),ue=H.getBoundingClientRect();var pe={x:ue.left+(ue.right-ue.left)/2,y:ne.vrt>=0?$.bottom:$.top},se;if(n.__mocked_hov_container)se=n.__mocked_hov_container;else{var ve=document.elementFromPoint(pe.x,pe.y-1);if(se=ve?ve.closest(".group-or-rule-container"):null,!se&&ve&&ve.classList.contains("query-builder-container")){var me,ye=ve==null||(me=ve.firstChild)===null||me===void 0?void 0:me.firstChild;ye&&ye.classList.contains("group-or-rule-container")&&(se=ye)}}if(!se)K.logger.log("out of tree bounds!");else{var Oe=se.classList.contains("group-container"),ge=se.getAttribute("data-id"),Te=se,Ne=!1,Ie=!1;if(Te){re=Te.getBoundingClientRect();var we=re.bottom-re.top,We=this.tree.items[ge],je=null,Ke=null,fe=null,de=null;if(ne.vrt==0)fe=O,Ke=w,Ke&&(je=Ke.getBoundingClientRect());else if(Oe){if(ne.vrt>0){var Pe=se.getElementsByClassName("group--header"),be=Pe.length?Pe[0]:null;if(be){var Re=be.getBoundingClientRect(),De=Re.bottom-Re.top,Ee=$.bottom-Re.top>De*3/4;Ee&&We.top>o.itemInfo.top&&(fe=We,je=Re,Ke=be,Ie=!0)}}else if(ne.vrt<0&&We.lev>=O.lev){var Ae=re.bottom-$.top>=2;Ae&&We.top<o.itemInfo.top&&(fe=We,je=re,Ke=Te,Ne=!0)}if(!Ie&&!Ne||s){var Be=ne.vrt<0?re.bottom-$.top>we-5:$.bottom-re.top>we-5;Be&&(!Ie&&!Ne&&(fe=We,je=re,Ke=Te),s&&(de=We))}}else{var $e=ne.vrt<0?re.bottom-$.top>we/2:$.bottom-re.top>we/2;$e&&(fe=We,je=re,Ke=Te)}var Ue=fe&&fe.id==L;if(je){var Je=$.left-ue.left,qe=je.left-ue.left,Qe=qe/b,ke=Math.max(0,Math.round(Je/b)),rt=[],et=[];if(!Ue){if(Oe&&(Ne?rt.push([I.PLACEMENT_APPEND,fe,fe.lev+1]):Ie&&rt.push([I.PLACEMENT_PREPEND,fe,fe.lev+1]),s&&de)){var it=de.lev==0,gt=de.type=="case_group"&&O.type!="case_group",He=de.prev&&this.tree.items[de.prev].caseId,ut=de.next&&this.tree.items[de.next].caseId;O.caseId==He&&(He=null),O.caseId==ut&&(ut=null);var mt=He&&this.tree.items[He],yt=ut&&this.tree.items[ut];ne.vrt>0?it?et.push([I.PLACEMENT_APPEND,de,de.lev+1]):gt&&yt?et.push([I.PLACEMENT_PREPEND,yt,yt.lev+1]):et.push([I.PLACEMENT_AFTER,de,de.lev]):ne.vrt<0&&(it?et.push([I.PLACEMENT_PREPEND,de,de.lev+1]):gt&&mt?et.push([I.PLACEMENT_APPEND,mt,mt.lev+1]):et.push([I.PLACEMENT_BEFORE,de,de.lev]))}!Ne&&!Ie&&(ne.vrt<0?rt.push([I.PLACEMENT_BEFORE,fe,fe.lev]):ne.vrt>0&&rt.push([I.PLACEMENT_AFTER,fe,fe.lev]))}var Ot=function(Xe){var _e=Xe[1],Me=O.caseId?p.tree.items[O.caseId]:null,Ct=_e.caseId?p.tree.items[_e.caseId]:null;return[].concat((0,B.default)(Xe),[Me,Ct])};rt=rt.map(Ot),et=et.map(Ot),rt=rt.filter(function(Ve){var Xe=Ve[0],_e=Ve[1];if((Xe==I.PLACEMENT_BEFORE||Xe==I.PLACEMENT_AFTER)&&_e.parent==null||_e.collapsed&&(Xe==I.PLACEMENT_APPEND||Xe==I.PLACEMENT_PREPEND))return!1;var Me=_e.id==O.id;if(!Me){for(var Ct=_e;Ct.parent;)if(Ct=p.tree.items[Ct.parent],Ct.id==O.id){Me=!0;break}}return!Me}).map(function(Ve){var Xe=Ve[0],_e=Ve[1],Me=Ve[2],Ct=Ve[3],Et=Ve[4],Rt=null;return Xe==I.PLACEMENT_APPEND||Xe==I.PLACEMENT_PREPEND?Rt=_e:Rt=p.tree.items[_e.parent],Rt&&Rt.parent==null&&(Rt=null),Ve[5]=Rt,Ve});var tt=null,at=rt.filter(function(Ve){return p.canMove(O,Ve[1],Ve[0],Ve[3],Ve[4],Ve[5],r)});s&&at.length==0&&et.length>0&&(at=et.filter(function(Ve){return p.canMove(O,Ve[1],Ve[0],Ve[3],Ve[4],Ve[5],r)}));var ht=at.map(function(Ve){return Ve[2]}),ot=O.lev,Tt=ht.concat(ot),dt=null;Tt.indexOf(ke)!=-1?dt=ke:ke>Math.max.apply(Math,(0,B.default)(Tt))?dt=Math.max.apply(Math,(0,B.default)(Tt)):ke<Math.min.apply(Math,(0,B.default)(Tt))&&(dt=Math.min.apply(Math,(0,B.default)(Tt))),tt=at.find(function(Ve){return Ve[2]==dt}),!Ue&&!tt&&at.length&&(tt=at[0]),Q=tt}}}}return Q?(this.move(O,Q[1],Q[0],Q[3]),!0):!1}},{key:"canMove",value:function(o,n,r,p,s,O,b){if(!o||!n||o.id===n.id)return!1;var Q=this.props.config.settings,H=Q.canRegroup,L=Q.canRegroupCases,N=Q.maxNesting,w=Q.maxNumberOfRules,$=Q.canLeaveEmptyCase,te=O?O.lev+1:n.lev,re=r==I.PLACEMENT_BEFORE||r==I.PLACEMENT_AFTER,ue=r==I.PLACEMENT_PREPEND||r==I.PLACEMENT_APPEND,ne=re&&n.lev==1||ue&&n.lev==0,pe=o.parent!=n.parent,se=ue||pe,ve=o.type=="case_group"&&!ne||o.parentType=="rule_group"||n.type=="rule_group"||n.parentType=="rule_group"||o.type!="case_group"&&n.type=="case_group"&&re||o.type!="case_group"&&n.type=="switch_group"||!L&&o.caseId!=n.caseId,me=n.isLocked||o.isLocked||O&&O.isLocked;if(N&&te>N||se&&(!H||ve||me))return!1;if(o.type!="case_group"&&o.caseId!=n.caseId){var ye=p?p._height==2:!1,Oe=s?s.leafsCount+1:0;if(w&&Oe>w||ye&&!$)return!1}if(o.type=="case_group"&&(o.isDefaultCase||n.isDefaultCase||n.type=="switch_group"&&r==I.PLACEMENT_APPEND))return!1;var ge=!0;return b&&(ge=b(o.node.toJS(),n.node.toJS(),r,O?O.node.toJS():null)),ge}},{key:"move",value:function(o,n,r,p){this._isUsingLegacyReactDomRender||(f._isReorderingTree=Y=!0),this.props.actions.moveItem(o.path,n.path,r)}},{key:"render",value:function(){return V.default.createElement(l,(0,E.default)({},this.props,{onDragStart:this.onDragStart}))}}]),v}(V.Component),a.propTypes={tree:R.default.any.isRequired,actions:R.default.object.isRequired},a},y=function(l){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=(0,U.connect)(function(u){return{dragging:u.dragging,dragStart:u.dragStart,mousePos:u.mousePos}},{setDragStart:W.drag.setDragStart,setDragProgress:W.drag.setDragProgress,setDragEnd:W.drag.setDragEnd},null,{context:ee.default})(j(l,a));return i.displayName="ConnectedSortableContainer",i};f.default=y},68327:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var C=d(t(43693)),E=d(t(17383)),B=d(t(34579)),D=d(t(12475)),S=d(t(32395)),T=d(t(29511)),P=d(t(28452)),F=d(t(63072)),x=d(t(96540)),V=d(t(5556)),U=d(t(43253)),J=d(t(58700)),K=t(58331),ee=t(98732),I=t(15203),X=t(70039),R=d(t(13745)),W,M,G;function z(l,a){var i=Object.keys(l);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(l);a&&(u=u.filter(function(c){return Object.getOwnPropertyDescriptor(l,c).enumerable})),i.push.apply(i,u)}return i}function q(l){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?z(Object(i),!0).forEach(function(u){(0,C.default)(l,u,i[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(i)):z(Object(i)).forEach(function(u){Object.defineProperty(l,u,Object.getOwnPropertyDescriptor(i,u))})}return l}function _(l){var a=Y();return function(){var u=(0,F.default)(l),c;if(a){var v=(0,F.default)(this).constructor;c=Reflect.construct(u,arguments,v)}else c=u.apply(this,arguments);return(0,P.default)(this,c)}}function Y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var j=t(46942),y=(W=(0,J.default)("group case_group"),(0,U.default)(M=W(M=(0,X.ConfirmFn)(M=(G=function(l){(0,T.default)(i,l);var a=_(i);function i(u){var c;return(0,E.default)(this,i),c=a.call(this,u),c.childrenClassName=function(){return"case_group--children"},c.renderFooterWrapper=function(){return null},(0,I.useOnPropsChanged)((0,D.default)(c)),c.onPropsChanged(u),c}return(0,B.default)(i,[{key:"onPropsChanged",value:function(c){}},{key:"isDefaultCase",value:function(){return this.props.children1==null}},{key:"reordableNodesCnt",value:function(){return this.props.parentReordableNodesCnt}},{key:"reordableNodesCntForItem",value:function(c){return this.props.isLocked?0:this.props.reordableNodesCnt}},{key:"totalRulesCntForItem",value:function(c){return this.props.totalRulesCnt}},{key:"showDragIcon",value:function(){return this.isDefaultCase()?!1:(0,S.default)((0,F.default)(i.prototype),"showDragIcon",this).call(this)}},{key:"renderHeaderWrapper",value:function(){return x.default.createElement("div",{key:"group-header",className:j("group--header",this.isOneChild()?"one--child":"",this.showDragIcon()?"with--drag":"hide--drag",this.showConjs()&&(!this.isOneChild()||this.showNot())?"with--conjs":"hide--conjs")},this.renderHeaderLeft(),this.renderHeaderCenter(),this.renderActions())}},{key:"renderChildrenWrapper",value:function(){return this.isDefaultCase()?null:x.default.createElement("div",{className:"case_group--body"},this.renderCondition(),this.renderValue())}},{key:"renderHeaderLeft",value:function(){if(this.isDefaultCase()){var c=this.props.config.settings.defaultCaseLabel;return c||""}return x.default.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderCondition",value:function(){return this.isDefaultCase()?null:(0,S.default)((0,F.default)(i.prototype),"renderChildrenWrapper",this).call(this)}},{key:"renderHeaderCenter",value:function(){return this.isDefaultCase()?this.renderValue():null}},{key:"canAddGroup",value:function(){return this.isDefaultCase()?!1:(0,S.default)((0,F.default)(i.prototype),"canAddGroup",this).call(this)}},{key:"canAddRule",value:function(){return this.isDefaultCase()?!1:(0,S.default)((0,F.default)(i.prototype),"canAddRule",this).call(this)}},{key:"renderValue",value:function(){var c=this.props,v=c.config,m=c.isLocked,o=c.value,n=c.setValue,r=c.id,p=v.settings.immutableValuesMode,s=x.default.createElement(R.default,{key:"values",isCaseValue:!0,field:"!case_value",operator:null,value:o,valueSrc:"value",valueError:null,config:v,setValue:p?X.dummyFn:n,setValueSrc:X.dummyFn,readonly:p||m,id:r,groupId:null});return x.default.createElement(X.Col,{className:"case_group--value"},s)}},{key:"renderActions",value:function(){var c=this.props,v=c.config,m=c.addGroup,o=c.addRule,n=c.isLocked,r=c.isTrueLocked,p=c.id;return x.default.createElement(ee.GroupActions,{config:v,addGroup:m,addRule:o,canAddRule:this.canAddRule(),canAddGroup:this.canAddGroup(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:n,isTrueLocked:r,id:p})}},{key:"isEmptyCurrentGroup",value:function(){var c=this.props.value,v=c&&c.size?c.get(0):null,m=v!=null&&(Array.isArray(v)?v.length>0:!0);return(0,S.default)((0,F.default)(i.prototype),"isEmptyCurrentGroup",this).call(this)&&!m}}]),i}(K.BasicGroup),G.propTypes=q(q({},K.BasicGroup.propTypes),{},{parentReordableNodesCnt:V.default.number,value:V.default.any,setValue:V.default.func}),G))||M)||M)||M),h=y;f.default=h},58331:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.default=f.BasicGroup=void 0;var E=d(t(94634)),B=d(t(43693)),D=d(t(17383)),S=d(t(34579)),T=d(t(12475)),P=d(t(29511)),F=d(t(28452)),x=d(t(63072)),V=M(t(96540)),U=d(t(5556)),J=d(t(22331)),K=d(t(43253)),ee=d(t(58700)),I=t(20593),X=t(98732),R=t(70039);function W(l){if(typeof WeakMap!="function")return null;var a=new WeakMap,i=new WeakMap;return(W=function(c){return c?i:a})(l)}function M(l,a){if(!a&&l&&l.__esModule)return l;if(l===null||C(l)!=="object"&&typeof l!="function")return{default:l};var i=W(a);if(i&&i.has(l))return i.get(l);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in l)if(v!=="default"&&Object.prototype.hasOwnProperty.call(l,v)){var m=c?Object.getOwnPropertyDescriptor(l,v):null;m&&(m.get||m.set)?Object.defineProperty(u,v,m):u[v]=l[v]}return u.default=l,i&&i.set(l,u),u}function G(l,a){var i=Object.keys(l);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(l);a&&(u=u.filter(function(c){return Object.getOwnPropertyDescriptor(l,c).enumerable})),i.push.apply(i,u)}return i}function z(l){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?G(Object(i),!0).forEach(function(u){(0,B.default)(l,u,i[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(i)):G(Object(i)).forEach(function(u){Object.defineProperty(l,u,Object.getOwnPropertyDescriptor(i,u))})}return l}function q(l){var a=_();return function(){var u=(0,x.default)(l),c;if(a){var v=(0,x.default)(this).constructor;c=Reflect.construct(u,arguments,v)}else c=u.apply(this,arguments);return(0,F.default)(this,c)}}function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Y=t(46942),j="topRight",y=function(l){(0,P.default)(i,l);var a=q(i);function i(u){var c;return(0,D.default)(this,i),c=a.call(this,u),c.childrenClassName=function(){return""},c.renderBeforeActions=function(){var v=c.props.config.settings.renderBeforeActions;return v==null?null:typeof v=="function"?V.default.createElement(v,c.props):v},c.renderAfterActions=function(){var v=c.props.config.settings.renderAfterActions;return v==null?null:typeof v=="function"?V.default.createElement(v,c.props):v},c.removeSelf=c.removeSelf.bind((0,T.default)(c)),c.setLock=c.setLock.bind((0,T.default)(c)),c.renderItem=c.renderItem.bind((0,T.default)(c)),c}return(0,S.default)(i,[{key:"isGroupTopPosition",value:function(){return(0,J.default)(this.props.config.settings.groupActionsPosition||j,"top")}},{key:"setLock",value:function(c){this.props.setLock(c)}},{key:"removeSelf",value:function(){var c=this,v=this.props.confirmFn,m=this.props.config.settings,o=m.renderConfirm,n=m.removeGroupConfirmOptions,r=function(){c.props.removeSelf()};n&&!this.isEmptyCurrentGroup()?o(z(z({},n),{},{onOk:r,onCancel:null,confirmFn:v})):r()}},{key:"isEmptyCurrentGroup",value:function(){var c=this.props.children1;return!c||c.size==0||c.size==1&&this.isEmpty(c.first())}},{key:"isEmpty",value:function(c){var v=c.get("type")=="group"||c.get("type")=="rule_group";return v?this.isEmptyGroup(c):this.isEmptyRule(c)}},{key:"isEmptyGroup",value:function(c){var v=c.get("children1");return!v||v.size==0||v.size==1&&this.isEmpty(v.first())}},{key:"isEmptyRule",value:function(c){var v=c.get("properties");return!(v.get("field")!==null&&v.get("operator")!==null&&v.get("value").filter(function(m){return m!==void 0}).size>0)}},{key:"render",value:function(){return V.default.createElement(V.default.Fragment,null,this.renderHeaderWrapper(),this.renderChildrenWrapper(),this.renderFooterWrapper())}},{key:"showNot",value:function(){var c=this.props.config;return c.settings.showNot}},{key:"showConjs",value:function(){var c=this.props,v=c.conjunctionOptions,m=c.children1,o=c.config,n=Object.keys(v).length;return n>1||this.showNot()}},{key:"isOneChild",value:function(){var c=this.props.children1;return c?c.size<2:!0}},{key:"renderChildrenWrapper",value:function(){var c=this.props.children1;return c&&V.default.createElement("div",{key:"group-children",className:Y("group--children",this.showConjs()?"":"hide--conjs",this.isOneChild()?"hide--line":"",this.isOneChild()?"one--child":"",this.childrenClassName())},this.renderChildren())}},{key:"renderHeaderWrapper",value:function(){var c=this.isGroupTopPosition();return V.default.createElement("div",{key:"group-header",className:Y("group--header",this.isOneChild()?"one--child":"")},this.renderHeader(),c&&this.renderBeforeActions(),c&&this.renderActions(),c&&this.renderAfterActions())}},{key:"renderFooterWrapper",value:function(){var c=this.isGroupTopPosition();return!c&&V.default.createElement("div",{key:"group-footer",className:"group--footer"},this.renderBeforeActions(),this.renderActions(),this.renderAfterActions())}},{key:"renderActions",value:function(){var c=this.props,v=c.config,m=c.addRule,o=c.addGroup,n=c.isLocked,r=c.isTrueLocked,p=c.id;return V.default.createElement(X.GroupActions,{config:v,addRule:m,addGroup:o,canAddGroup:this.canAddGroup(),canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:n,isTrueLocked:r,id:p})}},{key:"canAddGroup",value:function(){return this.props.allowFurtherNesting}},{key:"canAddRule",value:function(){var c=this.props.config.settings.maxNumberOfRules,v=this.props.totalRulesCnt;return c?v<c:!0}},{key:"canDeleteGroup",value:function(){return!this.props.isRoot}},{key:"renderChildren",value:function(){var c=this.props.children1;return c?c.map(this.renderItem).toList():null}},{key:"renderItem",value:function(c){var v=this.props,m=v.config,o=v.actions,n=v.onDragStart,r=v.isLocked,p=c.get("type")=="group"&&c.getIn(["properties","field"])!=null,s=p?"rule_group":c.get("type");return V.default.createElement(I.Item,(0,E.default)({},this.extraPropsForItem(c),{key:c.get("id"),id:c.get("id"),groupId:v.id,path:c.get("path"),type:s,properties:c.get("properties"),config:m,actions:o,children1:c.get("children1"),reordableNodesCnt:this.reordableNodesCntForItem(c),totalRulesCnt:this.totalRulesCntForItem(c),parentReordableNodesCnt:this.reordableNodesCnt(),onDragStart:n,isDraggingTempo:this.props.isDraggingTempo,isParentLocked:r}))}},{key:"extraPropsForItem",value:function(c){return{}}},{key:"reordableNodesCnt",value:function(){return this.props.isLocked?0:this.props.reordableNodesCnt}},{key:"totalRulesCntForItem",value:function(c){return this.props.totalRulesCnt}},{key:"reordableNodesCntForItem",value:function(c){return this.props.isLocked?0:this.reordableNodesCnt()}},{key:"showDragIcon",value:function(){var c=this.props,v=c.config,m=c.isRoot,o=c.isLocked,n=this.reordableNodesCnt();return v.settings.canReorder&&!m&&n>1&&!o}},{key:"renderDrag",value:function(){var c=this.props.handleDraggerMouseDown,v=this.showDragIcon()&&V.default.createElement("span",{key:"group-drag-icon",className:"qb-drag-handler group--drag-handler",onMouseDown:c},V.default.createElement(R.DragIcon,null)," ");return v}},{key:"conjunctionOptions",value:function(){var c=this.props.conjunctionOptions;return c}},{key:"renderConjs",value:function(){var c=this.props,v=c.config,m=c.children1,o=c.id,n=c.selectedConjunction,r=c.setConjunction,p=c.not,s=c.setNot,O=c.isLocked,b=v.settings,Q=b.immutableGroupsMode,H=b.renderConjs,L=b.showNot,N=b.notLabel,w=this.conjunctionOptions();if(!this.showConjs()||!m||!m.size)return null;var $={disabled:this.isOneChild(),readonly:Q||O,selectedConjunction:n,setConjunction:Q?R.dummyFn:r,conjunctionOptions:w,config:v,not:p||!1,id:o,setNot:Q?R.dummyFn:s,notLabel:N,showNot:this.showNot(),isLocked:O};return V.default.createElement(H,$)}},{key:"renderHeader",value:function(){return V.default.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}}]),i}(V.PureComponent);f.BasicGroup=y,y.propTypes={reordableNodesCnt:U.default.number,conjunctionOptions:U.default.object.isRequired,allowFurtherNesting:U.default.bool.isRequired,isRoot:U.default.bool.isRequired,not:U.default.bool,selectedConjunction:U.default.string,config:U.default.object.isRequired,id:U.default.string.isRequired,groupId:U.default.string,path:U.default.any,children1:U.default.any,isDraggingMe:U.default.bool,isDraggingTempo:U.default.bool,isLocked:U.default.bool,isTrueLocked:U.default.bool,handleDraggerMouseDown:U.default.func,onDragStart:U.default.func,addRule:U.default.func.isRequired,addGroup:U.default.func.isRequired,removeSelf:U.default.func.isRequired,setConjunction:U.default.func.isRequired,setNot:U.default.func.isRequired,setLock:U.default.func.isRequired,actions:U.default.object.isRequired};var h=(0,K.default)((0,ee.default)("group")((0,R.ConfirmFn)(y)));f.default=h},98732:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.GroupActions=void 0;var E=d(t(17383)),B=d(t(34579)),D=d(t(29511)),S=d(t(28452)),T=d(t(63072)),P=x(t(96540));function F(I){if(typeof WeakMap!="function")return null;var X=new WeakMap,R=new WeakMap;return(F=function(M){return M?R:X})(I)}function x(I,X){if(!X&&I&&I.__esModule)return I;if(I===null||C(I)!=="object"&&typeof I!="function")return{default:I};var R=F(X);if(R&&R.has(I))return R.get(I);var W={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var G in I)if(G!=="default"&&Object.prototype.hasOwnProperty.call(I,G)){var z=M?Object.getOwnPropertyDescriptor(I,G):null;z&&(z.get||z.set)?Object.defineProperty(W,G,z):W[G]=I[G]}return W.default=I,R&&R.set(I,W),W}function V(I){var X=U();return function(){var W=(0,T.default)(I),M;if(X){var G=(0,T.default)(this).constructor;M=Reflect.construct(W,arguments,G)}else M=W.apply(this,arguments);return(0,S.default)(this,M)}}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var J={topLeft:"group--actions--tl",topCenter:"group--actions--tc",topRight:"group--actions--tr",bottomLeft:"group--actions--bl",bottomCenter:"group--actions--bc",bottomRight:"group--actions--br"},K="topRight",ee=function(I){(0,D.default)(R,I);var X=V(R);function R(){return(0,E.default)(this,R),X.apply(this,arguments)}return(0,B.default)(R,[{key:"render",value:function(){var M=this.props,G=M.config,z=M.addRule,q=M.addGroup,_=M.removeSelf,Y=M.setLock,j=M.isLocked,y=M.isTrueLocked,h=M.id,l=M.canAddGroup,a=M.canAddRule,i=M.canDeleteGroup,u=G.settings,c=u.immutableGroupsMode,v=u.addRuleLabel,m=u.addGroupLabel,o=u.delGroupLabel,n=u.groupActionsPosition,r=u.renderButton,p=u.renderSwitch,s=u.renderButtonGroup,O=u.lockLabel,b=u.lockedLabel,Q=u.showLock,H=u.canDeleteLocked,L=J[n||K],N=Q&&!(j&&!y)&&P.default.createElement(p,{type:"lock",id:h,value:j,setValue:Y,label:O,checkedLabel:b,config:G}),w=!c&&a&&!j&&P.default.createElement(r,{type:"addRule",onClick:z,label:v,readonly:j,config:G}),$=!c&&l&&!j&&P.default.createElement(r,{type:"addGroup",onClick:q,label:m,readonly:j,config:G}),te=!c&&i&&(!j||j&&H)&&P.default.createElement(r,{type:"delGroup",onClick:_,label:o,config:G});return P.default.createElement("div",{className:"group--actions ".concat(L)},P.default.createElement(s,{config:G},N,w,$,te))}}]),R}(P.PureComponent);f.GroupActions=ee},20593:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.Item=void 0;var E=d(t(91847)),B=d(t(17383)),D=d(t(34579)),S=d(t(29511)),T=d(t(28452)),P=d(t(63072)),F=d(t(94634)),x=d(t(43693)),V=G(t(96540)),U=d(t(5556)),J=d(t(91192)),K=d(t(58331)),ee=d(t(28013)),I=d(t(8674)),X=d(t(37711)),R=d(t(68327)),W=["type"];function M(a){if(typeof WeakMap!="function")return null;var i=new WeakMap,u=new WeakMap;return(M=function(v){return v?u:i})(a)}function G(a,i){if(!i&&a&&a.__esModule)return a;if(a===null||C(a)!=="object"&&typeof a!="function")return{default:a};var u=M(i);if(u&&u.has(a))return u.get(a);var c={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in a)if(m!=="default"&&Object.prototype.hasOwnProperty.call(a,m)){var o=v?Object.getOwnPropertyDescriptor(a,m):null;o&&(o.get||o.set)?Object.defineProperty(c,m,o):c[m]=a[m]}return c.default=a,u&&u.set(a,c),c}function z(a){var i=q();return function(){var c=(0,P.default)(a),v;if(i){var m=(0,P.default)(this).constructor;v=Reflect.construct(c,arguments,m)}else v=c.apply(this,arguments);return(0,T.default)(this,v)}}function q(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _(a,i){var u=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);i&&(c=c.filter(function(v){return Object.getOwnPropertyDescriptor(a,v).enumerable})),u.push.apply(u,c)}return u}function Y(a){for(var i=1;i<arguments.length;i++){var u=arguments[i]!=null?arguments[i]:{};i%2?_(Object(u),!0).forEach(function(c){(0,x.default)(a,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(u)):_(Object(u)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(u,c))})}return a}var j=["rule","group","rule_group","switch_group","case_group"],y=function(i){var u=i.properties.toObject(),c=Y({},u);return i.isParentLocked&&(c.isLocked=!0),u.isLocked&&(c.isTrueLocked=!0),c},h={rule:function(i){return V.default.createElement(J.default,(0,F.default)({},y(i),{id:i.id,groupId:i.groupId,path:i.path,actions:i.actions,reordableNodesCnt:i.reordableNodesCnt,totalRulesCnt:i.totalRulesCnt,config:i.config,onDragStart:i.onDragStart,isDraggingTempo:i.isDraggingTempo,parentField:i.parentField,parentReordableNodesCnt:i.parentReordableNodesCnt}))},group:function(i){return V.default.createElement(K.default,(0,F.default)({},y(i),{id:i.id,groupId:i.groupId,path:i.path,actions:i.actions,config:i.config,reordableNodesCnt:i.reordableNodesCnt,totalRulesCnt:i.totalRulesCnt,onDragStart:i.onDragStart,isDraggingTempo:i.isDraggingTempo,children1:i.children1,parentField:null,parentReordableNodesCnt:i.parentReordableNodesCnt}))},rule_group:function(i){return V.default.createElement(ee.default,(0,F.default)({},y(i),{id:i.id,groupId:i.groupId,path:i.path,actions:i.actions,config:i.config,reordableNodesCnt:i.reordableNodesCnt,totalRulesCnt:i.totalRulesCnt,onDragStart:i.onDragStart,isDraggingTempo:i.isDraggingTempo,children1:i.children1,parentField:i.parentField,parentReordableNodesCnt:i.parentReordableNodesCnt}))},rule_group_ext:function(i){return V.default.createElement(I.default,(0,F.default)({},y(i),{id:i.id,groupId:i.groupId,path:i.path,actions:i.actions,config:i.config,reordableNodesCnt:i.reordableNodesCnt,totalRulesCnt:i.totalRulesCnt,onDragStart:i.onDragStart,isDraggingTempo:i.isDraggingTempo,children1:i.children1,parentField:i.parentField,parentReordableNodesCnt:i.parentReordableNodesCnt}))},switch_group:function(i){return V.default.createElement(X.default,(0,F.default)({},y(i),{id:i.id,groupId:i.groupId,path:i.path,actions:i.actions,config:i.config,reordableNodesCnt:i.reordableNodesCnt,totalRulesCnt:i.totalRulesCnt,onDragStart:i.onDragStart,isDraggingTempo:i.isDraggingTempo,children1:i.children1,parentField:null,parentReordableNodesCnt:i.parentReordableNodesCnt}))},case_group:function(i){return V.default.createElement(R.default,(0,F.default)({},y(i),{id:i.id,groupId:i.groupId,path:i.path,actions:i.actions,config:i.config,reordableNodesCnt:i.reordableNodesCnt,totalRulesCnt:i.totalRulesCnt,onDragStart:i.onDragStart,isDraggingTempo:i.isDraggingTempo,children1:i.children1,parentField:null,parentReordableNodesCnt:i.parentReordableNodesCnt}))}},l=function(a){(0,S.default)(u,a);var i=z(u);function u(){return(0,B.default)(this,u),i.apply(this,arguments)}return(0,D.default)(u,[{key:"render",value:function(){var v=this.props,m=v.type,o=(0,E.default)(v,W),n=o.properties.get("mode"),r=n=="array"?"_ext":"",p=o.config.settings.renderItem,s=h[m+r];return p?p(Y(Y({},o),{},{type:m,itemComponent:s})):s?s(o):null}}]),u}(V.PureComponent);f.Item=l,l.propTypes={config:U.default.object.isRequired,id:U.default.string.isRequired,groupId:U.default.string,type:U.default.oneOf(j).isRequired,path:U.default.any.isRequired,properties:U.default.any.isRequired,children1:U.default.any,actions:U.default.object.isRequired,reordableNodesCnt:U.default.number,onDragStart:U.default.func,parentField:U.default.string,isDraggingTempo:U.default.bool,isParentLocked:U.default.bool}},91192:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var E=d(t(43693)),B=d(t(17383)),D=d(t(34579)),S=d(t(12475)),T=d(t(29511)),P=d(t(28452)),F=d(t(63072)),x=j(t(96540)),V=d(t(5556)),U=d(t(57258)),J=d(t(58700)),K=d(t(26686)),ee=d(t(52762)),I=d(t(13745)),X=d(t(36987)),R=t(67212),W=t(76348),M=t(15203),G=t(70039),z,q,_;function Y(v){if(typeof WeakMap!="function")return null;var m=new WeakMap,o=new WeakMap;return(Y=function(r){return r?o:m})(v)}function j(v,m){if(!m&&v&&v.__esModule)return v;if(v===null||C(v)!=="object"&&typeof v!="function")return{default:v};var o=Y(m);if(o&&o.has(v))return o.get(v);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in v)if(p!=="default"&&Object.prototype.hasOwnProperty.call(v,p)){var s=r?Object.getOwnPropertyDescriptor(v,p):null;s&&(s.get||s.set)?Object.defineProperty(n,p,s):n[p]=v[p]}return n.default=v,o&&o.set(v,n),n}function y(v,m){var o=Object.keys(v);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(v);m&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(v,r).enumerable})),o.push.apply(o,n)}return o}function h(v){for(var m=1;m<arguments.length;m++){var o=arguments[m]!=null?arguments[m]:{};m%2?y(Object(o),!0).forEach(function(n){(0,E.default)(v,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(o)):y(Object(o)).forEach(function(n){Object.defineProperty(v,n,Object.getOwnPropertyDescriptor(o,n))})}return v}function l(v){var m=a();return function(){var n=(0,F.default)(v),r;if(m){var p=(0,F.default)(this).constructor;r=Reflect.construct(n,arguments,p)}else r=n.apply(this,arguments);return(0,P.default)(this,r)}}function a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var i=t(46942),u=(z=(0,J.default)("rule"),(0,U.default)(q=z(q=(0,G.ConfirmFn)(q=(_=function(v){(0,T.default)(o,v);var m=l(o);function o(n){var r;return(0,B.default)(this,o),r=m.call(this,n),(0,M.useOnPropsChanged)((0,S.default)(r)),r.removeSelf=r.removeSelf.bind((0,S.default)(r)),r.setLock=r.setLock.bind((0,S.default)(r)),r.onPropsChanged(n),r}return(0,D.default)(o,[{key:"onPropsChanged",value:function(r){var p=this.props,s=["selectedField","selectedOperator","config","reordableNodesCnt","isLocked"],O=!this.meta||s.map(function(b){return r[b]!==p[b]}).filter(function(b){return b}).length>0;O&&(this.meta=this.getMeta(r))}},{key:"getMeta",value:function(r){var p=r.selectedField,s=r.selectedOperator,O=r.config,b=r.reordableNodesCnt,Q=r.isLocked,H=(0,W.getFieldPathLabels)(p,O),L=(0,R.getFieldConfig)(O,p),N=L&&L.type=="!struct",w=p&&s&&!N,$=(0,R.getOperatorConfig)(O,s,p),te=$&&$.options!=null,re=(0,R.getFieldWidgetConfig)(O,p,s)||{},ue=re.hideOperator,ne=O.settings.canReorder&&b>1&&!Q,pe=p&&!ue,se=p&&ue&&re.operatorInlineLabel,ve=w,me=w&&te;return{selectedFieldPartsLabels:H,selectedFieldWidgetConfig:re,showDragIcon:ne,showOperator:pe,showOperatorLabel:se,showWidget:ve,showOperatorOptions:me}}},{key:"setLock",value:function(r){this.props.setLock(r)}},{key:"removeSelf",value:function(){var r=this,p=this.props.confirmFn,s=this.props.config.settings,O=s.renderConfirm,b=s.removeRuleConfirmOptions,Q=function(){r.props.removeSelf()};b&&!this.isEmptyCurrentRule()?O(h(h({},b),{},{onOk:Q,onCancel:null,confirmFn:p})):Q()}},{key:"isEmptyCurrentRule",value:function(){return!(this.props.selectedField!==null&&this.props.selectedOperator!==null&&this.props.value.filter(function(r){return r!==void 0}).size>0)}},{key:"renderField",value:function(){var r=this.props,p=r.config,s=r.isLocked,O=p.settings.immutableFieldsMode;return x.default.createElement(ee.default,{key:"field",classname:"rule--field",config:p,selectedField:this.props.selectedField,setField:O?G.dummyFn:this.props.setField,parentField:this.props.parentField,readonly:O||s,id:this.props.id,groupId:this.props.groupId})}},{key:"renderOperator",value:function(){var r=this.props,p=r.config,s=r.isLocked,O=this.meta,b=O.selectedFieldPartsLabels,Q=O.selectedFieldWidgetConfig,H=O.showOperator,L=O.showOperatorLabel,N=p.settings.immutableOpsMode;return x.default.createElement(K.default,{key:"operator",config:p,selectedField:this.props.selectedField,selectedOperator:this.props.selectedOperator,setOperator:N?G.dummyFn:this.props.setOperator,selectedFieldPartsLabels:b,showOperator:H,showOperatorLabel:L,selectedFieldWidgetConfig:Q,readonly:N||s,id:this.props.id,groupId:this.props.groupId})}},{key:"renderWidget",value:function(){var r=this.props,p=r.config,s=r.valueError,O=r.isLocked,b=this.meta.showWidget,Q=p.settings.immutableValuesMode;if(!b)return null;var H=x.default.createElement(I.default,{key:"values",field:this.props.selectedField,parentField:this.props.parentField,operator:this.props.selectedOperator,value:this.props.value,valueSrc:this.props.valueSrc,asyncListValues:this.props.asyncListValues,valueError:s,config:p,setValue:Q?G.dummyFn:this.props.setValue,setValueSrc:Q?G.dummyFn:this.props.setValueSrc,readonly:Q||O,id:this.props.id,groupId:this.props.groupId});return x.default.createElement(G.Col,{key:"widget-for-"+this.props.selectedOperator,className:"rule--value"},H)}},{key:"renderOperatorOptions",value:function(){var r=this.props.config,p=this.meta.showOperatorOptions,s=r.settings,O=s.immutableOpsMode,b=s.immutableValuesMode;if(!p)return null;var Q=x.default.createElement(X.default,{key:"operatorOptions",selectedField:this.props.selectedField,selectedOperator:this.props.selectedOperator,operatorOptions:this.props.operatorOptions,setOperatorOption:O?G.dummyFn:this.props.setOperatorOption,config:r,readonly:b});return x.default.createElement(G.Col,{key:"op-options-for-"+this.props.selectedOperator,className:"rule--operator-options"},Q)}},{key:"renderBeforeWidget",value:function(){var r=this.props.config,p=r.settings.renderBeforeWidget;return p&&x.default.createElement(G.Col,{key:"before-widget-for-"+this.props.selectedOperator,className:"rule--before-widget"},typeof p=="function"?p(this.props):p)}},{key:"renderAfterWidget",value:function(){var r=this.props.config,p=r.settings.renderAfterWidget;return p&&x.default.createElement(G.Col,{key:"after-widget-for-"+this.props.selectedOperator,className:"rule--after-widget"},typeof p=="function"?p(this.props):p)}},{key:"renderError",value:function(){var r=this.props,p=r.config,s=r.valueError,O=p.settings,b=O.renderRuleError,Q=O.showErrorMessage,H=s&&s.toArray().filter(function(L){return!!L}).shift()||null;return Q&&H&&x.default.createElement("div",{className:"rule--error"},b?b({error:H}):H)}},{key:"renderDrag",value:function(){var r=this.meta.showDragIcon;return r&&x.default.createElement("span",{key:"rule-drag-icon",className:"qb-drag-handler rule--drag-handler",onMouseDown:this.props.handleDraggerMouseDown},x.default.createElement(G.DragIcon,null)," ")}},{key:"renderDel",value:function(){var r=this.props,p=r.config,s=r.isLocked,O=p.settings,b=O.deleteLabel,Q=O.immutableGroupsMode,H=O.renderButton,L=O.canDeleteLocked;return!Q&&(!s||s&&L)&&x.default.createElement(H,{type:"delRule",onClick:this.removeSelf,label:b,config:p})}},{key:"renderLock",value:function(){var r=this.props,p=r.config,s=r.isLocked,O=r.isTrueLocked,b=r.id,Q=p.settings,H=Q.lockLabel,L=Q.lockedLabel,N=Q.showLock,w=Q.renderSwitch;return N&&!(s&&!O)&&x.default.createElement(w,{type:"lock",id:b,value:s,setValue:this.setLock,label:H,checkedLabel:L,hideLabel:!0,config:p})}},{key:"render",value:function(){var r=this.meta,p=r.showOperatorOptions,s=r.selectedFieldWidgetConfig,O=this.props,b=O.valueSrc,Q=O.value,H=O.config,L=b.first()=="value"&&!p&&Q.size==1&&s.fullWidth,N=H.settings.renderButtonGroup,w=[this.renderField(),this.renderOperator(),this.renderBeforeWidget(),this.renderWidget(),this.renderAfterWidget(),this.renderOperatorOptions()],$=x.default.createElement("div",{key:"rule-body",className:i("rule--body",L&&"can--shrink--value")},w),te=this.renderError(),re=this.renderDrag(),ue=this.renderLock(),ne=this.renderDel();return x.default.createElement(x.default.Fragment,null,re,x.default.createElement("div",{className:"rule--body--wrapper"},$,te),x.default.createElement("div",{className:"rule--header"},x.default.createElement(N,{config:H},ue,ne)))}}]),o}(x.PureComponent),_.propTypes={id:V.default.string.isRequired,groupId:V.default.string,selectedField:V.default.string,selectedOperator:V.default.string,operatorOptions:V.default.object,config:V.default.object.isRequired,value:V.default.any,valueSrc:V.default.any,asyncListValues:V.default.array,isDraggingMe:V.default.bool,isDraggingTempo:V.default.bool,parentField:V.default.string,valueError:V.default.any,isLocked:V.default.bool,isTrueLocked:V.default.bool,handleDraggerMouseDown:V.default.func,setField:V.default.func,setOperator:V.default.func,setOperatorOption:V.default.func,setLock:V.default.func,removeSelf:V.default.func,setValue:V.default.func,setValueSrc:V.default.func,reordableNodesCnt:V.default.number},_))||q)||q)||q),c=u;f.default=c},28013:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var C=d(t(43693)),E=d(t(17383)),B=d(t(34579)),D=d(t(12475)),S=d(t(32395)),T=d(t(29511)),P=d(t(28452)),F=d(t(63072)),x=d(t(96540)),V=d(t(5556)),U=d(t(43253)),J=d(t(58700)),K=t(58331),ee=t(99786),I=d(t(52762)),X=t(15203),R=t(70039),W,M,G;function z(h,l){var a=Object.keys(h);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(h);l&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(h,u).enumerable})),a.push.apply(a,i)}return a}function q(h){for(var l=1;l<arguments.length;l++){var a=arguments[l]!=null?arguments[l]:{};l%2?z(Object(a),!0).forEach(function(i){(0,C.default)(h,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach(function(i){Object.defineProperty(h,i,Object.getOwnPropertyDescriptor(a,i))})}return h}function _(h){var l=Y();return function(){var i=(0,F.default)(h),u;if(l){var c=(0,F.default)(this).constructor;u=Reflect.construct(i,arguments,c)}else u=i.apply(this,arguments);return(0,P.default)(this,u)}}function Y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var j=(W=(0,J.default)("group rule_group"),(0,U.default)(M=W(M=(0,R.ConfirmFn)(M=(G=function(h){(0,T.default)(a,h);var l=_(a);function a(i){var u;return(0,E.default)(this,a),u=l.call(this,i),u.childrenClassName=function(){return"rule_group--children"},u.renderHeaderWrapper=function(){return null},u.renderFooterWrapper=function(){return null},u.renderConjs=function(){return null},u.canAddGroup=function(){return!1},u.canAddRule=function(){return!0},u.canDeleteGroup=function(){return!1},(0,X.useOnPropsChanged)((0,D.default)(u)),u.onPropsChanged(i),u}return(0,B.default)(a,[{key:"onPropsChanged",value:function(u){}},{key:"reordableNodesCntForItem",value:function(u){if(this.props.isLocked)return 0;var c=this.props.children1;return c.size}},{key:"renderChildrenWrapper",value:function(){return x.default.createElement(x.default.Fragment,null,this.renderDrag(),this.renderField(),this.renderActions(),(0,S.default)((0,F.default)(a.prototype),"renderChildrenWrapper",this).call(this))}},{key:"renderField",value:function(){var u=this.props,c=u.config,v=u.selectedField,m=u.setField,o=u.parentField,n=u.id,r=u.groupId,p=u.isLocked,s=c.settings.immutableFieldsMode;return x.default.createElement(I.default,{key:"field",classname:"group--field",config:c,selectedField:v,setField:m,parentField:o,readonly:s||p,id:n,groupId:r})}},{key:"renderActions",value:function(){var u=this.props,c=u.config,v=u.addRule,m=u.isLocked,o=u.isTrueLocked,n=u.id;return x.default.createElement(ee.RuleGroupActions,{config:c,addRule:v,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:m,isTrueLocked:o,id:n})}},{key:"extraPropsForItem",value:function(u){return{parentField:this.props.selectedField}}}]),a}(K.BasicGroup),G.propTypes=q(q({},K.BasicGroup.propTypes),{},{selectedField:V.default.string,parentField:V.default.string,setField:V.default.func}),G))||M)||M)||M),y=j;f.default=y},99786:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.RuleGroupActions=void 0;var E=d(t(17383)),B=d(t(34579)),D=d(t(29511)),S=d(t(28452)),T=d(t(63072)),P=x(t(96540));function F(K){if(typeof WeakMap!="function")return null;var ee=new WeakMap,I=new WeakMap;return(F=function(R){return R?I:ee})(K)}function x(K,ee){if(!ee&&K&&K.__esModule)return K;if(K===null||C(K)!=="object"&&typeof K!="function")return{default:K};var I=F(ee);if(I&&I.has(K))return I.get(K);var X={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var W in K)if(W!=="default"&&Object.prototype.hasOwnProperty.call(K,W)){var M=R?Object.getOwnPropertyDescriptor(K,W):null;M&&(M.get||M.set)?Object.defineProperty(X,W,M):X[W]=K[W]}return X.default=K,I&&I.set(K,X),X}function V(K){var ee=U();return function(){var X=(0,T.default)(K),R;if(ee){var W=(0,T.default)(this).constructor;R=Reflect.construct(X,arguments,W)}else R=X.apply(this,arguments);return(0,S.default)(this,R)}}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var J=function(K){(0,D.default)(I,K);var ee=V(I);function I(){return(0,E.default)(this,I),ee.apply(this,arguments)}return(0,B.default)(I,[{key:"render",value:function(){var R=this.props,W=R.config,M=R.addRule,G=R.canAddRule,z=R.canDeleteGroup,q=R.removeSelf,_=R.setLock,Y=R.isLocked,j=R.isTrueLocked,y=R.id,h=W.settings,l=h.immutableGroupsMode,a=h.addRuleLabel,i=h.delGroupLabel,u=h.renderButton,c=h.renderSwitch,v=h.renderButtonGroup,m=h.lockLabel,o=h.lockedLabel,n=h.showLock,r=h.canDeleteLocked,p=n&&!(Y&&!j)&&P.default.createElement(c,{type:"lock",id:y,value:Y,setValue:_,label:m,checkedLabel:o,hideLabel:!0,config:W}),s=!l&&G&&!Y&&P.default.createElement(u,{type:"addRuleGroup",onClick:M,label:a,readonly:Y,config:W}),O=!l&&z&&(!Y||Y&&r)&&P.default.createElement(u,{type:"delRuleGroup",onClick:q,label:i,config:W});return P.default.createElement("div",{className:"group--actions"},P.default.createElement(v,{config:W},p,s,O))}}]),I}(P.PureComponent);f.RuleGroupActions=J},8674:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var C=d(t(43693)),E=d(t(17383)),B=d(t(34579)),D=d(t(12475)),S=d(t(32395)),T=d(t(29511)),P=d(t(28452)),F=d(t(63072)),x=d(t(96540)),V=d(t(5556)),U=d(t(43253)),J=d(t(58700)),K=t(58331),ee=t(30471),I=d(t(52762)),X=d(t(26686)),R=t(15203),W=t(70039),M=t(67212),G=d(t(13745)),z,q,_;function Y(m,o){var n=Object.keys(m);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(m);o&&(r=r.filter(function(p){return Object.getOwnPropertyDescriptor(m,p).enumerable})),n.push.apply(n,r)}return n}function j(m){for(var o=1;o<arguments.length;o++){var n=arguments[o]!=null?arguments[o]:{};o%2?Y(Object(n),!0).forEach(function(r){(0,C.default)(m,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach(function(r){Object.defineProperty(m,r,Object.getOwnPropertyDescriptor(n,r))})}return m}function y(m,o){var n=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!n){if(Array.isArray(m)||(n=h(m))||o&&m&&typeof m.length=="number"){n&&(m=n);var r=0,p=function(){};return{s:p,n:function(){return r>=m.length?{done:!0}:{done:!1,value:m[r++]}},e:function(H){throw H},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,O=!1,b;return{s:function(){n=n.call(m)},n:function(){var H=n.next();return s=H.done,H},e:function(H){O=!0,b=H},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(O)throw b}}}}function h(m,o){if(m){if(typeof m=="string")return l(m,o);var n=Object.prototype.toString.call(m).slice(8,-1);if(n==="Object"&&m.constructor&&(n=m.constructor.name),n==="Map"||n==="Set")return Array.from(m);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(m,o)}}function l(m,o){(o==null||o>m.length)&&(o=m.length);for(var n=0,r=new Array(o);n<o;n++)r[n]=m[n];return r}function a(m){var o=i();return function(){var r=(0,F.default)(m),p;if(o){var s=(0,F.default)(this).constructor;p=Reflect.construct(r,arguments,s)}else p=r.apply(this,arguments);return(0,P.default)(this,p)}}function i(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var u=t(46942),c=(z=(0,J.default)("group rule_group_ext"),(0,U.default)(q=z(q=(0,W.ConfirmFn)(q=(_=function(m){(0,T.default)(n,m);var o=a(n);function n(r){var p;return(0,E.default)(this,n),p=o.call(this,r),p.childrenClassName=function(){return"rule_group_ext--children"},p.renderFooterWrapper=function(){return null},p.canAddGroup=function(){return!1},p.canAddRule=function(){return!0},p.canDeleteGroup=function(){return!0},(0,R.useOnPropsChanged)((0,D.default)(p)),p.onPropsChanged(r),p}return(0,B.default)(n,[{key:"onPropsChanged",value:function(p){}},{key:"renderHeaderWrapper",value:function(){return x.default.createElement("div",{key:"group-header",className:u("group--header",this.isOneChild()?"one--child":"",this.showDragIcon()?"with--drag":"hide--drag",this.showConjs()&&(!this.isOneChild()||this.showNot())?"with--conjs":"hide--conjs")},this.renderHeader(),this.renderGroupField(),this.renderActions())}},{key:"renderHeader",value:function(){return x.default.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderGroupField",value:function(){return x.default.createElement("div",{className:"group--field--count--rule"},this.renderField(),this.renderOperator(),this.renderWidget())}},{key:"showNot",value:function(){var p=this.props,s=p.config,O=p.selectedField,b=p.selectedOperator,Q=(0,M.getFieldConfig)(s,O)||{};return Q.showNot!=null?Q.showNot:s.settings.showNot}},{key:"conjunctionOptions",value:function(){var p=this.props,s=p.config,O=p.selectedField,b=p.selectedOperator,Q=(0,M.getFieldConfig)(s,O)||{},H=(0,S.default)((0,F.default)(n.prototype),"conjunctionOptions",this).call(this);if(Q.conjunctions){var L={},N=y(Q.conjunctions),w;try{for(N.s();!(w=N.n()).done;){var $=w.value;L[$]=H[$]}}catch(te){N.e(te)}finally{N.f()}H=L}return H}},{key:"renderField",value:function(){var p=this.props,s=p.config,O=p.selectedField,b=p.setField,Q=p.parentField,H=p.id,L=p.groupId,N=p.isLocked,w=s.settings.immutableFieldsMode;return x.default.createElement(I.default,{key:"field",classname:"rule--field",config:s,selectedField:O,setField:b,parentField:Q,readonly:w||N,id:H,groupId:L})}},{key:"renderOperator",value:function(){var p=this.props,s=p.config,O=p.selectedField,b=p.selectedOperator,Q=p.setField,H=p.setOperator,L=p.isLocked,N=s.settings.immutableFieldsMode,w=(0,M.getFieldWidgetConfig)(s,O,b)||{},$=w.hideOperator,te=O&&$&&w.operatorInlineLabel,re=O&&!$;return x.default.createElement(X.default,{key:"operator",classname:"group--operator",config:s,selectedField:O,selectedOperator:b,setField:Q,setOperator:H,selectedFieldPartsLabels:["group"],showOperator:re,showOperatorLabel:te,selectedFieldWidgetConfig:w,readonly:N||L,id:this.props.id,groupId:this.props.groupId})}},{key:"renderWidget",value:function(){var p=this.props,s=p.config,O=p.selectedField,b=p.selectedOperator,Q=p.isLocked,H=s.settings.immutableValuesMode,L=O&&b,N=L;if(!N)return null;var w=x.default.createElement(G.default,{key:"values",isForRuleGruop:!0,field:this.props.selectedField,operator:this.props.selectedOperator,value:this.props.value,valueSrc:"value",valueError:null,config:s,setValue:H?W.dummyFn:this.props.setValue,setValueSrc:W.dummyFn,readonly:H||Q,id:this.props.id,groupId:this.props.groupId});return x.default.createElement(W.Col,{key:"widget-for-"+this.props.selectedOperator,className:"rule--value"},w)}},{key:"renderActions",value:function(){var p=this.props,s=p.config,O=p.addRule,b=p.isLocked,Q=p.isTrueLocked,H=p.id;return x.default.createElement(ee.RuleGroupExtActions,{config:s,addRule:O,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:b,isTrueLocked:Q,id:H})}},{key:"reordableNodesCntForItem",value:function(p){if(this.props.isLocked)return 0;var s=this.props.children1;return s.size}},{key:"extraPropsForItem",value:function(p){return{parentField:this.props.selectedField}}}]),n}(K.BasicGroup),_.propTypes=j(j({},K.BasicGroup.propTypes),{},{selectedField:V.default.string,selectedOperator:V.default.string,value:V.default.any,parentField:V.default.string,setField:V.default.func,setOperator:V.default.func,setValue:V.default.func}),_))||q)||q)||q),v=c;f.default=v},30471:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.RuleGroupExtActions=void 0;var E=d(t(17383)),B=d(t(34579)),D=d(t(29511)),S=d(t(28452)),T=d(t(63072)),P=x(t(96540));function F(K){if(typeof WeakMap!="function")return null;var ee=new WeakMap,I=new WeakMap;return(F=function(R){return R?I:ee})(K)}function x(K,ee){if(!ee&&K&&K.__esModule)return K;if(K===null||C(K)!=="object"&&typeof K!="function")return{default:K};var I=F(ee);if(I&&I.has(K))return I.get(K);var X={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var W in K)if(W!=="default"&&Object.prototype.hasOwnProperty.call(K,W)){var M=R?Object.getOwnPropertyDescriptor(K,W):null;M&&(M.get||M.set)?Object.defineProperty(X,W,M):X[W]=K[W]}return X.default=K,I&&I.set(K,X),X}function V(K){var ee=U();return function(){var X=(0,T.default)(K),R;if(ee){var W=(0,T.default)(this).constructor;R=Reflect.construct(X,arguments,W)}else R=X.apply(this,arguments);return(0,S.default)(this,R)}}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var J=function(K){(0,D.default)(I,K);var ee=V(I);function I(){return(0,E.default)(this,I),ee.apply(this,arguments)}return(0,B.default)(I,[{key:"render",value:function(){var R=this.props,W=R.config,M=R.addRule,G=R.canAddRule,z=R.canDeleteGroup,q=R.removeSelf,_=R.setLock,Y=R.isLocked,j=R.isTrueLocked,y=R.id,h=W.settings,l=h.immutableGroupsMode,a=h.addSubRuleLabel,i=h.delGroupLabel,u=h.renderButton,c=h.renderSwitch,v=h.renderButtonGroup,m=h.lockLabel,o=h.lockedLabel,n=h.showLock,r=h.canDeleteLocked,p=n&&!(Y&&!j)&&P.default.createElement(c,{type:"lock",id:y,value:Y,setValue:_,label:m,checkedLabel:o,config:W}),s=!l&&G&&!Y&&P.default.createElement(u,{type:"addRuleGroupExt",onClick:M,label:a,readonly:Y,config:W}),O=!l&&z&&(!Y||Y&&r)&&P.default.createElement(u,{type:"delRuleGroup",onClick:q,label:i,config:W});return P.default.createElement("div",{className:"group--actions group--actions--tr"},P.default.createElement(v,{config:W},p,s,O))}}]),I}(P.PureComponent);f.RuleGroupExtActions=J},37711:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var C=d(t(43693)),E=d(t(17383)),B=d(t(34579)),D=d(t(12475)),S=d(t(29511)),T=d(t(28452)),P=d(t(63072)),F=d(t(96540)),x=d(t(5556)),V=d(t(43253)),U=d(t(58700)),J=t(58331),K=t(23376),ee=t(15203),I=t(70039),X=t(8930),R,W,M;function G(h,l){var a=Object.keys(h);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(h);l&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(h,u).enumerable})),a.push.apply(a,i)}return a}function z(h){for(var l=1;l<arguments.length;l++){var a=arguments[l]!=null?arguments[l]:{};l%2?G(Object(a),!0).forEach(function(i){(0,C.default)(h,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach(function(i){Object.defineProperty(h,i,Object.getOwnPropertyDescriptor(a,i))})}return h}function q(h){var l=_();return function(){var i=(0,P.default)(h),u;if(l){var c=(0,P.default)(this).constructor;u=Reflect.construct(i,arguments,c)}else u=i.apply(this,arguments);return(0,T.default)(this,u)}}function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Y=t(46942),j=(R=(0,U.default)("group switch_group"),(0,V.default)(W=R(W=(0,I.ConfirmFn)(W=(M=function(h){(0,S.default)(a,h);var l=q(a);function a(i){var u;return(0,E.default)(this,a),u=l.call(this,i),u.childrenClassName=function(){return"switch_group--children"},u.renderFooterWrapper=function(){return null},u.hasDefaultCase=function(){return u.props.children1.size&&u.props.children1.filter(function(c){return c.get("children1")==null}).size>0},(0,ee.useOnPropsChanged)((0,D.default)(u)),u.onPropsChanged(i),u}return(0,B.default)(a,[{key:"onPropsChanged",value:function(u){}},{key:"canAddGroup",value:function(){var u=this.props.config.settings.maxNumberOfCases,c=this.props.children1.size;return u?c<u:!0}},{key:"canAddRule",value:function(){return!1}},{key:"reordableNodesCnt",value:function(){var u=this.props.children1.size,c=u;return this.hasDefaultCase()&&c--,c}},{key:"totalRulesCntForItem",value:function(u){return(0,X.getTotalRulesCountInTree)(u)}},{key:"reordableNodesCntForItem",value:function(u){if(this.props.isLocked)return 0;var c=this.props.config.settings,v=c.canLeaveEmptyCase,m=c.canRegroupCases,o=this.props.children1.size,n=o;this.hasDefaultCase()&&n--;var r=(0,X.getTotalReordableNodesCountInTree)(u),p=r;return p==1&&m&&v&&n>1&&(p=111),p}},{key:"renderHeaderWrapper",value:function(){return F.default.createElement("div",{key:"group-header",className:Y("group--header",this.isOneChild()?"one--child":"",this.showDragIcon()?"with--drag":"hide--drag",this.showConjs()&&(!this.isOneChild()||this.showNot())?"with--conjs":"hide--conjs")},this.renderHeader(),this.renderActions())}},{key:"renderHeader",value:function(){return F.default.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderConjs",value:function(){var u=this.props.config.settings.renderSwitchPrefix;return u?u():null}},{key:"showNot",value:function(){return!1}},{key:"renderActions",value:function(){var u=this.props,c=u.config,v=u.addCaseGroup,m=u.addDefaultCaseGroup,o=u.isLocked,n=u.isTrueLocked,r=u.id;return F.default.createElement(K.SwitchGroupActions,{config:c,addCaseGroup:v,addDefaultCaseGroup:m,canAddDefault:!this.hasDefaultCase(),canAddGroup:this.canAddGroup(),setLock:this.setLock,isLocked:o,isTrueLocked:n,id:r})}}]),a}(J.BasicGroup),M.propTypes=z({},J.BasicGroup.propTypes),M))||W)||W)||W),y=j;f.default=y},23376:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.SwitchGroupActions=void 0;var E=d(t(17383)),B=d(t(34579)),D=d(t(29511)),S=d(t(28452)),T=d(t(63072)),P=x(t(96540));function F(I){if(typeof WeakMap!="function")return null;var X=new WeakMap,R=new WeakMap;return(F=function(M){return M?R:X})(I)}function x(I,X){if(!X&&I&&I.__esModule)return I;if(I===null||C(I)!=="object"&&typeof I!="function")return{default:I};var R=F(X);if(R&&R.has(I))return R.get(I);var W={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var G in I)if(G!=="default"&&Object.prototype.hasOwnProperty.call(I,G)){var z=M?Object.getOwnPropertyDescriptor(I,G):null;z&&(z.get||z.set)?Object.defineProperty(W,G,z):W[G]=I[G]}return W.default=I,R&&R.set(I,W),W}function V(I){var X=U();return function(){var W=(0,T.default)(I),M;if(X){var G=(0,T.default)(this).constructor;M=Reflect.construct(W,arguments,G)}else M=W.apply(this,arguments);return(0,S.default)(this,M)}}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var J={topLeft:"group--actions--tl",topCenter:"group--actions--tc",topRight:"group--actions--tr",bottomLeft:"group--actions--bl",bottomCenter:"group--actions--bc",bottomRight:"group--actions--br"},K="topRight",ee=function(I){(0,D.default)(R,I);var X=V(R);function R(){return(0,E.default)(this,R),X.apply(this,arguments)}return(0,B.default)(R,[{key:"render",value:function(){var M=this.props,G=M.config,z=M.addCaseGroup,q=M.addDefaultCaseGroup,_=M.setLock,Y=M.isLocked,j=M.isTrueLocked,y=M.id,h=M.canAddGroup,l=M.canAddDefault,a=G.settings,i=a.immutableGroupsMode,u=a.addCaseLabel,c=a.addDefaultCaseLabel,v=a.groupActionsPosition,m=a.renderButton,o=a.renderSwitch,n=a.renderButtonGroup,r=a.lockLabel,p=a.lockedLabel,s=a.showLock,O=J[v||K],b=s&&!(Y&&!j)&&P.default.createElement(o,{type:"lock",id:y,value:Y,setValue:_,label:r,checkedLabel:p,config:G}),Q=!i&&h&&!Y&&P.default.createElement(m,{type:"addCaseGroup",onClick:z,label:u,readonly:Y,config:G}),H=!i&&l&&!Y&&P.default.createElement(m,{type:"addDefaultCaseGroup",onClick:q,label:c,readonly:Y,config:G});return P.default.createElement("div",{className:"group--actions ".concat(O)},P.default.createElement(n,{config:G},b,Q,H))}}]),R}(P.PureComponent);f.SwitchGroupActions=ee},71105:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var E=d(t(94634)),B=d(t(17383)),D=d(t(34579)),S=d(t(29511)),T=d(t(28452)),P=d(t(63072)),F=J(t(96540)),x=d(t(5556)),V=d(t(23181));function U(X){if(typeof WeakMap!="function")return null;var R=new WeakMap,W=new WeakMap;return(U=function(G){return G?W:R})(X)}function J(X,R){if(!R&&X&&X.__esModule)return X;if(X===null||C(X)!=="object"&&typeof X!="function")return{default:X};var W=U(R);if(W&&W.has(X))return W.get(X);var M={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var z in X)if(z!=="default"&&Object.prototype.hasOwnProperty.call(X,z)){var q=G?Object.getOwnPropertyDescriptor(X,z):null;q&&(q.get||q.set)?Object.defineProperty(M,z,q):M[z]=X[z]}return M.default=X,W&&W.set(X,M),M}function K(X){var R=ee();return function(){var M=(0,P.default)(X),G;if(R){var z=(0,P.default)(this).constructor;G=Reflect.construct(M,arguments,z)}else G=M.apply(this,arguments);return(0,T.default)(this,G)}}function ee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var I=function(X){(0,S.default)(W,X);var R=K(W);function W(){var M;(0,B.default)(this,W);for(var G=arguments.length,z=new Array(G),q=0;q<G;q++)z[q]=arguments[q];return M=R.call.apply(R,[this].concat(z)),M.handleChange=function(_){M.props.setOption("proximity",parseInt(_))},M}return(0,D.default)(W,[{key:"render",value:function(){var G=this.props,z=G.defaults,q=G.options,_=G.config,Y=G.optionLabel,j=G.optionPlaceholder,y=G.customProps,h=G.minProximity,l=G.maxProximity,a=G.optionTextBefore,i=G.readonly,u=_.settings,c=_.widgets,v=z?z.proximity:void 0,m=u.showLabels,o=q.get("proximity",v),n=(0,V.default)(h,l+1).map(function(p){return{title:p,value:p}}),r=c.select.factory;return F.default.createElement("div",{className:"operator--PROXIMITY"},F.default.createElement("div",{className:"operator--options"},m&&F.default.createElement("label",{className:"rule--label"},Y),!m&&a&&F.default.createElement("div",{className:"operator--options--sep"},F.default.createElement("span",null,a)),F.default.createElement(r,(0,E.default)({config:_,value:o,listValues:n,setValue:this.handleChange,readonly:i,placeholder:j},y))),F.default.createElement("div",{className:"operator--widgets"},this.props.children))}}]),W}(F.PureComponent);f.default=I,I.propTypes={config:x.default.object.isRequired,setOption:x.default.func.isRequired,options:x.default.any.isRequired,minProximity:x.default.number,maxProximity:x.default.number,optionPlaceholder:x.default.string,optionTextBefore:x.default.string,optionLabel:x.default.string,customProps:x.default.object,readonly:x.default.bool},I.defaultProps={customProps:{},minProximity:2,maxProximity:10,optionPlaceholder:"Select words between",optionLabel:"Words between",optionTextBefore:null}},27036:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),Object.defineProperty(f,"ProximityOperator",{enumerable:!0,get:function(){return C.default}});var C=d(t(71105))},72313:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var E=d(t(43693)),B=d(t(17383)),D=d(t(34579)),S=d(t(12475)),T=d(t(29511)),P=d(t(28452)),F=d(t(63072)),x=W(t(96540)),V=d(t(5556)),U=t(67212),J=t(76348),K=t(46897),ee=t(15203),I=d(t(68090)),X=d(t(95950));function R(Y){if(typeof WeakMap!="function")return null;var j=new WeakMap,y=new WeakMap;return(R=function(l){return l?y:j})(Y)}function W(Y,j){if(!j&&Y&&Y.__esModule)return Y;if(Y===null||C(Y)!=="object"&&typeof Y!="function")return{default:Y};var y=R(j);if(y&&y.has(Y))return y.get(Y);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in Y)if(a!=="default"&&Object.prototype.hasOwnProperty.call(Y,a)){var i=l?Object.getOwnPropertyDescriptor(Y,a):null;i&&(i.get||i.set)?Object.defineProperty(h,a,i):h[a]=Y[a]}return h.default=Y,y&&y.set(Y,h),h}function M(Y,j){var y=Object.keys(Y);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(Y);j&&(h=h.filter(function(l){return Object.getOwnPropertyDescriptor(Y,l).enumerable})),y.push.apply(y,h)}return y}function G(Y){for(var j=1;j<arguments.length;j++){var y=arguments[j]!=null?arguments[j]:{};j%2?M(Object(y),!0).forEach(function(h){(0,E.default)(Y,h,y[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(y)):M(Object(y)).forEach(function(h){Object.defineProperty(Y,h,Object.getOwnPropertyDescriptor(y,h))})}return Y}function z(Y){var j=q();return function(){var h=(0,F.default)(Y),l;if(j){var a=(0,F.default)(this).constructor;l=Reflect.construct(h,arguments,a)}else l=h.apply(this,arguments);return(0,P.default)(this,l)}}function q(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var _=function(Y){(0,T.default)(y,Y);var j=z(y);function y(h){var l;return(0,B.default)(this,y),l=j.call(this,h),(0,ee.useOnPropsChanged)((0,S.default)(l)),l.onPropsChanged(h),l}return(0,D.default)(y,[{key:"onPropsChanged",value:function(l){var a=this.props,i=["selectedField","config","parentField"],u=!this.meta||i.map(function(c){return l[c]!==a[c]}).filter(function(c){return c}).length>0;u&&(this.meta=this.getMeta(l))}},{key:"getMeta",value:function(l){var a=l.selectedField,i=l.config,u=l.parentField,c=a,v=i.settings,m=v.maxLabelsLength,o=v.fieldSeparatorDisplay,n=v.fieldPlaceholder,r=v.fieldSeparator,p=!!a,s=p?null:(0,K.truncateString)(n,m),O=p?(0,U.getFieldConfig)(i,c):null,b=O||{},Q=(0,J.getFieldPath)(c,i),H=(0,J.getFieldPath)(c,i,!0),L=this.getFieldLabel(O,c,i),N=(0,J.getFieldPathLabels)(c,i),w=N?N.join(o):null;(w==L||u)&&(w=null);var $=b.label2,te=typeof u=="string"?u.split(r):u,re=u?(0,U.getFieldConfig)(i,u):null,ue=u?re&&re.subfields:i.fields,ne=this.buildOptions(te,i,ue,te);return{placeholder:s,items:ne,parentField:u,selectedKey:c,selectedKeys:Q,selectedPath:H,selectedLabel:L,selectedOpts:b,selectedAltLabel:$,selectedFullLabel:w}}},{key:"getFieldLabel",value:function(l,a,i){if(!a)return null;var u=i.settings.fieldSeparator,c=i.settings.maxLabelsLength,v=Array.isArray(a)?a:a.split(u),m=l&&l.label||(0,I.default)(v);return m=(0,K.truncateString)(m,c),m}},{key:"buildOptions",value:function(l,a,i){var u=this,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(!i)return null;var m=a.settings,o=m.fieldSeparator,n=m.fieldSeparatorDisplay,r=c?c.join(o)+o:"";return(0,X.default)(i).map(function(p){var s=i[p],O=u.getFieldLabel(s,p,a),b=(0,J.getFieldPathLabels)(r+p,a),Q=b.join(n);(Q==O||l)&&(Q=null);var H=s.label2,L=s.tooltip,N=(c||[]).concat(p),w=s.disabled;if(!s.hideForSelect)return s.type=="!struct"?{disabled:w,key:p,path:r+p,label:O,fullLabel:Q,altLabel:H,tooltip:L,items:u.buildOptions(l,a,s.subfields,N,O)}:{disabled:w,key:p,path:r+p,label:O,fullLabel:Q,altLabel:H,tooltip:L,grouplabel:v}}).filter(function(p){return!!p})}},{key:"render",value:function(){var l=this.props,a=l.config,i=l.customProps,u=l.setField,c=l.readonly,v=l.id,m=l.groupId,o=a.settings.renderField,n=G({id:v,groupId:m,config:a,customProps:i,readonly:c,setField:u},this.meta);return o(n)}}]),y}(x.PureComponent);f.default=_,_.propTypes={id:V.default.string,groupId:V.default.string,config:V.default.object.isRequired,selectedField:V.default.string,parentField:V.default.string,customProps:V.default.object,readonly:V.default.bool,setField:V.default.func.isRequired}},52762:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var E=d(t(17383)),B=d(t(34579)),D=d(t(29511)),S=d(t(28452)),T=d(t(63072)),P=U(t(96540)),F=d(t(72313)),x=t(70039);function V(I){if(typeof WeakMap!="function")return null;var X=new WeakMap,R=new WeakMap;return(V=function(M){return M?R:X})(I)}function U(I,X){if(!X&&I&&I.__esModule)return I;if(I===null||C(I)!=="object"&&typeof I!="function")return{default:I};var R=V(X);if(R&&R.has(I))return R.get(I);var W={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var G in I)if(G!=="default"&&Object.prototype.hasOwnProperty.call(I,G)){var z=M?Object.getOwnPropertyDescriptor(I,G):null;z&&(z.get||z.set)?Object.defineProperty(W,G,z):W[G]=I[G]}return W.default=I,R&&R.set(I,W),W}function J(I){var X=K();return function(){var W=(0,T.default)(I),M;if(X){var G=(0,T.default)(this).constructor;M=Reflect.construct(W,arguments,G)}else M=W.apply(this,arguments);return(0,S.default)(this,M)}}function K(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var ee=function(I){(0,D.default)(R,I);var X=J(R);function R(){return(0,E.default)(this,R),X.apply(this,arguments)}return(0,B.default)(R,[{key:"render",value:function(){var M=this.props,G=M.config,z=M.selectedField,q=M.setField,_=M.parentField,Y=M.classname,j=M.readonly,y=M.id,h=M.groupId;return P.default.createElement(x.Col,{className:Y},G.settings.showLabels&&P.default.createElement("label",{className:"rule--label"},G.settings.fieldLabel),P.default.createElement(F.default,{config:G,selectedField:z,parentField:_,setField:q,customProps:G.settings.customFieldSelectProps,readonly:j,id:y,groupId:h}))}}]),R}(P.PureComponent);f.default=ee},20491:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var E=d(t(43693)),B=d(t(85715)),D=d(t(17383)),S=d(t(34579)),T=d(t(12475)),P=d(t(29511)),F=d(t(28452)),x=d(t(63072)),V=G(t(96540)),U=d(t(5556)),J=t(67212),K=t(76348),ee=t(46897),I=t(15203),X=d(t(68090)),R=d(t(95950)),W=d(t(1779));function M(y){if(typeof WeakMap!="function")return null;var h=new WeakMap,l=new WeakMap;return(M=function(i){return i?l:h})(y)}function G(y,h){if(!h&&y&&y.__esModule)return y;if(y===null||C(y)!=="object"&&typeof y!="function")return{default:y};var l=M(h);if(l&&l.has(y))return l.get(y);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in y)if(u!=="default"&&Object.prototype.hasOwnProperty.call(y,u)){var c=i?Object.getOwnPropertyDescriptor(y,u):null;c&&(c.get||c.set)?Object.defineProperty(a,u,c):a[u]=y[u]}return a.default=y,l&&l.set(y,a),a}function z(y,h){var l=Object.keys(y);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(y);h&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(y,i).enumerable})),l.push.apply(l,a)}return l}function q(y){for(var h=1;h<arguments.length;h++){var l=arguments[h]!=null?arguments[h]:{};h%2?z(Object(l),!0).forEach(function(a){(0,E.default)(y,a,l[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(l)):z(Object(l)).forEach(function(a){Object.defineProperty(y,a,Object.getOwnPropertyDescriptor(l,a))})}return y}function _(y){var h=Y();return function(){var a=(0,x.default)(y),i;if(h){var u=(0,x.default)(this).constructor;i=Reflect.construct(a,arguments,u)}else i=a.apply(this,arguments);return(0,F.default)(this,i)}}function Y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var j=function(y){(0,P.default)(l,y);var h=_(l);function l(a){var i;return(0,D.default)(this,l),i=h.call(this,a),(0,I.useOnPropsChanged)((0,T.default)(i)),i.onPropsChanged(a),i}return(0,S.default)(l,[{key:"onPropsChanged",value:function(i){var u=this.props,c=["config","field","operator","isFuncArg"],v=["config","field","value"],m=!this.items||c.map(function(n){return i[n]!==u[n]}).filter(function(n){return n}).length>0,o=!this.meta||v.map(function(n){return i[n]!==u[n]}).filter(function(n){return n}).length>0;o&&(this.meta=this.getMeta(i)),m&&(this.items=this.getItems(i))}},{key:"getItems",value:function(i){var u=i.config,c=i.field,v=i.operator,m=i.parentFuncs,o=i.fieldDefinition,n=i.isFuncArg,r=u.settings.canUseFuncForField,p=this.filterFuncs(u,u.funcs,c,v,r,m,n,o),s=this.buildOptions(u,p);return s}},{key:"getMeta",value:function(i){var u=i.config,c=i.field,v=i.value,m=u.settings,o=m.funcPlaceholder,n=m.fieldSeparatorDisplay,r=v,p=!!v,s=(0,J.getFieldConfig)(u,c),O=s.widgets.field,b=O&&O.widgetProps||{},Q=p?null:o,H=p?(0,J.getFuncConfig)(u,r):null,L=H||{},N=(0,K.getFieldPath)(r,u),w=(0,K.getFieldPath)(r,u,!0),$=this.getFuncLabel(H,r,u),te=(0,K.getFuncPathLabels)(r,u),re=te?te.join(n):null;return re==$&&(re=null),{placeholder:Q,selectedKey:r,selectedKeys:N,selectedPath:w,selectedLabel:$,selectedOpts:L,selectedFullLabel:re}}},{key:"filterFuncs",value:function(i,u,c,v,m,o,n,r){u=(0,W.default)(u);var p=i.settings.fieldSeparator,s=(0,J.getFieldConfig)(i,c),O,b=s,Q=(0,K.getWidgetForFieldOp)(i,c,v,"value");if(n&&r)b=r,O=r.type;else if(Q){var H=i.widgets[Q],L=H.type;O=L}else O=s.type;function N(w,$){for(var te in w){var re=w[te].subfields,ue=($||[]).concat(te),ne=ue.join(p),pe=(0,J.getFuncConfig)(i,ne);if(pe.type=="!struct")N(re,ue)==0&&delete w[te];else{var se=pe.returnType==O;b.funcs&&(se=se&&b.funcs.includes(ne)),m&&(se=se&&m(c,s,ne,pe,v)),!pe.allowSelfNesting&&o&&o.map(function(ve){var me=(0,B.default)(ve,2),ye=me[0],Oe=me[1];return ye}).includes(ne)&&(se=!1),se||delete w[te]}}return(0,R.default)(w).length}return N(u,[]),u}},{key:"buildOptions",value:function(i,u){var c=this,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(!u)return null;var o=i.settings,n=o.fieldSeparator,r=o.fieldSeparatorDisplay,p=v?v.join(n)+n:"";return(0,R.default)(u).map(function(s){var O=u[s],b=c.getFuncLabel(O,s,i),Q=(0,K.getFuncPathLabels)(s,i),H=Q.join(r);H==b&&(H=null);var L=O.tooltip,N=(v||[]).concat(s);return O.type=="!struct"?{key:s,path:p+s,label:b,fullLabel:H,tooltip:L,items:c.buildOptions(i,O.subfields,N,b)}:{key:s,path:p+s,label:b,fullLabel:H,tooltip:L,grouplabel:m}})}},{key:"getFuncLabel",value:function(i,u,c){if(!u)return null;var v=c.settings.fieldSeparator,m=c.settings.maxLabelsLength,o=Array.isArray(u)?u:u.split(v),n=i.label||(0,X.default)(o);return n=(0,ee.truncateString)(n,m),n}},{key:"render",value:function(){var i=this.props,u=i.config,c=i.customProps,v=i.setValue,m=i.readonly,o=i.id,n=i.groupId,r=u.settings.renderFunc,p=q({config:u,customProps:c,readonly:m,setField:v,items:this.items,id:o,groupId:n},this.meta);return r(p)}}]),l}(V.PureComponent);f.default=j,j.propTypes={id:U.default.string,groupId:U.default.string,config:U.default.object.isRequired,field:U.default.string.isRequired,operator:U.default.string,customProps:U.default.object,value:U.default.string,setValue:U.default.func.isRequired,readonly:U.default.bool,parentFuncs:U.default.array,fieldDefinition:U.default.object,isFuncArg:U.default.bool}},29255:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var E=d(t(94634)),B=d(t(41132)),D=d(t(17383)),S=d(t(34579)),T=d(t(12475)),P=d(t(29511)),F=d(t(28452)),x=d(t(63072)),V=M(t(96540)),U=d(t(5556)),J=d(t(20491)),K=t(67212),ee=d(t(13745)),I=t(70039),X=t(22980),R=t(15203);function W(Y){if(typeof WeakMap!="function")return null;var j=new WeakMap,y=new WeakMap;return(W=function(l){return l?y:j})(Y)}function M(Y,j){if(!j&&Y&&Y.__esModule)return Y;if(Y===null||C(Y)!=="object"&&typeof Y!="function")return{default:Y};var y=W(j);if(y&&y.has(Y))return y.get(Y);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in Y)if(a!=="default"&&Object.prototype.hasOwnProperty.call(Y,a)){var i=l?Object.getOwnPropertyDescriptor(Y,a):null;i&&(i.get||i.set)?Object.defineProperty(h,a,i):h[a]=Y[a]}return h.default=Y,y&&y.set(Y,h),h}function G(Y){var j=z();return function(){var h=(0,x.default)(Y),l;if(j){var a=(0,x.default)(this).constructor;l=Reflect.construct(h,arguments,a)}else l=h.apply(this,arguments);return(0,F.default)(this,l)}}function z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var q=function(Y){(0,P.default)(y,Y);var j=G(y);function y(h){var l;return(0,D.default)(this,y),l=j.call(this,h),l.setFunc=function(a){l.props.setValue((0,X.setFunc)(l.props.value,a,l.props.config))},l.setArgValue=function(a,i){var u=l.props.config,c=l.meta.funcDefinition,v=c.args,m=v[a];l.props.setValue((0,X.setArgValue)(l.props.value,a,i,m,u))},l.setArgValueSrc=function(a,i){var u=l.props.config,c=l.meta.funcDefinition,v=c.args,m=v[a];l.props.setValue((0,X.setArgValueSrc)(l.props.value,a,i,m,u))},l.renderFuncSelect=function(){var a=l.props,i=a.config,u=a.field,c=a.operator,v=a.customProps,m=a.value,o=a.readonly,n=a.parentFuncs,r=a.id,p=a.groupId,s=a.isFuncArg,O=a.fieldDefinition,b=m?m.get("func"):null,Q={value:b,setValue:l.setFunc,config:i,field:u,operator:c,customProps:v,readonly:o,parentFuncs:n,isFuncArg:s,fieldDefinition:O,id:r,groupId:p},H=i.settings,L=H.showLabels,N=H.funcLabel,w=L?V.default.createElement("label",{className:"rule--label"},N):null;return V.default.createElement(I.Col,{key:"func",className:"rule--func"},w,V.default.createElement(J.default,Q))},l.renderArgLabel=function(a,i){var u=i.valueSources,c=i.type,v=i.showPrefix,m=i.label,o=l.props.config,n=u&&u.length==1&&u[0]=="const",r=!o.settings.showLabels&&(c=="boolean"||n)&&v;return r?V.default.createElement(I.Col,{className:"rule--func--arg-label"},m||a):null},l.renderArgLabelSep=function(a,i){var u=i.valueSources,c=i.type,v=i.showPrefix,m=l.props.config,o=u&&u.length==1&&u[0]=="const",n=!m.settings.showLabels&&(c=="boolean"||o)&&v;return n?V.default.createElement(I.Col,{className:"rule--func--arg-label-sep"},":"):null},l.renderArgVal=function(a,i,u){var c=l.props,v=c.config,m=c.field,o=c.operator,n=c.value,r=c.readonly,p=c.parentFuncs,s=c.id,O=c.groupId,b=n?n.getIn(["args",i]):null,Q=b?b.get("value"):void 0,H=u.valueSources.length==1?u.valueSources[0]:void 0,L=b?b.get("valueSrc")||H||"value":H,N={config:v,fieldFunc:a,fieldArg:i,leftField:m,operator:null,value:Q,valueSrc:L,setValue:l.setArgValue,setValueSrc:l.setArgValueSrc,funcKey:a,argKey:i,argDefinition:u,readonly:r,parentFuncs:p,id:s,groupId:O};return V.default.createElement(I.Col,{className:"rule--func--arg-value"},V.default.createElement(_,N))},l.renderArgSep=function(a,i,u,c){var v=c.renderSeps;return u?V.default.createElement(I.Col,{className:"rule--func--arg-sep"},v?v[u-1]:", "):null},l.renderBracketBefore=function(a){var i=a.renderBrackets;return V.default.createElement(I.Col,{key:"before_args",className:"rule--func--bracket-before"},i?i[0]:"(")},l.renderBracketAfter=function(a){var i=a.renderBrackets;return V.default.createElement(I.Col,{key:"after_args",className:"rule--func--bracket-after"},i?i[1]:")")},l.renderFuncArgs=function(){var a=l.meta,i=a.funcDefinition,u=a.funcKey;if(!u)return null;var c=i.args;return c?V.default.createElement(V.default.Fragment,null,l.renderBracketBefore(i),V.default.createElement(I.Col,{key:"args",className:"rule--func--args"},Object.keys(c).map(function(v,m){return V.default.createElement(I.Col,{key:"arg-".concat(v,"-").concat(m),className:"rule--func--arg"},l.renderArgSep(v,c[v],m,i),l.renderArgLabel(v,c[v]),l.renderArgLabelSep(v,c[v]),l.renderArgVal(u,v,c[v]))})),l.renderBracketAfter(i)):null},(0,R.useOnPropsChanged)((0,T.default)(l)),l.onPropsChanged(h),l}return(0,S.default)(y,[{key:"onPropsChanged",value:function(l){var a=this.props,i=["config","field","operator","value"],u=!this.meta||i.map(function(c){return l[c]!==a[c]}).filter(function(c){return c}).length>0;u&&(this.meta=this.getMeta(l))}},{key:"getMeta",value:function(l){var a=l.config,i=l.field,u=l.operator,c=l.value,v=c?c.get("func"):null,m=v?(0,K.getFuncConfig)(a,v):null;return{funcDefinition:m,funcKey:v}}},{key:"render",value:function(){return V.default.createElement(I.Col,{className:"rule--func--wrapper"},this.renderFuncSelect(),this.renderFuncArgs())}}]),y}(V.PureComponent);f.default=q,q.propTypes={id:U.default.string,groupId:U.default.string,config:U.default.object.isRequired,field:U.default.string.isRequired,operator:U.default.string,customProps:U.default.object,value:U.default.object,setValue:U.default.func.isRequired,readonly:U.default.bool,parentFuncs:U.default.array,fieldDefinition:U.default.object,isFuncArg:U.default.bool};var _=function(Y){(0,P.default)(y,Y);var j=G(y);function y(){var h;(0,D.default)(this,y);for(var l=arguments.length,a=new Array(l),i=0;i<l;i++)a[i]=arguments[i];return h=j.call.apply(j,[this].concat(a)),h.setValue=function(u,c,v){var m=h.props,o=m.setValue,n=m.argKey;o(n,c)},h.setValueSrc=function(u,c,v){var m=h.props,o=m.setValueSrc,n=m.argKey;o(n,c)},h}return(0,S.default)(y,[{key:"render",value:function(){var l=this.props,a=l.funcKey,i=l.argKey,u=l.parentFuncs;return V.default.createElement(ee.default,(0,E.default)({},this.props,{setValue:this.setValue,setValueSrc:this.setValueSrc,isFuncArg:!0,parentFuncs:[].concat((0,B.default)(u||[]),[[a,i]])}))}}]),y}(V.PureComponent);_.propTypes={funcKey:U.default.string.isRequired,argKey:U.default.string.isRequired,setValue:U.default.func.isRequired,setValueSrc:U.default.func.isRequired,readonly:U.default.bool,parentFuncs:U.default.array,id:U.default.string,groupId:U.default.string}},36293:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var E=d(t(43693)),B=d(t(17383)),D=d(t(34579)),S=d(t(12475)),T=d(t(29511)),P=d(t(28452)),F=d(t(63072)),x=R(t(96540)),V=d(t(5556)),U=t(67212),J=d(t(95950)),K=d(t(71086)),ee=d(t(73916)),I=t(15203);function X(_){if(typeof WeakMap!="function")return null;var Y=new WeakMap,j=new WeakMap;return(X=function(h){return h?j:Y})(_)}function R(_,Y){if(!Y&&_&&_.__esModule)return _;if(_===null||C(_)!=="object"&&typeof _!="function")return{default:_};var j=X(Y);if(j&&j.has(_))return j.get(_);var y={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in _)if(l!=="default"&&Object.prototype.hasOwnProperty.call(_,l)){var a=h?Object.getOwnPropertyDescriptor(_,l):null;a&&(a.get||a.set)?Object.defineProperty(y,l,a):y[l]=_[l]}return y.default=_,j&&j.set(_,y),y}function W(_,Y){var j=Object.keys(_);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(_);Y&&(y=y.filter(function(h){return Object.getOwnPropertyDescriptor(_,h).enumerable})),j.push.apply(j,y)}return j}function M(_){for(var Y=1;Y<arguments.length;Y++){var j=arguments[Y]!=null?arguments[Y]:{};Y%2?W(Object(j),!0).forEach(function(y){(0,E.default)(_,y,j[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(j)):W(Object(j)).forEach(function(y){Object.defineProperty(_,y,Object.getOwnPropertyDescriptor(j,y))})}return _}function G(_){var Y=z();return function(){var y=(0,F.default)(_),h;if(Y){var l=(0,F.default)(this).constructor;h=Reflect.construct(y,arguments,l)}else h=y.apply(this,arguments);return(0,P.default)(this,h)}}function z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var q=function(_){(0,T.default)(j,_);var Y=G(j);function j(y){var h;return(0,B.default)(this,j),h=Y.call(this,y),(0,I.useOnPropsChanged)((0,S.default)(h)),h.onPropsChanged(y),h}return(0,D.default)(j,[{key:"onPropsChanged",value:function(h){var l=this.props,a=["config","selectedField","selectedOperator"],i=!this.meta||a.map(function(u){return h[u]!==l[u]}).filter(function(u){return u}).length>0;i&&(this.meta=this.getMeta(h))}},{key:"getMeta",value:function(h){var l=h.config,a=h.selectedField,i=h.selectedOperator,u=(0,U.getFieldConfig)(l,a),c=u?.operators,v=(0,ee.default)((0,K.default)(l.operators,function(H,L){return c?.indexOf(L)!==-1}),function(H,L){return(0,U.getOperatorConfig)(l,L,a)}),m=this.buildOptions(l,v,c),o=!!i,n=o?v[i]:null,r=n||{},p=this.props.config.settings.operatorPlaceholder,s=i,O=o?[s]:null,b=O,Q=r.label;return{placeholder:p,items:m,selectedKey:s,selectedKeys:O,selectedPath:b,selectedLabel:Q,selectedOpts:r,fieldConfig:u}}},{key:"buildOptions",value:function(h,l,a){return!l||!a?null:(0,J.default)(l).sort(function(i,u){return a.indexOf(i)-a.indexOf(u)}).map(function(i){var u=l[i],c=u.label;return{key:i,path:i,label:c}})}},{key:"render",value:function(){var h=this.props,l=h.config,a=h.customProps,i=h.setOperator,u=h.readonly,c=h.id,v=h.groupId,m=l.settings.renderOperator,o=M({id:c,groupId:v,config:l,customProps:a,readonly:u,setField:i},this.meta);return o.items?m(o):null}}]),j}(x.PureComponent);f.default=q,q.propTypes={id:V.default.string,groupId:V.default.string,config:V.default.object.isRequired,selectedField:V.default.string,selectedOperator:V.default.string,readonly:V.default.bool,setOperator:V.default.func.isRequired}},36987:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var E=d(t(91847)),B=d(t(17383)),D=d(t(34579)),S=d(t(29511)),T=d(t(28452)),P=d(t(63072)),F=K(t(96540)),x=d(t(5556)),V=t(67212),U=["factory"];function J(R){if(typeof WeakMap!="function")return null;var W=new WeakMap,M=new WeakMap;return(J=function(z){return z?M:W})(R)}function K(R,W){if(!W&&R&&R.__esModule)return R;if(R===null||C(R)!=="object"&&typeof R!="function")return{default:R};var M=J(W);if(M&&M.has(R))return M.get(R);var G={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var q in R)if(q!=="default"&&Object.prototype.hasOwnProperty.call(R,q)){var _=z?Object.getOwnPropertyDescriptor(R,q):null;_&&(_.get||_.set)?Object.defineProperty(G,q,_):G[q]=R[q]}return G.default=R,M&&M.set(R,G),G}function ee(R){var W=I();return function(){var G=(0,P.default)(R),z;if(W){var q=(0,P.default)(this).constructor;z=Reflect.construct(G,arguments,q)}else z=G.apply(this,arguments);return(0,T.default)(this,z)}}function I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var X=function(R){(0,S.default)(M,R);var W=ee(M);function M(){return(0,B.default)(this,M),W.apply(this,arguments)}return(0,D.default)(M,[{key:"render",value:function(){if(!this.props.selectedOperator)return null;var z=(0,V.getOperatorConfig)(this.props.config,this.props.selectedOperator,this.props.selectedField);if(typeof z.options>"u")return null;var q=z.options,_=q.factory,Y=(0,E.default)(q,U),j=Object.assign({},Y,{config:this.props.config,field:this.props.selectedField,operator:this.props.selectedOperator,options:this.props.operatorOptions,setOption:this.props.setOperatorOption,readonly:this.props.readonly}),y=_(j),h=this.props.selectedOperator;return F.default.createElement("div",{className:"rule--operator rule--operator--".concat(h.toUpperCase())},y)}}]),M}(F.PureComponent);f.default=X,X.propTypes={config:x.default.object.isRequired,operatorOptions:x.default.any.isRequired,selectedField:x.default.string.isRequired,selectedOperator:x.default.string.isRequired,readonly:x.default.bool,setOperatorOption:x.default.func.isRequired}},26686:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var E=d(t(17383)),B=d(t(34579)),D=d(t(29511)),S=d(t(28452)),T=d(t(63072)),P=U(t(96540)),F=d(t(36293)),x=t(70039);function V(I){if(typeof WeakMap!="function")return null;var X=new WeakMap,R=new WeakMap;return(V=function(M){return M?R:X})(I)}function U(I,X){if(!X&&I&&I.__esModule)return I;if(I===null||C(I)!=="object"&&typeof I!="function")return{default:I};var R=V(X);if(R&&R.has(I))return R.get(I);var W={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var G in I)if(G!=="default"&&Object.prototype.hasOwnProperty.call(I,G)){var z=M?Object.getOwnPropertyDescriptor(I,G):null;z&&(z.get||z.set)?Object.defineProperty(W,G,z):W[G]=I[G]}return W.default=I,R&&R.set(I,W),W}function J(I){var X=K();return function(){var W=(0,T.default)(I),M;if(X){var G=(0,T.default)(this).constructor;M=Reflect.construct(W,arguments,G)}else M=W.apply(this,arguments);return(0,S.default)(this,M)}}function K(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var ee=function(I){(0,D.default)(R,I);var X=J(R);function R(){return(0,E.default)(this,R),X.apply(this,arguments)}return(0,B.default)(R,[{key:"render",value:function(){var M=this.props,G=M.config,z=M.selectedField,q=M.selectedOperator,_=M.setOperator,Y=M.selectedFieldPartsLabels,j=M.showOperator,y=M.showOperatorLabel,h=M.selectedFieldWidgetConfig,l=M.readonly,a=M.id,i=M.groupId,u=j&&P.default.createElement(x.Col,{key:"operators-for-"+(Y||[]).join("_"),className:"rule--operator"},G.settings.showLabels&&P.default.createElement("label",{className:"rule--label"},G.settings.operatorLabel),P.default.createElement(F.default,{key:"operator",config:G,selectedField:z,selectedOperator:q,setOperator:_,readonly:l,id:a,groupId:i})),c=y&&P.default.createElement(x.Col,{key:"operators-for-"+(Y||[]).join("_"),className:"rule--operator"},P.default.createElement("div",{className:"rule--operator"},G.settings.showLabels?P.default.createElement("label",{className:"rule--label"},"\xA0"):null,P.default.createElement("span",null,h.operatorInlineLabel)));return[u,c]}}]),R}(P.PureComponent);f.default=ee},54662:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var E=d(t(43693)),B=d(t(17383)),D=d(t(34579)),S=d(t(12475)),T=d(t(29511)),P=d(t(28452)),F=d(t(63072)),x=M(t(96540)),V=d(t(5556)),U=t(67212),J=t(76348),K=t(46897),ee=t(15203),I=d(t(68090)),X=d(t(95950)),R=d(t(1779));function W(j){if(typeof WeakMap!="function")return null;var y=new WeakMap,h=new WeakMap;return(W=function(a){return a?h:y})(j)}function M(j,y){if(!y&&j&&j.__esModule)return j;if(j===null||C(j)!=="object"&&typeof j!="function")return{default:j};var h=W(y);if(h&&h.has(j))return h.get(j);var l={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in j)if(i!=="default"&&Object.prototype.hasOwnProperty.call(j,i)){var u=a?Object.getOwnPropertyDescriptor(j,i):null;u&&(u.get||u.set)?Object.defineProperty(l,i,u):l[i]=j[i]}return l.default=j,h&&h.set(j,l),l}function G(j,y){var h=Object.keys(j);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(j);y&&(l=l.filter(function(a){return Object.getOwnPropertyDescriptor(j,a).enumerable})),h.push.apply(h,l)}return h}function z(j){for(var y=1;y<arguments.length;y++){var h=arguments[y]!=null?arguments[y]:{};y%2?G(Object(h),!0).forEach(function(l){(0,E.default)(j,l,h[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(h)):G(Object(h)).forEach(function(l){Object.defineProperty(j,l,Object.getOwnPropertyDescriptor(h,l))})}return j}function q(j){var y=_();return function(){var l=(0,F.default)(j),a;if(y){var i=(0,F.default)(this).constructor;a=Reflect.construct(l,arguments,i)}else a=l.apply(this,arguments);return(0,P.default)(this,a)}}function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Y=function(j){(0,T.default)(h,j);var y=q(h);function h(l){var a;return(0,B.default)(this,h),a=y.call(this,l),(0,ee.useOnPropsChanged)((0,S.default)(a)),a.onPropsChanged(l),a}return(0,D.default)(h,[{key:"onPropsChanged",value:function(a){var i=this.props,u=["config","field","operator","isFuncArg","parentField"],c=["config","field","operator","value","placeholder","isFuncArg","parentField"],v=!this.items||u.map(function(o){return a[o]!==i[o]}).filter(function(o){return o}).length>0,m=!this.meta||c.map(function(o){return a[o]!==i[o]}).filter(function(o){return o}).length>0;v&&(this.items=this.getItems(a)),m&&(this.meta=this.getMeta(a))}},{key:"getItems",value:function(a){var i=a.config,u=a.field,c=a.operator,v=a.parentField,m=a.isFuncArg,o=a.fieldDefinition,n=i.settings.canCompareFieldWithField,r=i.settings.fieldSeparator,p=typeof v=="string"?v.split(r):v,s=v?(0,U.getFieldConfig)(i,v):null,O=v?s&&s.subfields:i.fields,b=this.filterFields(i,O,u,v,p,c,n,m,o),Q=this.buildOptions(p,i,b,p);return Q}},{key:"getMeta",value:function(a){var i=a.config,u=a.field,c=a.operator,v=a.value,m=a.placeholder,o=a.isFuncArg,n=a.parentField,r=i.settings,p=r.fieldPlaceholder,s=r.fieldSeparatorDisplay,O=v,b=!!v,Q=(0,U.getFieldConfig)(i,u),H=Q.widgets.field,L=H&&H.widgetProps||{},N=b?null:o&&m||L.valuePlaceholder||p,w=b?(0,U.getFieldConfig)(i,O):null,$=w||{},te=(0,J.getFieldPath)(O,i),re=(0,J.getFieldPath)(O,i,!0),ue=this.getFieldLabel(w,O,i),ne=(0,J.getFieldPathLabels)(O,i),pe=ne?ne.join(s):null;(pe==ue||n)&&(pe=null);var se=$.label2;return{placeholder:N,selectedKey:O,selectedKeys:te,selectedPath:re,selectedLabel:ue,selectedOpts:$,selectedAltLabel:se,selectedFullLabel:pe}}},{key:"filterFields",value:function(a,i,u,c,v,m,o,n,r){i=(0,R.default)(i);var p=a.settings.fieldSeparator,s=(0,U.getFieldConfig)(a,u),O,b=(0,J.getWidgetForFieldOp)(a,u,m,"value");if(n&&r)O=r.type;else if(b){var Q=a.widgets[b],H=Q.type;O=H}else O=s.type;function L(N,w){for(var $ in N){var te=N[$].subfields,re=(w||[]).concat($),ue=re.join(p),ne=(0,U.getFieldConfig)(a,ue);if(!ne)delete N[$];else if(ne.type=="!struct"||ne.type=="!group")L(te,re)==0&&delete N[$];else{var pe=ne.type==O&&(n?!0:ue!=u),se=o||a.settings.canCompareFieldWithField;se&&(pe=pe&&se(u,s,ue,ne,m)),pe||delete N[$]}}return(0,X.default)(N).length}return L(i,v||[]),i}},{key:"buildOptions",value:function(a,i,u){var c=this,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(!u)return null;var o=i.settings,n=o.fieldSeparator,r=o.fieldSeparatorDisplay,p=v?v.join(n)+n:"";return(0,X.default)(u).map(function(s){var O=u[s],b=c.getFieldLabel(O,s,i),Q=(0,J.getFieldPathLabels)(s,i),H=Q.join(r);(H==b||a)&&(H=null);var L=O.label2,N=O.tooltip,w=(v||[]).concat(s);if(!O.hideForCompare)return O.type=="!struct"||O.type=="!group"?{key:s,path:p+s,label:b,fullLabel:H,altLabel:L,tooltip:N,items:c.buildOptions(a,i,O.subfields,w,b)}:{key:s,path:p+s,label:b,fullLabel:H,altLabel:L,tooltip:N,grouplabel:m}}).filter(function(s){return!!s})}},{key:"getFieldLabel",value:function(a,i,u){if(!i)return null;var c=u.settings.fieldSeparator,v=u.settings.maxLabelsLength,m=Array.isArray(i)?i:i.split(c),o=a.label||(0,I.default)(m);return o=(0,K.truncateString)(o,v),o}},{key:"render",value:function(){var a=this.props,i=a.config,u=a.customProps,c=a.setValue,v=a.readonly,m=a.id,o=a.groupId,n=i.settings.renderField,r=z({config:i,customProps:u,setField:c,readonly:v,items:this.items,id:m,groupId:o},this.meta);return n(r)}}]),h}(x.PureComponent);f.default=Y,Y.propTypes={id:V.default.string,groupId:V.default.string,setValue:V.default.func.isRequired,config:V.default.object.isRequired,field:V.default.string.isRequired,value:V.default.string,operator:V.default.string,customProps:V.default.object,readonly:V.default.bool,parentField:V.default.string,fieldDefinition:V.default.object,isFuncArg:V.default.bool}},13745:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var E=d(t(94634)),B=d(t(17383)),D=d(t(34579)),S=d(t(12475)),T=d(t(29511)),P=d(t(28452)),F=d(t(63072)),x=z(t(96540)),V=d(t(5556)),U=d(t(23181)),J=t(67212),K=t(76348),ee=t(46897),I=t(15203),X=d(t(44383)),R=d(t(36940)),W=d(t(28807)),M=t(70039);function G(y){if(typeof WeakMap!="function")return null;var h=new WeakMap,l=new WeakMap;return(G=function(i){return i?l:h})(y)}function z(y,h){if(!h&&y&&y.__esModule)return y;if(y===null||C(y)!=="object"&&typeof y!="function")return{default:y};var l=G(h);if(l&&l.has(y))return l.get(y);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in y)if(u!=="default"&&Object.prototype.hasOwnProperty.call(y,u)){var c=i?Object.getOwnPropertyDescriptor(y,u):null;c&&(c.get||c.set)?Object.defineProperty(a,u,c):a[u]=y[u]}return a.default=y,l&&l.set(y,a),a}function q(y){var h=_();return function(){var a=(0,F.default)(y),i;if(h){var u=(0,F.default)(this).constructor;i=Reflect.construct(a,arguments,u)}else i=a.apply(this,arguments);return(0,P.default)(this,i)}}function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Y={cardinality:1},j=function(y){(0,T.default)(l,y);var h=q(l);function l(a){var i;return(0,B.default)(this,l),i=h.call(this,a),i._setValue=function(u,c,v,m,o,n){if(u&&Array.isArray(m)){var r=[i.props.value.get(0),i.props.value.get(1)];r[0]!=m[0]&&i.props.setValue(0,m[0],v,o,n),r[1]!=m[1]&&i.props.setValue(1,m[1],v,o,n)}else i.props.setValue(c,m,v,o,n)},i._onChangeValueSrc=function(u,c){i.props.setValueSrc(u,c)},i.renderWidget=function(u,c,v){var m=v.config,o=v.isFuncArg,n=v.leftField,r=v.operator,p=v.value,s=v.valueError,O=v.readonly,b=v.parentField,Q=v.parentFuncs,H=v.id,L=v.groupId,N=m.settings,w=c.widgets,$=c.iValues,te=c.aField,re=o?$:p,ue=o?n:te,ne=w[u],pe=ne.valueSrc,se=ne.valueLabel,ve=N.showLabels?x.default.createElement("label",{className:"rule--label"},se.label):null;return x.default.createElement("div",{key:"widget-"+ue+"-"+u,className:"widget--widget"},pe=="func"?null:ve,x.default.createElement(W.default,(0,E.default)({id:H,groupId:L,valueSrc:pe,delta:u,value:re,valueError:s,isFuncArg:o},(0,X.default)(c,["isSpecialRange","fieldDefinition","asyncListValues"]),(0,X.default)(w[u],["widget","widgetDefinition","widgetValueLabel","valueLabels","textSeparators","setValueHandler"]),{config:m,field:ue,parentField:b,parentFuncs:Q,operator:r,readonly:O})))},i.renderValueSources=function(u,c,v){var m=v.config,o=v.isFuncArg,n=v.leftField,r=v.operator,p=v.readonly,s=m.settings,O=c.valueSources,b=c.widgets,Q=c.aField,H=o?n:Q,L=b[u],N=L.valueSrc,w=L.setValueSrcHandler,$=s.valueSourcesInfo,te=s.renderValueSources,re=O.map(function(ne){return[ne,{label:$[ne].label}]}),ue=s.showLabels?x.default.createElement("label",{className:"rule--label"},"\xA0"):null;return O.length>1&&!p&&x.default.createElement("div",{key:"valuesrc-"+H+"-"+u,className:"widget--valuesrc"},ue,x.default.createElement(te,{key:"valuesrc-"+u,delta:u,valueSources:re,valueSrc:N,config:m,field:H,operator:r,setValueSrc:w,readonly:p,title:s.valueSourcesPopupTitle}))},i.renderSep=function(u,c,v){var m=v.config,o=c.widgets,n=m.settings,r=o[u].sepText,p=n.showLabels?x.default.createElement("label",{className:"rule--label"},"\xA0"):null;return r&&x.default.createElement("div",{key:"widget-separators-"+u,className:"widget--sep"},p,x.default.createElement("span",null,r))},i.renderWidgetDelta=function(u){var c=i.renderSep(u,i.meta,i.props),v=i.renderValueSources(u,i.meta,i.props),m=i.renderWidget(u,i.meta,i.props);return[c,v,m]},(0,I.useOnPropsChanged)((0,S.default)(i)),i.onPropsChanged(a),i}return(0,D.default)(l,[{key:"onPropsChanged",value:function(i){var u=this.props,c=["config","field","fieldFunc","fieldArg","leftField","operator","valueSrc","isFuncArg","asyncListValues"],v=!this.meta||c.map(function(m){return i[m]!==u[m]||m=="isFuncArg"&&i.isFuncArg&&i.value!==u.value}).filter(function(m){return m}).length>0;v&&(this.meta=this.getMeta(i))}},{key:"getMeta",value:function(i){var u=this,c=i.config,v=i.field,m=i.fieldFunc,o=i.fieldArg,n=i.operator,r=i.valueSrc,p=i.value,s=i.isForRuleGruop,O=i.isCaseValue,b=i.isFuncArg,Q=i.leftField,H=i.asyncListValues,L=b?{func:m,arg:o}:v,N=r,w=p;(b||s||O)&&(N=R.default.List([r]),w=R.default.List([p]));var $=(0,J.getFieldConfig)(c,L),te=(0,K.getWidgetForFieldOp)(c,L,n),re=(0,K.getWidgetsForFieldOp)(c,L,n),ue=b?Y:(0,J.getOperatorConfig)(c,n,L);if(($==null||ue==null)&&!O)return null;var ne=ue?.isSpecialRange,pe=ne&&(N.get(0)=="field"||N.get(1)=="field"),se=ne&&!pe,ve=se?1:(0,ee.defaultValue)(ue?.cardinality,1);if(ve===0)return null;var me=(0,K.getValueSourcesForFieldOp)(c,L,n,$,b?Q:null),ye=(0,U.default)(0,ve).map(function(Oe){var ge,Te=N.get(Oe)||null,Ne=(0,K.getWidgetForFieldOp)(c,L,n,Te),Ie=(0,J.getFieldWidgetConfig)(c,L,n,Ne,Te);pe&&(Ne=Ie.singleWidget,Ie=(0,J.getFieldWidgetConfig)(c,L,n,Ne,Te));var we=(ge=Ie)===null||ge===void 0?void 0:ge.type,We=(0,K.getValueLabel)(c,L,n,Oe,Te,se),je=(0,K.getValueLabel)(c,L,n,Oe,null,se),Ke=ue!=null&&ue.textSeparators?ue?.textSeparators[Oe]:null,fe=u._onChangeValueSrc.bind(u,Oe),de=null,Pe=null;ne&&(de=[(0,K.getValueLabel)(c,L,n,0),(0,K.getValueLabel)(c,L,n,1)],de={placeholder:[de[0].placeholder,de[1].placeholder],label:[de[0].label,de[1].label]},Pe=ue?.textSeparators);var be=u._setValue.bind(u,ne,Oe,we);return{valueSrc:Te,valueLabel:We,widget:Ne,sepText:Ke,setValueSrcHandler:fe,widgetDefinition:Ie,widgetValueLabel:je,valueLabels:de,textSeparators:Pe,setValueHandler:be}});return{defaultWidget:te,fieldDefinition:$,operatorDefinition:ue,isSpecialRange:se,cardinality:ve,valueSources:me,widgets:ye,iValues:w,aField:L,asyncListValues:H}}},{key:"render",value:function(){if(!this.meta)return null;var i=this.meta,u=i.defaultWidget,c=i.cardinality;if(!u)return null;var v=u;return x.default.createElement(M.Col,{className:"rule--widget rule--widget--".concat(v.toUpperCase()),key:"widget-col-"+v},(0,U.default)(0,c).map(this.renderWidgetDelta))}}]),l}(x.PureComponent);f.default=j,j.propTypes={config:V.default.object.isRequired,value:V.default.any,valueSrc:V.default.any,valueError:V.default.any,field:V.default.string,operator:V.default.string,readonly:V.default.bool,asyncListValues:V.default.array,id:V.default.string,groupId:V.default.string,setValue:V.default.func,setValueSrc:V.default.func,isFuncArg:V.default.bool,fieldFunc:V.default.string,fieldArg:V.default.string,leftField:V.default.string,isForRuleGruop:V.default.bool,parentField:V.default.string,parentFuncs:V.default.array,isCaseValue:V.default.bool}},28807:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var C=d(t(91847)),E=d(t(96540)),B=t(46897),D=["factory"],S=function(P){var F=P.delta,x=P.isFuncArg,V=P.valueSrc,U=P.value,J=P.valueError,K=P.asyncListValues,ee=P.isSpecialRange,I=P.fieldDefinition,X=P.widget,R=P.widgetDefinition,W=P.widgetValueLabel,M=P.valueLabels,G=P.textSeparators,z=P.setValueHandler,q=P.config,_=P.field,Y=P.operator,j=P.readonly,y=P.parentField,h=P.parentFuncs,l=P.id,a=P.groupId,i=R.factory,u=(0,C.default)(R,D),c=x&&I.valueSources&&I.valueSources.length==1&&I.valueSources[0]=="const",v=I.defaultValue;if(!i)return"?";var m=ee?[U.get(0),U.get(1)]:U?U.get(F):void 0,o=J&&(ee?[J.get(0),J.get(1)]:J.get(F))||null;ee&&m[0]===void 0&&m[1]===void 0&&(m=void 0);var n=I||{},r=n.fieldSettings,p=Object.assign({},u,r,{config:q,field:_,parentField:y,parentFuncs:h,fieldDefinition:I,operator:Y,delta:F,isSpecialRange:ee,isFuncArg:x,value:m,valueError:o,label:W.label,placeholder:W.placeholder,placeholders:M?M.placeholder:null,textSeparators:G,setValue:z,readonly:j,asyncListValues:K,id:l,groupId:a});return X=="field",c&&v?typeof v=="boolean"?v?p.labelYes||"YES":p.labelNo||"NO":r.listValues?Array.isArray(v)?v.map(function(s){return(0,B.getTitleInListValues)(r.listValues,s)||s}).join(", "):(0,B.getTitleInListValues)(r.listValues,v)||v:""+v:i(p)};f.default=S},70039:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.dummyFn=f.DragIcon=f.ConfirmFn=f.Col=void 0;var C=d(t(94634)),E=d(t(91847)),B=d(t(96540)),D=["children"],S=function(V){var U=V.children,J=(0,E.default)(V,D);return B.default.createElement("div",J,U)};f.Col=S;var T=function(){};f.dummyFn=T;var P=function(){return B.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"gray",width:"18px",height:"18px"},B.default.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),B.default.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}))};f.DragIcon=P;var F=function(V){return function(U){var J=U.config.settings.useConfirm,K=J?J():null;return B.default.createElement(V,(0,C.default)({},U,{confirmFn:K}))}};f.ConfirmFn=F},61036:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0});var C={ValueFieldWidget:!0,FuncWidget:!0};Object.defineProperty(f,"FuncWidget",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(f,"ValueFieldWidget",{enumerable:!0,get:function(){return E.default}});var E=d(t(54662)),B=d(t(29255)),D=t(51156);Object.keys(D).forEach(function(S){S==="default"||S==="__esModule"||Object.prototype.hasOwnProperty.call(C,S)||S in f&&f[S]===D[S]||Object.defineProperty(f,S,{enumerable:!0,get:function(){return D[S]}})})},53561:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var C=d(t(96540)),E=function(D){var S=D.type,T=D.label,P=D.onClick,F=D.readonly,x=D.config,V={addRuleGroup:"+",addRuleGroupExt:"+",delGroup:"x",delRuleGroup:"x",delRule:"x"},U=T||V[S];return C.default.createElement("button",{onClick:P,type:"button",disabled:F},U)};f.default=E},56266:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var C=d(t(96540)),E=function(D){var S=D.children,T=D.config;return C.default.createElement(C.default.Fragment,null,S)};f.default=E},13562:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var C=d(t(96540)),E=function(D){var S=D.id,T=D.not,P=D.setNot,F=D.conjunctionOptions,x=D.setConjunction,V=D.disabled,U=D.readonly,J=D.config,K=D.showNot,ee=D.notLabel,I=Object.keys(F).length,X=V,R=J.settings.forceShowConj,W=R||I>1&&!X,M=function(){return Object.keys(F).map(function(Y){var j=F[Y],y=j.id,h=j.name,l=j.label,a=j.checked,i=x.isDummyFn?"__dummy":"";return(U||V)&&!a?null:[C.default.createElement("input",{key:y+i,type:"radio",id:y+i,name:h+i,checked:a,disabled:U||V,value:Y,onChange:z}),C.default.createElement("label",{key:y+i+"label",htmlFor:y+i},l)]})},G=function(){var Y="not";return[C.default.createElement("input",{key:S+Y,type:"checkbox",id:S+Y,checked:T,disabled:U,onChange:q}),C.default.createElement("label",{key:S+Y+"label",htmlFor:S+Y},ee||"NOT")]},z=function(Y){return x(Y.target.value)},q=function(Y){return P(Y.target.checked)};return[K&&G(),W&&M()]};f.default=E},28117:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var C=d(t(96540)),E=function(D){var S=D.items,T=D.setField,P=D.selectedKey,F=D.readonly,x=function J(K){return K.map(function(ee){var I=ee.items,X=ee.path,R=ee.label,W=ee.disabled;return I?C.default.createElement("optgroup",{disabled:W,key:X,label:R},J(I)):C.default.createElement("option",{disabled:W,key:X,value:X},R)})},V=function(K){return T(K.target.value)},U=P!=null;return C.default.createElement("select",{onChange:V,value:U?P:"",disabled:F},!U&&C.default.createElement("option",{disabled:!0,value:""}),x(S))};f.default=E},31161:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var C=d(t(96540)),E=function(D){var S=D.value,T=D.setValue,P=D.label,F=D.id,x=D.config,V=D.type,U=function(ee){return T(ee.target.checked)},J=V;return[C.default.createElement("input",{key:F+J,type:"checkbox",id:F+J,checked:!!S,onChange:U}),C.default.createElement("label",{key:F+J+"label",htmlFor:F+J},P)]};f.default=E},76112:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var C=d(t(85715)),E=d(t(96540)),B=function(S){var T=S.config,P=S.valueSources,F=S.valueSrc,x=S.title,V=S.setValueSrc,U=S.readonly,J=function(I){return I.map(function(X){var R=(0,C.default)(X,2),W=R[0],M=R[1];return E.default.createElement("option",{key:W,value:W},M.label)})},K=function(I){return V(I.target.value)};return E.default.createElement("select",{onChange:K,value:F,disabled:U},J(P))};f.default=B},79398:(ie,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var t=function(C){var E=C.onOk,B=C.okText,D=C.cancelText,S=C.title;confirm(S)&&E()};f.default=t},51156:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),Object.defineProperty(f,"VanillaBooleanWidget",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(f,"VanillaButton",{enumerable:!0,get:function(){return ee.default}}),Object.defineProperty(f,"VanillaButtonGroup",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(f,"VanillaConjs",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(f,"VanillaDateTimeWidget",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(f,"VanillaDateWidget",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(f,"VanillaFieldSelect",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(f,"VanillaMultiSelectWidget",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(f,"VanillaNumberWidget",{enumerable:!0,get:function(){return V.default}}),f.VanillaProvider=void 0,Object.defineProperty(f,"VanillaSelectWidget",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(f,"VanillaSliderWidget",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(f,"VanillaSwitch",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(f,"VanillaTextAreaWidget",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(f,"VanillaTextWidget",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(f,"VanillaTimeWidget",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(f,"VanillaValueSources",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(f,"vanillaConfirm",{enumerable:!0,get:function(){return W.default}});var C=d(t(96540)),E=d(t(20869)),B=d(t(59362)),D=d(t(27783)),S=d(t(70113)),T=d(t(88968)),P=d(t(15988)),F=d(t(38376)),x=d(t(69269)),V=d(t(50452)),U=d(t(67788)),J=d(t(28117)),K=d(t(13562)),ee=d(t(53561)),I=d(t(56266)),X=d(t(76112)),R=d(t(31161)),W=d(t(79398)),M=function(z){var q=z.config,_=z.children;return _};f.VanillaProvider=M},20869:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var C=d(t(94634)),E=d(t(96540)),B=d(t(21428)),D=function(T){var P=T.value,F=T.setValue,x=T.config,V=T.labelYes,U=T.labelNo,J=T.readonly,K=T.customProps,ee=K===void 0?{}:K,I=ee.radioYes||{},X=ee.radioNo||{},R=function(q){return F(q.target.checked)},W=function(q){return F(q.target.value=="true")},M=(0,B.default)(),G=(0,B.default)();return E.default.createElement(E.default.Fragment,null,E.default.createElement("input",(0,C.default)({key:M,type:"radio",id:M,value:!0,checked:!!P,disabled:J,onChange:W},I)),E.default.createElement("label",{style:{display:"inline"},key:M+"label",htmlFor:M},V),E.default.createElement("input",(0,C.default)({key:G,type:"radio",id:G,value:!1,checked:!P,disabled:J,onChange:W},X)),E.default.createElement("label",{style:{display:"inline"},key:G+"label",htmlFor:G},U))};f.default=D},70113:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var C=d(t(94634)),E=d(t(96540)),B=d(t(95093)),D=function(T){var P=T.value,F=T.setValue,x=T.config,V=T.valueFormat,U=T.readonly,J=T.customProps,K=function(I){var X=I.target.value;X==""&&(X=void 0),F(X)};return E.default.createElement("input",(0,C.default)({type:"date",value:P||"",disabled:U,onChange:K},J))};f.default=D},15988:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var C=d(t(94634)),E=d(t(96540)),B=d(t(95093)),D=function(T){var P=T.value,F=T.setValue,x=T.config,V=T.valueFormat,U=T.use12Hours,J=T.readonly,K=T.customProps,ee=function(R){var W=R.target.value;W==""?W=void 0:W=(0,B.default)(new Date(W)).format(V),F(W)},I=P;return P?I=(0,B.default)(P).format("YYYY-MM-DDTHH:mm"):I="",E.default.createElement("input",(0,C.default)({type:"datetime-local",value:I,disabled:J,onChange:ee},K))};f.default=D},38376:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var C=d(t(94634)),E=d(t(96540)),B=t(46897),D=d(t(90179)),S=function(P){var F=P.listValues,x=P.value,V=P.setValue,U=P.allowCustomValues,J=P.readonly,K=P.customProps,ee=function(){return(0,B.mapListValues)(F,function(W){var M=W.title,G=W.value;return E.default.createElement("option",{key:G,value:G},M)})},I=function(W){for(var M=[],G=W.options,z=0;z<G.length;z++){var q=G[z];q.selected&&M.push(q.value)}return M.length||(M=void 0),M},X=function(W){return V(I(W.target))};return E.default.createElement("select",(0,C.default)({multiple:!0,onChange:X,value:x,disabled:J},(0,D.default)(K,["showSearch","input","showCheckboxes"])),ee())};f.default=S},50452:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var C=d(t(94634)),E=d(t(96540)),B=function(S){var T=S.value,P=S.setValue,F=S.config,x=S.readonly,V=S.min,U=S.max,J=S.step,K=S.placeholder,ee=S.customProps,I=function(W){var M=W.target.value;M===""||M===null?M=void 0:M=Number(M),P(M)},X=T??"";return E.default.createElement("input",(0,C.default)({type:"number",value:X,placeholder:K,disabled:x,min:V,max:U,step:J,onChange:I},ee))};f.default=B},69269:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var C=d(t(94634)),E=d(t(96540)),B=t(46897),D=d(t(90179)),S=function(P){var F=P.listValues,x=P.value,V=P.setValue,U=P.allowCustomValues,J=P.readonly,K=P.customProps,ee=function(){return(0,B.mapListValues)(F,function(W){var M=W.title,G=W.value;return E.default.createElement("option",{key:G,value:G},M)})},I=function(W){return V(W.target.value)},X=x!=null;return E.default.createElement("select",(0,C.default)({onChange:I,value:X?x:"",disabled:J},(0,D.default)(K,["showSearch","input"])),!X&&E.default.createElement("option",{disabled:!0,value:""}),ee())};f.default=S},67788:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var C=d(t(94634)),E=d(t(96540)),B=function(S){var T=S.value,P=S.setValue,F=S.config,x=S.readonly,V=S.min,U=S.max,J=S.step,K=S.placeholder,ee=S.customProps,I=ee===void 0?{}:ee,X=I.input||{},R=I.slider||I,W=function(z){var q=z.target.value;q===""||q===null?q=void 0:q=Number(q),P(q)},M=T??"";return[E.default.createElement("input",(0,C.default)({key:"number",type:"number",value:M,placeholder:K,disabled:x,min:V,max:U,step:J,onChange:W},X)),E.default.createElement("input",(0,C.default)({key:"range",type:"range",value:M,disabled:x,min:V,max:U,step:J,onChange:W},R))]};f.default=B},59362:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var C=d(t(94634)),E=d(t(96540)),B=function(S){var T=S.value,P=S.setValue,F=S.config,x=S.readonly,V=S.placeholder,U=S.maxLength,J=S.customProps,K=function(X){var R=X.target.value;R===""&&(R=void 0),P(R)},ee=T||"";return E.default.createElement("input",(0,C.default)({type:"text",value:ee,placeholder:V,disabled:x,onChange:K,maxLength:U},J))};f.default=B},27783:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var C=d(t(94634)),E=d(t(96540)),B=function(S){var T=S.value,P=S.setValue,F=S.config,x=S.readonly,V=S.placeholder,U=S.maxLength,J=S.maxRows,K=S.fullWidth,ee=S.customProps,I=function(W){var M=W.target.value;M===""&&(M=void 0),P(M)},X=T||"";return E.default.createElement("textarea",(0,C.default)({value:X,placeholder:V,disabled:x,onChange:I,maxLength:U,style:{width:K?"100%":void 0}},ee))};f.default=B},88968:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var C=d(t(94634)),E=d(t(96540)),B=function(S){var T=S.value,P=S.setValue,F=S.config,x=S.valueFormat,V=S.use12Hours,U=S.readonly,J=S.customProps,K=function(I){var X=I.target.value;X==""&&(X=void 0),P(X)};return E.default.createElement("input",(0,C.default)({type:"time",value:T||"",disabled:U,onChange:K},J))};f.default=B},68766:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.stringifyForDisplay=f.mongoFormatOp2=f.mongoFormatOp1=f.default=void 0;var E=d(t(43693)),B=d(t(96540)),D=U(t(61036)),S=U(t(27036)),T=t(76669),P=t(46897),F=d(t(95093)),x=t(68697);function V(n){if(typeof WeakMap!="function")return null;var r=new WeakMap,p=new WeakMap;return(V=function(O){return O?p:r})(n)}function U(n,r){if(!r&&n&&n.__esModule)return n;if(n===null||C(n)!=="object"&&typeof n!="function")return{default:n};var p=V(r);if(p&&p.has(n))return p.get(n);var s={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in n)if(b!=="default"&&Object.prototype.hasOwnProperty.call(n,b)){var Q=O?Object.getOwnPropertyDescriptor(n,b):null;Q&&(Q.get||Q.set)?Object.defineProperty(s,b,Q):s[b]=n[b]}return s.default=n,p&&p.set(n,s),s}function J(n,r){var p=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);r&&(s=s.filter(function(O){return Object.getOwnPropertyDescriptor(n,O).enumerable})),p.push.apply(p,s)}return p}function K(n){for(var r=1;r<arguments.length;r++){var p=arguments[r]!=null?arguments[r]:{};r%2?J(Object(p),!0).forEach(function(s){(0,E.default)(n,s,p[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(p)):J(Object(p)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(p,s))})}return n}var ee=D.VanillaBooleanWidget,I=D.VanillaTextWidget,X=D.VanillaTextAreaWidget,R=D.VanillaDateWidget,W=D.VanillaTimeWidget,M=D.VanillaDateTimeWidget,G=D.VanillaMultiSelectWidget,z=D.VanillaSelectWidget,q=D.VanillaNumberWidget,_=D.VanillaSliderWidget,Y=D.ValueFieldWidget,j=D.FuncWidget,y=S.ProximityOperator,h={AND:{label:"And",mongoConj:"$and",jsonLogicConj:"and",sqlConj:"AND",spelConj:"and",spelConjs:["and","&&"],reversedConj:"OR",formatConj:function(r,p,s,O){return r.size>1?(s?"NOT ":"")+"("+r.join(" "+(O?"AND":"&&")+" ")+")":(s?"NOT (":"")+r.first()+(s?")":"")},sqlFormatConj:function(r,p,s){return r.size>1?(s?"NOT ":"")+"("+r.join(" AND ")+")":(s?"NOT (":"")+r.first()+(s?")":"")},spelFormatConj:function(r,p,s,O){return s&&(O=!1),r.size>1?(s?"!":"")+(O?"":"(")+r.join(" && ")+(O?"":")"):(s?"!(":"")+r.first()+(s?")":"")}},OR:{label:"Or",mongoConj:"$or",jsonLogicConj:"or",sqlConj:"OR",spelConj:"or",spelConjs:["or","||"],reversedConj:"AND",formatConj:function(r,p,s,O){return r.size>1?(s?"NOT ":"")+"("+r.join(" "+(O?"OR":"||")+" ")+")":(s?"NOT (":"")+r.first()+(s?")":"")},sqlFormatConj:function(r,p,s){return r.size>1?(s?"NOT ":"")+"("+r.join(" OR ")+")":(s?"NOT (":"")+r.first()+(s?")":"")},spelFormatConj:function(r,p,s,O){return s&&(O=!1),r.size>1?(s?"!":"")+(O?"":"(")+r.join(" || ")+(O?"":")"):(s?"!(":"")+r.first()+(s?")":"")}}},l=function(r,p,s,O,b,Q,H,L,N,w,$,te){var re=typeof O=="string"&&!O.startsWith("$")?"$"+O:O,ue=p(Q,te);if(ue!==void 0)return s?!H&&(!r||r=="$eq")?(0,E.default)({},O,{$ne:ue}):H?{$not:(0,E.default)({},r,[re,ue])}:(0,E.default)({},O,{$not:(0,E.default)({},r,ue)}):!H&&(!r||r=="$eq")?(0,E.default)({},O,ue):H?(0,E.default)({},r,[re,ue]):(0,E.default)({},O,(0,E.default)({},r,ue))};f.mongoFormatOp1=l;var a=function(r,p,s,O,b,Q,H,L,N,w,$){var te=typeof s=="string"&&!s.startsWith("$")?"$"+s:s;if(p){var re;return Q?{$not:{$and:[(0,E.default)({},r[0],[te,b[0]]),(0,E.default)({},r[1],[te,b[1]])]}}:(0,E.default)({},s,{$not:(re={},(0,E.default)(re,r[0],b[0]),(0,E.default)(re,r[1],b[1]),re)})}else{var ue;return Q?{$and:[(0,E.default)({},r[0],[te,b[0]]),(0,E.default)({},r[1],[te,b[1]])]}:(0,E.default)({},s,(ue={},(0,E.default)(ue,r[0],b[0]),(0,E.default)(ue,r[1],b[1]),ue))}};f.mongoFormatOp2=a;var i={equal:{label:"==",labelForFormat:"==",sqlOp:"=",spelOp:"==",spelOps:["==","eq"],reversedOp:"not_equal",formatOp:function(r,p,s,O,b,Q,H,L,N){var w=L?"=":Q.label;return b=="boolean"&&L?s=="No"?"NOT ".concat(r):"".concat(r):"".concat(r," ").concat(w," ").concat(s)},mongoFormatOp:l.bind(null,"$eq",function(n){return n},!1),jsonLogic:"==",elasticSearchQueryType:"term"},not_equal:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",spelOp:"!=",spelOps:["!=","ne"],reversedOp:"equal",formatOp:function(r,p,s,O,b,Q,H,L,N){return b=="boolean"&&L?s=="No"?"".concat(r):"NOT ".concat(r):"".concat(r," ").concat(Q.label," ").concat(s)},mongoFormatOp:l.bind(null,"$ne",function(n){return n},!1),jsonLogic:"!="},less:{label:"<",labelForFormat:"<",sqlOp:"<",spelOp:"<",spelOps:["<","lt"],reversedOp:"greater_or_equal",mongoFormatOp:l.bind(null,"$lt",function(n){return n},!1),jsonLogic:"<",elasticSearchQueryType:"range"},less_or_equal:{label:"<=",labelForFormat:"<=",sqlOp:"<=",spelOp:"<=",spelOps:["<=","le"],reversedOp:"greater",mongoFormatOp:l.bind(null,"$lte",function(n){return n},!1),jsonLogic:"<=",elasticSearchQueryType:"range"},greater:{label:">",labelForFormat:">",sqlOp:">",spelOp:">",spelOps:[">","gt"],reversedOp:"less_or_equal",mongoFormatOp:l.bind(null,"$gt",function(n){return n},!1),jsonLogic:">",elasticSearchQueryType:"range"},greater_or_equal:{label:">=",labelForFormat:">=",sqlOp:">=",spelOp:">=",spelOps:[">=","ge"],reversedOp:"less",mongoFormatOp:l.bind(null,"$gte",function(n){return n},!1),jsonLogic:">=",elasticSearchQueryType:"range"},like:{label:"Contains",labelForFormat:"Contains",reversedOp:"not_like",sqlOp:"LIKE",spelOp:".contains",spelOps:["matches",".contains"],mongoFormatOp:l.bind(null,"$regex",function(n){return typeof n=="string"?(0,P.escapeRegExp)(n):void 0},!1),jsonLogic:"in",_jsonLogicIsRevArgs:!0,valueSources:["value"],elasticSearchQueryType:"regexp"},not_like:{isNotOp:!0,label:"Not contains",reversedOp:"like",labelForFormat:"Not Contains",sqlOp:"NOT LIKE",mongoFormatOp:l.bind(null,"$regex",function(n){return typeof n=="string"?(0,P.escapeRegExp)(n):void 0},!0),valueSources:["value"]},starts_with:{label:"Starts with",labelForFormat:"Starts with",sqlOp:"LIKE",spelOp:".startsWith",spelOps:["matches",".startsWith"],mongoFormatOp:l.bind(null,"$regex",function(n){return typeof n=="string"?"^"+(0,P.escapeRegExp)(n):void 0},!1),jsonLogic:void 0,valueSources:["value"]},ends_with:{label:"Ends with",labelForFormat:"Ends with",sqlOp:"LIKE",spelOp:".endsWith",spelOps:["matches",".endsWith"],mongoFormatOp:l.bind(null,"$regex",function(n){return typeof n=="string"?(0,P.escapeRegExp)(n)+"$":void 0},!1),jsonLogic:void 0,valueSources:["value"]},between:{label:"Between",labelForFormat:"BETWEEN",sqlOp:"BETWEEN",cardinality:2,formatOp:function(r,p,s,O,b,Q,H,L){var N=s.first(),w=s.get(1);return L?"".concat(r," BETWEEN ").concat(N," AND ").concat(w):"".concat(r," >= ").concat(N," && ").concat(r," <= ").concat(w)},spelFormatOp:function(r,p,s,O,b,Q,H,L){var N=s[0],w=s[1];return"".concat(r," >= ").concat(N," && ").concat(r," <= ").concat(w)},mongoFormatOp:a.bind(null,["$gte","$lte"],!1),valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"not_between",jsonLogic:"<=",validateValues:function(r){return r[0]!=null&&r[1]!=null?r[0]<=r[1]?null:"Invalid range":null},elasticSearchQueryType:function(r){return r==="time"?"filter":"range"}},not_between:{isNotOp:!0,label:"Not between",labelForFormat:"NOT BETWEEN",sqlOp:"NOT BETWEEN",cardinality:2,formatOp:function(r,p,s,O,b,Q,H,L){var N=s.first(),w=s.get(1);return L?"".concat(r," NOT BETWEEN ").concat(N," AND ").concat(w):"(".concat(r," < ").concat(N," || ").concat(r," > ").concat(w,")")},spelFormatOp:function(r,p,s,O,b,Q,H,L){var N=s[0],w=s[1];return"(".concat(r," < ").concat(N," || ").concat(r," > ").concat(w,")")},mongoFormatOp:a.bind(null,["$gte","$lte"],!0),valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"between",validateValues:function(r){return r[0]!=null&&r[1]!=null?r[0]<=r[1]?null:"Invalid range":null}},is_empty:{label:"Is empty",labelForFormat:"IS EMPTY",cardinality:0,reversedOp:"is_not_empty",formatOp:function(r,p,s,O,b,Q,H,L){return L?"".concat(r," IS EMPTY"):"!".concat(r)},sqlFormatOp:function(r,p,s,O,b,Q,H,L){var N=(0,T.sqlEmptyValue)(L);return"COALESCE(".concat(r,", ").concat(N,") = ").concat(N)},spelFormatOp:function(r,p,s,O,b,Q,H,L){return"".concat(r," <= ''")},mongoFormatOp:l.bind(null,"$in",function(n,r){return[(0,T.mongoEmptyValue)(r),null]},!1),jsonLogic:"!"},is_not_empty:{isNotOp:!0,label:"Is not empty",labelForFormat:"IS NOT EMPTY",cardinality:0,reversedOp:"is_empty",formatOp:function(r,p,s,O,b,Q,H,L){return L?"".concat(r," IS NOT EMPTY"):"!!".concat(r)},sqlFormatOp:function(r,p,s,O,b,Q,H,L){var N=(0,T.sqlEmptyValue)(L);return"COALESCE(".concat(r,", ").concat(N,") <> ").concat(N)},spelFormatOp:function(r,p,s,O,b,Q,H,L){return"".concat(r," > ''")},mongoFormatOp:l.bind(null,"$nin",function(n,r){return[(0,T.mongoEmptyValue)(r),null]},!1),jsonLogic:"!!",elasticSearchQueryType:"exists"},is_null:{label:"Is null",labelForFormat:"IS NULL",sqlOp:"IS NULL",cardinality:0,reversedOp:"is_not_null",formatOp:function(r,p,s,O,b,Q,H,L){return L?"".concat(r," IS NULL"):"!".concat(r)},spelFormatOp:function(r,p,s,O,b,Q,H,L){return"".concat(r," == null")},mongoFormatOp:l.bind(null,"$eq",function(n){return null},!1),jsonLogic:"=="},is_not_null:{label:"Is not null",labelForFormat:"IS NOT NULL",sqlOp:"IS NOT NULL",cardinality:0,reversedOp:"is_null",formatOp:function(r,p,s,O,b,Q,H,L){return L?"".concat(r," IS NOT NULL"):"!!".concat(r)},spelFormatOp:function(r,p,s,O,b,Q,H,L){return"".concat(r," != null")},mongoFormatOp:l.bind(null,"$ne",function(n){return null},!1),jsonLogic:"!=",elasticSearchQueryType:"exists"},select_equals:{label:"==",labelForFormat:"==",sqlOp:"=",formatOp:function(r,p,s,O,b,Q,H,L){var N=L?"=":"==";return"".concat(r," ").concat(N," ").concat(s)},spelOp:"==",spelOps:["==","eq"],mongoFormatOp:l.bind(null,"$eq",function(n){return n},!1),reversedOp:"select_not_equals",jsonLogic:"==",elasticSearchQueryType:"term"},select_not_equals:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",formatOp:function(r,p,s,O,b,Q,H,L){return"".concat(r," != ").concat(s)},spelOp:"!=",spelOps:["!=","ne"],mongoFormatOp:l.bind(null,"$ne",function(n){return n},!1),reversedOp:"select_equals",jsonLogic:"!="},select_any_in:{label:"Any in",labelForFormat:"IN",sqlOp:"IN",formatOp:function(r,p,s,O,b,Q,H,L){return O=="value"?"".concat(r," IN (").concat(s.join(", "),")"):"".concat(r," IN (").concat(s,")")},sqlFormatOp:function(r,p,s,O,b,Q,H,L){if(O=="value")return"".concat(r," IN (").concat(s.join(", "),")")},spelOp:"$contains",mongoFormatOp:l.bind(null,"$in",function(n){return n},!1),reversedOp:"select_not_any_in",jsonLogic:"in",elasticSearchQueryType:"term"},select_not_any_in:{isNotOp:!0,label:"Not in",labelForFormat:"NOT IN",sqlOp:"NOT IN",formatOp:function(r,p,s,O,b,Q,H,L){return O=="value"?"".concat(r," NOT IN (").concat(s.join(", "),")"):"".concat(r," NOT IN (").concat(s,")")},sqlFormatOp:function(r,p,s,O,b,Q,H,L){if(O=="value")return"".concat(r," NOT IN (").concat(s.join(", "),")")},mongoFormatOp:l.bind(null,"$nin",function(n){return n},!1),reversedOp:"select_any_in"},multiselect_contains:{label:"Contains",labelForFormat:"CONTAINS",formatOp:function(r,p,s,O,b,Q,H,L){return O=="value"?"".concat(r," CONTAINS [").concat(s.join(", "),"]"):"".concat(r," CONTAINS ").concat(s)},reversedOp:"multiselect_not_contains",jsonLogic2:"some-in",jsonLogic:function(r,p,s){return{some:[r,{in:[{var:""},s]}]}},spelOp:"CollectionUtils.containsAny()",elasticSearchQueryType:"term",mongoFormatOp:l.bind(null,"$in",function(n){return n},!1)},multiselect_not_contains:{isNotOp:!0,label:"Not contains",labelForFormat:"NOT CONTAINS",formatOp:function(r,p,s,O,b,Q,H,L){return O=="value"?"".concat(r," NOT CONTAINS [").concat(s.join(", "),"]"):"".concat(r," NOT CONTAINS ").concat(s)},reversedOp:"multiselect_contains"},multiselect_equals:{label:"Equals",labelForFormat:"==",sqlOp:"=",formatOp:function(r,p,s,O,b,Q,H,L){var N=L?"=":"==";return O=="value"?"".concat(r," ").concat(N," [").concat(s.join(", "),"]"):"".concat(r," ").concat(N," ").concat(s)},sqlFormatOp:function(r,p,s,O,b,Q,H,L){if(O=="value")return"".concat(r," = '").concat(s.map(function(N){return T.SqlString.trim(N)}).join(","),"'")},spelOp:".equals",mongoFormatOp:l.bind(null,"$eq",function(n){return n},!1),reversedOp:"multiselect_not_equals",jsonLogic2:"all-in",jsonLogic:function(r,p,s){return{all:[r,{in:[{var:""},s]}]}},elasticSearchQueryType:"term"},multiselect_not_equals:{isNotOp:!0,label:"Not equals",labelForFormat:"!=",sqlOp:"<>",formatOp:function(r,p,s,O,b,Q,H,L){return O=="value"?"".concat(r," != [").concat(s.join(", "),"]"):"".concat(r," != ").concat(s)},sqlFormatOp:function(r,p,s,O,b,Q,H,L){if(O=="value")return"".concat(r," != '").concat(s.map(function(N){return T.SqlString.trim(N)}).join(","),"'")},mongoFormatOp:l.bind(null,"$ne",function(n){return n},!1),reversedOp:"multiselect_equals"},proximity:{label:"Proximity search",cardinality:2,valueLabels:[{label:"Word 1",placeholder:"Enter first word"},{label:"Word 2",placeholder:"Enter second word"}],textSeparators:[],formatOp:function(r,p,s,O,b,Q,H,L){var N=s.first(),w=s.get(1),$=H.get("proximity");return"".concat(r," ").concat(N," NEAR/").concat($," ").concat(w)},sqlFormatOp:function(r,p,s,O,b,Q,H,L){var N=s.first(),w=s.get(1),$=T.SqlString.trim(N),te=T.SqlString.trim(w),re=H.get("proximity");return"CONTAINS(".concat(r,", 'NEAR((").concat($,", ").concat(te,"), ").concat(re,")')")},mongoFormatOp:void 0,jsonLogic:void 0,options:{optionLabel:"Near",optionTextBefore:"Near",optionPlaceholder:"Select words between",factory:function(r){return B.default.createElement(y,r)},minProximity:2,maxProximity:10,defaults:{proximity:2}}},some:{label:"Some",labelForFormat:"SOME",cardinality:0,jsonLogic:"some",spelFormatOp:function(r){return"".concat(r," > 0")},mongoFormatOp:l.bind(null,"$gt",function(n){return 0},!1)},all:{label:"All",labelForFormat:"ALL",cardinality:0,jsonLogic:"all",spelFormatOp:function(r,p,s){return"".concat(r," == ").concat(s)},mongoFormatOp:l.bind(null,"$eq",function(n){return n},!1)},none:{label:"None",labelForFormat:"NONE",cardinality:0,jsonLogic:"none",spelFormatOp:function(r){return"".concat(r," == 0")},mongoFormatOp:l.bind(null,"$eq",function(n){return 0},!1)}},u=function(r){return r==null?"NULL":r.toString()};f.stringifyForDisplay=u;var c={text:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"String",valuePlaceholder:"Enter string",factory:function(r){return B.default.createElement(I,r)},formatValue:function(r,p,s,O){return O?u(r):JSON.stringify(r)},spelFormatValue:function(r,p,s,O,b){if(b.spelOp=="matches"&&O!="regex"){var Q;return O=="starts_with"?Q="(?s)^".concat((0,P.escapeRegExp)(r),".*"):O=="ends_with"?Q="(?s).*".concat((0,P.escapeRegExp)(r),"$"):Q="(?s).*".concat((0,P.escapeRegExp)(r),".*"),(0,T.spelEscape)(Q)}else return(0,T.spelEscape)(r)},sqlFormatValue:function(r,p,s,O,b){return b.sqlOp=="LIKE"||b.sqlOp=="NOT LIKE"?T.SqlString.escapeLike(r,O!="starts_with",O!="ends_with"):T.SqlString.escape(r)},toJS:function(r,p){return r},mongoFormatValue:function(r,p,s){return r}},textarea:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"Text",valuePlaceholder:"Enter text",factory:function(r){return B.default.createElement(X,r)},formatValue:function(r,p,s,O){return O?u(r):JSON.stringify(r)},sqlFormatValue:function(r,p,s,O,b){return b.sqlOp=="LIKE"||b.sqlOp=="NOT LIKE"?T.SqlString.escapeLike(r,O!="starts_with",O!="ends_with"):T.SqlString.escape(r)},spelFormatValue:function(r){return(0,T.spelEscape)(r)},toJS:function(r,p){return r},mongoFormatValue:function(r,p,s){return r},fullWidth:!0},number:{type:"number",jsType:"number",valueSrc:"value",factory:function(r){return B.default.createElement(q,r)},valueLabel:"Number",valuePlaceholder:"Enter number",valueLabels:[{label:"Number from",placeholder:"Enter number from"},{label:"Number to",placeholder:"Enter number to"}],formatValue:function(r,p,s,O){return O?u(r):JSON.stringify(r)},sqlFormatValue:function(r,p,s,O,b){return T.SqlString.escape(r)},spelFormatValue:function(r,p,s){var O=s.step&&!Number.isInteger(s.step);return(0,T.spelEscape)(r,O)},toJS:function(r,p){return r},mongoFormatValue:function(r,p,s){return r}},slider:{type:"number",jsType:"number",valueSrc:"value",factory:function(r){return B.default.createElement(_,r)},valueLabel:"Number",valuePlaceholder:"Enter number or move slider",formatValue:function(r,p,s,O){return O?u(r):JSON.stringify(r)},sqlFormatValue:function(r,p,s,O,b){return T.SqlString.escape(r)},spelFormatValue:function(r){return(0,T.spelEscape)(r)},toJS:function(r,p){return r},mongoFormatValue:function(r,p,s){return r}},select:{type:"select",jsType:"string",valueSrc:"value",factory:function(r){return B.default.createElement(z,r)},valueLabel:"Value",valuePlaceholder:"Select value",formatValue:function(r,p,s,O){var b=(0,P.getTitleInListValues)(p.fieldSettings.listValues||p.asyncListValues,r);return O?u(b):JSON.stringify(r)},sqlFormatValue:function(r,p,s,O,b){return T.SqlString.escape(r)},spelFormatValue:function(r){return(0,T.spelEscape)(r)},toJS:function(r,p){return r},mongoFormatValue:function(r,p,s){return r}},multiselect:{type:"multiselect",jsType:"array",valueSrc:"value",factory:function(r){return B.default.createElement(G,r)},valueLabel:"Values",valuePlaceholder:"Select values",formatValue:function(r,p,s,O){var b=r.map(function(Q){return(0,P.getTitleInListValues)(p.fieldSettings.listValues||p.asyncListValues,Q)});return O?b.map(u):r.map(JSON.stringify)},sqlFormatValue:function(r,p,s,O,b){return r.map(function(Q){return T.SqlString.escape(Q)})},spelFormatValue:function(r,p,s,O,b){var Q=b.spelOp&&b.spelOp[0]=="$",H=(0,T.spelEscape)(r);return Q&&(H=(0,T.spelFixList)(H)),H},toJS:function(r,p){return r},mongoFormatValue:function(r,p,s){return r}},date:{type:"date",jsType:"string",valueSrc:"value",factory:function(r){return B.default.createElement(R,r)},dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD",useKeyboard:!0,valueLabel:"Date",valuePlaceholder:"Enter date",valueLabels:[{label:"Date from",placeholder:"Enter date from"},{label:"Date to",placeholder:"Enter date to"}],formatValue:function(r,p,s,O){var b=(0,F.default)(r,s.valueFormat);return O?b.format(s.dateFormat):JSON.stringify(r)},sqlFormatValue:function(r,p,s,O,b){var Q=(0,F.default)(r,s.valueFormat);return T.SqlString.escape(Q.format("YYYY-MM-DD"))},spelFormatValue:function(r,p,s,O,b){var Q=(0,F.default)(r,s.valueFormat);return"new java.text.SimpleDateFormat('yyyy-MM-dd').parse('".concat(Q.format("YYYY-MM-DD"),"')")},jsonLogic:function(r,p,s){return(0,F.default)(r,s.valueFormat).toDate()},toJS:function(r,p){var s=(0,F.default)(r,p.valueFormat);return s.isValid()?s.toDate():void 0},mongoFormatValue:function(r,p,s){var O=(0,F.default)(r,s.valueFormat);return O.isValid()?O.toDate():void 0}},time:{type:"time",jsType:"string",valueSrc:"value",factory:function(r){return B.default.createElement(W,r)},timeFormat:"HH:mm",valueFormat:"HH:mm:ss",use12Hours:!1,useKeyboard:!0,valueLabel:"Time",valuePlaceholder:"Enter time",valueLabels:[{label:"Time from",placeholder:"Enter time from"},{label:"Time to",placeholder:"Enter time to"}],formatValue:function(r,p,s,O){var b=(0,F.default)(r,s.valueFormat);return O?b.format(s.timeFormat):JSON.stringify(r)},sqlFormatValue:function(r,p,s,O,b){var Q=(0,F.default)(r,s.valueFormat);return T.SqlString.escape(Q.format("HH:mm:ss"))},spelFormatValue:function(r,p,s,O,b){var Q=(0,F.default)(r,s.valueFormat);return"T(java.time.LocalTime).parse('".concat(Q.format("HH:mm:ss"),"')")},jsonLogic:function(r,p,s){var O=(0,F.default)(r,s.valueFormat);return O.get("hour")*60*60+O.get("minute")*60+O.get("second")},toJS:function(r,p){var s=(0,F.default)(r,p.valueFormat);return s.isValid()?s.get("hour")*60*60+s.get("minute")*60+s.get("second"):void 0},mongoFormatValue:function(r,p,s){var O=(0,F.default)(r,s.valueFormat);return O.get("hour")*60*60+O.get("minute")*60+O.get("second")},elasticSearchFormatValue:function(r,p,s,O){return{script:{script:{source:"doc[".concat(O,"][0].getHour() >== params.min && doc[").concat(O,"][0].getHour() <== params.max"),params:{min:p[0],max:p[1]}}}}}},datetime:{type:"datetime",jsType:"string",valueSrc:"value",factory:function(r){return B.default.createElement(M,r)},timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss",use12Hours:!1,useKeyboard:!0,valueLabel:"Datetime",valuePlaceholder:"Enter datetime",valueLabels:[{label:"Datetime from",placeholder:"Enter datetime from"},{label:"Datetime to",placeholder:"Enter datetime to"}],formatValue:function(r,p,s,O){var b=(0,F.default)(r,s.valueFormat);return O?b.format(s.dateFormat+" "+s.timeFormat):JSON.stringify(r)},sqlFormatValue:function(r,p,s,O,b){var Q=(0,F.default)(r,s.valueFormat);return T.SqlString.escape(Q.toDate())},spelFormatValue:function(r,p,s,O,b){var Q=(0,F.default)(r,s.valueFormat);return"new java.text.SimpleDateFormat('yyyy-MM-dd HH:mm:ss').parse('".concat(Q.format("YYYY-MM-DD HH:mm:ss"),"')")},jsonLogic:function(r,p,s){return(0,F.default)(r,s.valueFormat).toDate()},toJS:function(r,p){var s=(0,F.default)(r,p.valueFormat);return s.isValid()?s.toDate():void 0},mongoFormatValue:function(r,p,s){var O=(0,F.default)(r,s.valueFormat);return O.isValid()?O.toDate():void 0}},boolean:{type:"boolean",jsType:"boolean",valueSrc:"value",factory:function(r){return B.default.createElement(ee,r)},labelYes:"Yes",labelNo:"No",formatValue:function(r,p,s,O){return O?r?"Yes":"No":JSON.stringify(!!r)},sqlFormatValue:function(r,p,s,O,b){return T.SqlString.escape(r)},spelFormatValue:function(r,p,s,O,b){return(0,T.spelEscape)(r)},defaultValue:!1,toJS:function(r,p){return r},mongoFormatValue:function(r,p,s){return r}},field:{valueSrc:"field",factory:function(r){return B.default.createElement(Y,r)},formatValue:function(r,p,s,O,b,Q,H){return O&&H.label||r},sqlFormatValue:function(r,p,s,O,b,Q){return r},spelFormatValue:function(r,p,s,O,b){return r},valueLabel:"Field to compare",valuePlaceholder:"Select field to compare",customProps:{showSearch:!0}},func:{valueSrc:"func",factory:function(r){return B.default.createElement(j,r)},valueLabel:"Function",valuePlaceholder:"Select function",customProps:{}},case_value:{valueSrc:"value",type:"case_value",spelFormatValue:function(r){return(0,T.spelEscape)(r===""?null:r)},spelImportValue:function(r){return[r.value,[]]},factory:function(r){var p=r.value,s=r.setValue;return B.default.createElement("input",{type:"text",value:p||"",onChange:function(b){return s(b.target.value)}})}}},v={text:{defaultOperator:"equal",mainWidget:"text",widgets:{text:{operators:["equal","not_equal","like","not_like","starts_with","ends_with","proximity","is_empty","is_not_empty","is_null","is_not_null"],widgetProps:{},opProps:{}},textarea:{operators:["equal","not_equal","like","not_like","starts_with","ends_with","is_empty","is_not_empty","is_null","is_not_null"],widgetProps:{},opProps:{}},field:{operators:["equal","not_equal","proximity"]}}},number:{defaultOperator:"equal",mainWidget:"number",widgets:{number:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]},slider:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","is_null","is_not_null"]}}},date:{defaultOperator:"equal",widgets:{date:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},time:{defaultOperator:"equal",widgets:{time:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},datetime:{defaultOperator:"equal",widgets:{datetime:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},select:{mainWidget:"select",defaultOperator:"select_equals",widgets:{select:{operators:["select_equals","select_not_equals","is_null","is_not_null"],widgetProps:{customProps:{showSearch:!0}}},multiselect:{operators:["select_any_in","select_not_any_in","is_null","is_not_null"]}}},multiselect:{defaultOperator:"multiselect_equals",widgets:{multiselect:{operators:["multiselect_contains","multiselect_not_contains","multiselect_equals","multiselect_not_equals","is_null","is_not_null"]}}},boolean:{defaultOperator:"equal",widgets:{boolean:{operators:["equal","not_equal","is_null","is_not_null"],widgetProps:{}},field:{operators:["equal","not_equal"]}}},"!group":{defaultOperator:"some",mainWidget:"number",widgets:{number:{widgetProps:{min:0},operators:["some","all","none","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"],opProps:{equal:{label:"Count =="},not_equal:{label:"Count !="},less:{label:"Count <"},less_or_equal:{label:"Count <="},greater:{label:"Count >"},greater_or_equal:{label:"Count >="},between:{label:"Count between"},not_between:{label:"Count not between"}}}}},case_value:{mainWidget:"case_value",widgets:{case_value:{}}}},m=K(K({},x.settings),{},{formatField:function(r,p,s,O,b,Q){return Q?s:r},formatSpelField:function(r,p,s,O,b,Q){var H=O.map(function(L,N){var w=L.key,$=L.parent;return N==0?$=="[map]"?"#this[".concat((0,T.spelEscape)(w),"]"):($=="[class]",w):$=="map"||$=="[map]"?"[".concat((0,T.spelEscape)(w),"]"):($=="class"||$=="[class]",".".concat(w))}).join("");return b.isSpelVariable&&(H="#"+H),H},sqlFormatReverse:function(r){if(r!=null)return"NOT("+r+")"},spelFormatReverse:function(r){if(r!=null)return"!("+r+")"},formatReverse:function(r,p,s,O,b,Q){if(r!=null)return Q?"NOT ("+r+")":"!("+r+")"},formatAggr:function(r,p,s,O,b,Q,H,L,N,w){var $=H.labelForFormat,te=H.cardinality;if(te==0){var re=r?" HAVE ".concat(r):"";return"".concat($," OF ").concat(p).concat(re)}else if(te==null||te==1){var ue=r?" WHERE ".concat(r):"";return"COUNT OF ".concat(p).concat(ue," ").concat($," ").concat(O)}else if(te==2){var ne=r?" WHERE ".concat(r):"",pe=O.first(),se=O.get(1);return"COUNT OF ".concat(p).concat(ne," ").concat($," ").concat(pe," AND ").concat(se)}},canCompareFieldWithField:function(r,p,s,O){return!0},valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}},customFieldSelectProps:{showSearch:!0},defaultSliderWidth:"200px",defaultSelectWidth:"200px",defaultSearchWidth:"100px",defaultMaxRows:5}),o={conjunctions:h,operators:i,widgets:c,types:v,settings:m};f.default=o},68697:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.settings=void 0;var E=S(t(61036)),B=d(t(96540));function D(I){if(typeof WeakMap!="function")return null;var X=new WeakMap,R=new WeakMap;return(D=function(M){return M?R:X})(I)}function S(I,X){if(!X&&I&&I.__esModule)return I;if(I===null||C(I)!=="object"&&typeof I!="function")return{default:I};var R=D(X);if(R&&R.has(I))return R.get(I);var W={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var G in I)if(G!=="default"&&Object.prototype.hasOwnProperty.call(I,G)){var z=M?Object.getOwnPropertyDescriptor(I,G):null;z&&(z.get||z.set)?Object.defineProperty(W,G,z):W[G]=I[G]}return W.default=I,R&&R.set(I,W),W}var T=E.VanillaFieldSelect,P=E.VanillaConjs,F=E.VanillaButton,x=E.VanillaButtonGroup,V=E.VanillaProvider,U=E.VanillaValueSources,J=E.vanillaConfirm,K=E.VanillaSwitch,ee={formatField:function(X,R,W,M,G,z){return z?W:X},renderField:function(X){return B.default.createElement(T,X)},renderOperator:function(X){return B.default.createElement(T,X)},renderFunc:function(X){return B.default.createElement(T,X)},renderConjs:function(X){return B.default.createElement(P,X)},renderSwitch:function(X){return B.default.createElement(K,X)},renderButton:function(X){return B.default.createElement(F,X)},renderButtonGroup:function(X){return B.default.createElement(x,X)},renderProvider:function(X){return B.default.createElement(V,X)},renderValueSources:function(X){return B.default.createElement(U,X)},renderConfirm:J,renderSwitchPrefix:function(){return B.default.createElement(B.default.Fragment,null,"Conditions")},valueSourcesInfo:{value:{}},fieldSeparator:".",fieldSeparatorDisplay:".",renderSize:"small",maxLabelsLength:100,canReorder:!0,canRegroup:!0,showLock:!1,canDeleteLocked:!1,showNot:!0,canLeaveEmptyGroup:!0,shouldCreateEmptyGroup:!1,forceShowConj:!1,canShortMongoQuery:!0,removeEmptyGroupsOnLoad:!0,removeIncompleteRulesOnLoad:!0,removeInvalidMultiSelectValuesOnLoad:!0,groupActionsPosition:"topRight",setOpOnChangeField:["keep","default"],groupOperators:["some","all","none"],convertableWidgets:{number:["slider","rangeslider"],slider:["number","rangeslider"],rangeslider:["number","slider"],text:["textarea"],textarea:["text"]},locale:{moment:"en"},valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",funcLabel:"Function",fieldPlaceholder:"Select field",funcPlaceholder:"Select function",operatorPlaceholder:"Select operator",lockLabel:"Lock",lockedLabel:"Locked",deleteLabel:null,addGroupLabel:"Add group",addCaseLabel:"Add condition",addDefaultCaseLabel:"Add default condition",defaultCaseLabel:"Default:",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:"",notLabel:"Not",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:null,removeGroupConfirmOptions:null,defaultGroupConjunction:"AND",jsonLogic:{groupVarKey:"var",altVarKey:"var",lockedOp:"locked"}};f.settings=ee},88139:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.UPPER=f.RELATIVE_DATETIME=f.NOW=f.LOWER=f.LINEAR_REGRESSION=void 0;var C=d(t(95093)),E={label:"Now",returnType:"datetime",jsonLogic:"now",jsonLogicCustomOps:{now:function(){return new Date}},spelFunc:"new java.util.Date()",sqlFormatFunc:function(){return"NOW()"},mongoFormatFunc:function(){return new Date},formatFunc:function(){return"NOW"}};f.NOW=E;var B={label:"Relative",returnType:"datetime",renderBrackets:["",""],renderSeps:["","",""],jsonLogic:function(F){var x=F.date,V=F.op,U=F.val,J=F.dim;return{date_add:[x,U*(V=="minus"?-1:1),J]}},jsonLogicImport:function(F){var x=F.date_add[0],V=Math.abs(F.date_add[1]),U=F.date_add[1]>=0?"plus":"minus",J=F.date_add[2];return[x,U,V,J]},jsonLogicCustomOps:{date_add:function(F,x,V){return(0,C.default)(F).add(x,V).toDate()}},sqlFormatFunc:function(F){var x=F.date,V=F.op,U=F.val,J=F.dim;return"DATE_ADD(".concat(x,", INTERVAL ").concat(parseInt(U)*(V=="minus"?-1:1)," ").concat(J.replace(/^'|'$/g,""),")")},mongoFormatFunc:null,formatFunc:function(F){var x=F.date,V=F.op,U=F.val,J=F.dim;return U?"".concat(x," ").concat(V=="minus"?"-":"+"," ").concat(U," ").concat(J):x},args:{date:{label:"Date",type:"datetime",defaultValue:{func:"NOW",args:[]},valueSources:["func","field"]},op:{label:"Op",type:"select",defaultValue:"plus",valueSources:["value"],mainWidgetProps:{customProps:{showSearch:!1}},fieldSettings:{listValues:{plus:"+",minus:"-"}}},val:{label:"Value",type:"number",fieldSettings:{min:0},defaultValue:0,valueSources:["value"]},dim:{label:"Dimension",type:"select",defaultValue:"day",valueSources:["value"],mainWidgetProps:{customProps:{showSearch:!1}},fieldSettings:{listValues:{day:"day",week:"week",month:"month",year:"year"}}}}};f.RELATIVE_DATETIME=B;var D={label:"Lowercase",mongoFunc:"$toLower",jsonLogic:"toLowerCase",spelFunc:".toLowerCase",jsonLogicCustomOps:{toLowerCase:function(F){return F.toLowerCase()}},returnType:"text",args:{str:{label:"String",type:"text",valueSources:["value","field"]}}};f.LOWER=D;var S={label:"Uppercase",mongoFunc:"$toUpper",jsonLogic:"toUpperCase",spelFunc:".toUpperCase",jsonLogicCustomOps:{toUpperCase:function(F){return F.toUpperCase()}},returnType:"text",args:{str:{label:"String",type:"text",valueSources:["value","field"]}}};f.UPPER=S;var T={label:"Linear regression",returnType:"number",formatFunc:function(F,x){var V=F.coef,U=F.bias,J=F.val;return"(".concat(V," * ").concat(J," + ").concat(U,")")},sqlFormatFunc:function(F){var x=F.coef,V=F.bias,U=F.val;return"(".concat(x," * ").concat(U," + ").concat(V,")")},spelFormatFunc:function(F){var x=F.coef,V=F.bias,U=F.val;return"(".concat(x," * ").concat(U," + ").concat(V,")")},mongoFormatFunc:function(F){var x=F.coef,V=F.bias,U=F.val;return{$sum:[{$multiply:[x,U]},V]}},jsonLogic:function(F){var x=F.coef,V=F.bias,U=F.val;return{"+":[{"*":[x,U]},V]}},jsonLogicImport:function(F){var x=F["+"][0]["*"][0],V=F["+"][0]["*"][1],U=F["+"][1];return[x,V,U]},renderBrackets:["",""],renderSeps:[" * "," + "],args:{coef:{label:"Coef",type:"number",defaultValue:1,valueSources:["value"]},val:{label:"Value",type:"number",valueSources:["value","field"]},bias:{label:"Bias",type:"number",defaultValue:0,valueSources:["value"]}}};f.LINEAR_REGRESSION=T},1476:(ie,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.SET_VALUE_SRC=f.SET_VALUE=f.SET_TREE=f.SET_OPERATOR_OPTION=f.SET_OPERATOR=f.SET_NOT=f.SET_LOCK=f.SET_FIELD=f.SET_DRAG_START=f.SET_DRAG_PROGRESS=f.SET_DRAG_END=f.SET_CONJUNCTION=f.REMOVE_RULE=f.REMOVE_GROUP=f.PLACEMENT_PREPEND=f.PLACEMENT_BEFORE=f.PLACEMENT_APPEND=f.PLACEMENT_AFTER=f.MOVE_ITEM=f.ADD_RULE=f.ADD_GROUP=f.ADD_CASE_GROUP=void 0;var t="ADD_GROUP";f.ADD_GROUP=t;var d="ADD_CASE_GROUP";f.ADD_CASE_GROUP=d;var C="REMOVE_GROUP";f.REMOVE_GROUP=C;var E="SET_CONJUNCTION";f.SET_CONJUNCTION=E;var B="SET_NOT";f.SET_NOT=B;var D="ADD_RULE";f.ADD_RULE=D;var S="REMOVE_RULE";f.REMOVE_RULE=S;var T="SET_FIELD";f.SET_FIELD=T;var P="SET_OPERATOR";f.SET_OPERATOR=P;var F="SET_VALUE";f.SET_VALUE=F;var x="SET_VALUE_SRC";f.SET_VALUE_SRC=x;var V="SET_OPERATOR_OPTION";f.SET_OPERATOR_OPTION=V;var U="SET_LOCK";f.SET_LOCK=U;var J="SET_TREE";f.SET_TREE=J;var K="MOVE_ITEM";f.MOVE_ITEM=K;var ee="after";f.PLACEMENT_AFTER=ee;var I="before";f.PLACEMENT_BEFORE=I;var X="append";f.PLACEMENT_APPEND=X;var R="prepend";f.PLACEMENT_PREPEND=R;var W="SET_DRAG_PROGRESS";f.SET_DRAG_PROGRESS=W;var M="SET_DRAG_START";f.SET_DRAG_START=M;var G="SET_DRAG_END";f.SET_DRAG_END=G},35583:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.elasticSearchFormat=X;var C=d(t(43693)),E=t(76348),B=t(68429);function D(R,W){var M=Object.keys(R);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(R);W&&(G=G.filter(function(z){return Object.getOwnPropertyDescriptor(R,z).enumerable})),M.push.apply(M,G)}return M}function S(R){for(var W=1;W<arguments.length;W++){var M=arguments[W]!=null?arguments[W]:{};W%2?D(Object(M),!0).forEach(function(G){(0,C.default)(R,G,M[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(M)):D(Object(M)).forEach(function(G){Object.defineProperty(R,G,Object.getOwnPropertyDescriptor(M,G))})}return R}function T(R){if(R==null)return null;var W=R.split(",").map(Number);return{top_left:{lat:W[0],lon:W[1]},bottom_right:{lat:W[2],lon:W[3]}}}function P(R,W){if(R.length>1)return{gte:"".concat(R[0]),lte:"".concat(R[1])};var M=R[0];switch(W){case"on_date":case"not_on_date":case"equal":case"select_equals":case"not_equal":return{gte:"".concat(M,"||/d"),lte:"".concat(M,"||+1d")};case"less_or_equal":return{lte:"".concat(M)};case"greater_or_equal":return{gte:"".concat(M)};case"less":return{lt:"".concat(M)};case"greater":return{gt:"".concat(M)};default:return}}function F(R){return{value:"*"+R+"*"}}function x(R,W){switch(R){case"AND":return W?"must_not":"must";case"OR":return W?"should_not":"should";case"NOT":return W?"must":"must_not";default:return}}function V(R,W,M){if(R==="boolean")return W;switch(M){case"term":case"wildcard":return"".concat(W,".keyword");case"geo_bounding_box":case"range":case"match":return W;default:return console.error("Can't determine query field for query type ".concat(M)),null}}function U(R){return{value:R}}function J(R,W){return R}function K(R,W,M,G,z){var q=J(G,z);switch(R){case"filter":return{script:z.operators[M].elasticSearchScript(G,W)};case"exists":return{field:G};case"match":return(0,C.default)({},q,W[0]);case"term":return(0,C.default)({},G,W[0]);case"geo_bounding_box":return(0,C.default)({},G,T(W[0]));case"range":return(0,C.default)({},G,P(W,M));case"wildcard":return(0,C.default)({},G,F(W[0]));case"regexp":return(0,C.default)({},G,U(W[0]));default:return}}function ee(R,W,M,G,z){if(!(!R||!M||W==null)){var q=M,_=G.operators[q];if(_){var Y=_,j=Y.elasticSearchQueryType,y=!1;if(!j&&_.reversedOp){y=!0,q=_.reversedOp,_=G.operators[q];var h=_;j=h.elasticSearchQueryType}var l=(0,E.getWidgetForFieldOp)(G,R,q,z),a=G.widgets[l];if(a){var i=a.elasticSearchFormatValue,u;if(typeof j=="function"?u=j(l):u=j,!!u){var c;return typeof i=="function"?c=i(u,W,q,R,G):c=K(u,W,q,R,G),y?{bool:{must_not:(0,C.default)({},u,S({},c))}}:(0,C.default)({},u,S({},c))}}}}}function I(R,W,M,G,z){if(!(!R||!R.size)){var q=R.valueSeq().toArray(),_=x(W,M),Y=q.map(function(y){return G(y,z)}).filter(function(y){return y!==void 0});if(Y.length){var j=Y.flat(1/0);return{bool:(0,C.default)({},_,j)}}}}function X(R,W){if(R){var M=R.get("type"),G=R.get("properties")||new Map;if(M==="rule"&&G.get("field")){var z,q,_=G.get("operator"),Y=G.get("field"),j=G.get("value").toJS(),y=(z=G.get("valueType"))===null||z===void 0?void 0:z.get(0),h=(q=G.get("valueSrc"))===null||q===void 0?void 0:q.get(0);return h==="func"?void 0:j&&Array.isArray(j[0])?j[0].map(function(u){return ee(Y,[u],_,W,h)}):ee(Y,j,_,W,h)}if(M==="group"||M==="rule_group"){var l=G.get("not"),a=G.get("conjunction");a||(a=(0,B.defaultConjunction)(W));var i=R.get("children1");return I(i,a,l,X,W)}}}},84484:(ie,f,t)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var d=t(3193);Object.keys(d).forEach(function(P){P==="default"||P==="__esModule"||P in f&&f[P]===d[P]||Object.defineProperty(f,P,{enumerable:!0,get:function(){return d[P]}})});var C=t(17496);Object.keys(C).forEach(function(P){P==="default"||P==="__esModule"||P in f&&f[P]===C[P]||Object.defineProperty(f,P,{enumerable:!0,get:function(){return C[P]}})});var E=t(34958);Object.keys(E).forEach(function(P){P==="default"||P==="__esModule"||P in f&&f[P]===E[P]||Object.defineProperty(f,P,{enumerable:!0,get:function(){return E[P]}})});var B=t(48032);Object.keys(B).forEach(function(P){P==="default"||P==="__esModule"||P in f&&f[P]===B[P]||Object.defineProperty(f,P,{enumerable:!0,get:function(){return B[P]}})});var D=t(11280);Object.keys(D).forEach(function(P){P==="default"||P==="__esModule"||P in f&&f[P]===D[P]||Object.defineProperty(f,P,{enumerable:!0,get:function(){return D[P]}})});var S=t(13589);Object.keys(S).forEach(function(P){P==="default"||P==="__esModule"||P in f&&f[P]===S[P]||Object.defineProperty(f,P,{enumerable:!0,get:function(){return S[P]}})});var T=t(35583);Object.keys(T).forEach(function(P){P==="default"||P==="__esModule"||P in f&&f[P]===T[P]||Object.defineProperty(f,P,{enumerable:!0,get:function(){return T[P]}})})},17496:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.jsonLogicFormat=void 0;var C=d(t(41132)),E=d(t(43693)),B=t(46897),D=t(67212),S=t(76348),T=t(68429),P=t(22980),F=t(36940),x=d(t(90179)),V=d(t(44383));function U(y,h){var l=Object.keys(y);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(y);h&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(y,i).enumerable})),l.push.apply(l,a)}return l}function J(y){for(var h=1;h<arguments.length;h++){var l=arguments[h]!=null?arguments[h]:{};h%2?U(Object(l),!0).forEach(function(a){(0,E.default)(y,a,l[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(l)):U(Object(l)).forEach(function(a){Object.defineProperty(y,a,Object.getOwnPropertyDescriptor(l,a))})}return y}function K(y,h){var l=typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(!l){if(Array.isArray(y)||(l=ee(y))||h&&y&&typeof y.length=="number"){l&&(y=l);var a=0,i=function(){};return{s:i,n:function(){return a>=y.length?{done:!0}:{done:!1,value:y[a++]}},e:function(o){throw o},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,c=!1,v;return{s:function(){l=l.call(y)},n:function(){var o=l.next();return u=o.done,o},e:function(o){c=!0,v=o},f:function(){try{!u&&l.return!=null&&l.return()}finally{if(c)throw v}}}}function ee(y,h){if(y){if(typeof y=="string")return I(y,h);var l=Object.prototype.toString.call(y).slice(8,-1);if(l==="Object"&&y.constructor&&(l=y.constructor.name),l==="Map"||l==="Set")return Array.from(y);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return I(y,h)}}function I(y,h){(h==null||h>y.length)&&(h=y.length);for(var l=0,a=new Array(h);l<h;l++)a[l]=y[l];return a}var X=function(h,l){var a={usedFields:[],errors:[]},i=R(h,l,a,!0),u=a.errors,c=a.usedFields,v=l.settings.fieldSeparator,m={},o=K(c),n;try{for(o.s();!(n=o.n()).done;)for(var r=n.value,p=(0,D.getFieldConfig)(l,r)||{},s=r.split(v),O=m,b=0;b<s.length;b++){var Q=s[b],H=(0,D.getFieldConfig)(l,s.slice(0,b+1))||{};b!=s.length-1?H.type=="!group"&&H.mode!="struct"?(O[Q]||(O[Q]=[{}]),O=O[Q][0]):(O[Q]||(O[Q]={}),O=O[Q]):O[Q]||(O[Q]=null)}}catch(L){o.e(L)}finally{o.f()}return{errors:u,logic:i,data:m}};f.jsonLogicFormat=X;var R=function(h,l,a,i){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(h){var c=h.get("type"),v=h.get("properties")||new F.Map,m=v.get("isLocked"),o=l.settings.jsonLogic.lockedOp,n;return c==="group"||c==="rule_group"?n=W(h,l,a,i,u):c==="rule"&&(n=M(h,l,a,u)),m&&n&&o&&(n=(0,E.default)({},o,n)),n}},W=function(h,l,a,i){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,c=h.get("type"),v=h.get("properties")||new F.Map,m=v.get("mode"),o=h.get("children1"),n=v.get("field");if(o){var r=v.get("conjunction");r||(r=(0,T.defaultConjunction)(l));var p=l.conjunctions[r],s=p.jsonLogicConj||r.toLowerCase(),O=v.get("not");if(s!="and"&&s!="or"){a.errors.push("Conjunction ".concat(s," is not supported"));return}var b=c==="rule_group"&&!i,Q=b&&m!="struct"?n:u,H=v.get("operator"),L=H&&(0,D.getOperatorConfig)(l,H,n)||null,N=G(l,v,a,H,u),w=b&&(!H||L.cardinality==0),$=o.map(function(se){return R(se,l,a,!1,Q)}).filter(function(se){return typeof se<"u"});if(b&&m!="struct"&&!w){if(N==null)return}else if(!$.size)return;var te={};if($.size==1&&!i?te=$.first():te[s]=$.toList().toJS(),O&&(te={"!":te}),b&&m!="struct"){var re=_(a,l,n,u);if(w){var ue=H||"some";te=(0,E.default)({},ue,[re,te])}else{var ne=$.size?{filter:[re,te]}:re,pe={reduce:[ne,{"+":[1,{var:"accumulator"}]},0]};te=j(l,v,pe,N,H)}}return te}},M=function(h,l,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,u=h.get("properties")||new F.Map,c=u.get("field"),v=u.get("operator"),m=u.get("operatorOptions");if(m=m?m.toJS():null,m&&!Object.keys(m).length&&(m=null),!(c==null||v==null)){var o=(0,D.getFieldConfig)(l,c)||{},n=(0,D.getOperatorConfig)(l,v,c)||{},r=n.reversedOp,p=(0,D.getOperatorConfig)(l,r,c)||{},s=!1;if(!n.jsonLogic&&!p.jsonLogic){a.errors.push("Operator ".concat(v," is not supported"));return}if(!n.jsonLogic&&p.jsonLogic){s=!0;var O=[r,v];v=O[0],r=O[1];var b=[p,n];n=b[0],p=b[1]}var Q=G(l,u,a,v,i);if(Q!==void 0){var H=_(a,l,c,i);return j(l,u,H,Q,v,m,o,s)}}},G=function(h,l,a,i,u){var c=l.get("field"),v=l.get("valueSrc"),m=l.get("valueType"),o=(0,D.getFieldConfig)(h,c)||{},n=(0,D.getOperatorConfig)(h,i,c)||{},r=(0,B.defaultValue)(n.cardinality,1),p=l.get("value"),s=l.get("asyncListValues");if(p!=null){var O=[],b=[],Q=a.usedFields,H=p.map(function(N,w){var $=v?v.get(w):null,te=m?m.get(w):null,re=(0,P.completeValue)(N,$,h),ue=(0,S.getWidgetForFieldOp)(h,c,i,$),ne=(0,x.default)((0,D.getFieldWidgetConfig)(h,c,i,ue,$),["factory"]),pe=z(a,h,re,$,te,ne,o,i,n,u,s);return pe!==void 0&&(O.push($),b.push(te)),pe}),L=H.filter(function(N){return N===void 0}).size>0;if(H.size<r||L){a.usedFields=Q;return}return r>1?H.toArray():r==1?H.first():null}},z=function(h,l,a,i,u,c,v,m,o){var n=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,r=arguments.length>10?arguments[10]:void 0;if(a!==void 0){var p;if(i=="field")p=_(h,l,a,n);else if(i=="func")p=q(h,l,a,n);else if(typeof c.jsonLogic=="function"){var s=c.jsonLogic,O=[a,J(J({},(0,V.default)(v,["fieldSettings","listValues"])),{},{asyncListValues:r}),(0,x.default)(c,["formatValue","mongoFormatValue","sqlFormatValue","jsonLogic","elasticSearchFormatValue","spelFormatValue"])];m&&(O.push(m),O.push(o)),p=s.apply(void 0,O)}else p=a;return p}},q=function(h,l,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,u=a.get("func"),c=a.get("args"),v=(0,D.getFuncConfig)(l,u);if(!v.jsonLogic){h.errors.push("Func ".concat(u," is not supported"));return}var m={};for(var o in v.args){var n=v.args[o],r=(0,D.getFieldConfig)(l,n),p=c?c.get(o):void 0,s=p?p.get("value"):void 0,O=p?p.get("valueSrc"):void 0,b=z(h,l,s,O,n.type,r,n,null,null,i);if(s!=null&&b===void 0){h.errors.push("Can't format value of arg ".concat(o," for func ").concat(u));return}b!==void 0&&(m[o]=b)}var Q=Object.values(m),H;if(typeof v.jsonLogic=="function"){var L=v.jsonLogic,N=[m];H=L.apply(void 0,N)}else{var w=v.jsonLogic||u,$=!!v.jsonLogicIsMethod;if($){var te=Q[0],re=Q.slice(1);re.length?H={method:[te,w,re]}:H={method:[te,w]}}else H=(0,E.default)({},w,Q)}return H},_=function(h,l,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,u=l.settings,c=u.fieldSeparator,v=u.jsonLogic,m;if(a){Array.isArray(a)&&(a=a.join(c));var o=(0,D.getFieldConfig)(l,a)||{},n=a;if(o.fieldName&&(n=o.fieldName),i){var r=(0,D.getFieldConfig)(l,i)||{},p=i;r.fieldName&&(p=r.fieldName),n.indexOf(p+c)==0?n=n.slice((p+c).length):h.errors.push("Can't cut group ".concat(p," from field ").concat(n))}var s=o.jsonLogicVar||(o.type=="!group"?v.groupVarKey:"var");m=(0,E.default)({},s,n),h.usedFields.indexOf(a)==-1&&h.usedFields.push(a)}return m},Y=function(h,l,a,i){var u=h,c=(0,B.defaultValue)(l.cardinality,1),v=(0,B.defaultValue)(l._jsonLogicIsRevArgs,!1);typeof l.jsonLogic=="string"&&(u=l.jsonLogic);var m=["<","<=",">",">="],o=["==","!="],n=function(p,s,O,b,Q){return c==0&&o.includes(u)?(0,E.default)({},u,[a,null]):c==0?(0,E.default)({},u,a):c==1&&v?(0,E.default)({},u,[i,a]):c==1?(0,E.default)({},u,[a,i]):c==2&&m.includes(u)?(0,E.default)({},u,[i[0],a,i[1]]):(0,E.default)({},u,[a].concat((0,C.default)(i)))};return n},j=function(h,l,a,i,u){var c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,v=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,m=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,o=l.get("field"),n=(0,D.getOperatorConfig)(h,u,o)||{},r=typeof n.jsonLogic=="function"?n.jsonLogic:Y(u,n,a,i),p=[a,u,i,(0,x.default)(n,["formatOp","mongoFormatOp","sqlFormatOp","jsonLogic","spelFormatOp"]),c,v],s=r.apply(void 0,p);return m&&(s={"!":s}),s}},34958:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.mongodbFormat=f._mongodbFormat=void 0;var C=d(t(85715)),E=d(t(43693)),B=d(t(41132)),D=d(t(73738)),S=t(46897),T=t(67212),P=t(76348),F=t(68429),x=t(22980),V=d(t(90179)),U=d(t(44383)),J=t(36940),K=t(68697);function ee(y,h){var l=Object.keys(y);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(y);h&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(y,i).enumerable})),l.push.apply(l,a)}return l}function I(y){for(var h=1;h<arguments.length;h++){var l=arguments[h]!=null?arguments[h]:{};h%2?ee(Object(l),!0).forEach(function(a){(0,E.default)(y,a,l[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(l)):ee(Object(l)).forEach(function(a){Object.defineProperty(y,a,Object.getOwnPropertyDescriptor(l,a))})}return y}var X=function(h){return(0,D.default)(h)=="object"&&h!==null&&!Array.isArray(h)},R=function(h,l){return W(h,l,!1)};f.mongodbFormat=R;var W=function(h,l){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={errors:[]},u=M([],h,l,i);return a?[u,i.errors]:(i.errors.length&&console.warn("Errors while exporting to MongoDb:",i.errors),u)};f._mongodbFormat=W;var M=function(h,l,a,i){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,v=arguments.length>6&&arguments[6]!==void 0?arguments[6]:void 0,m=arguments.length>7&&arguments[7]!==void 0?arguments[7]:void 0;if(l){var o=l.get("type");if(o==="group"||o==="rule_group")return G(h,l,a,i,u,c,v,m);if(o==="rule")return z(h,l,a,i,u,c,v,m)}},G=function(h,l,a,i){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,v=arguments.length>6&&arguments[6]!==void 0?arguments[6]:void 0,m=arguments.length>7&&arguments[7]!==void 0?arguments[7]:void 0,o=l.get("type"),n=l.get("properties")||new J.Map,r=l.get("children1"),p=a.settings.canShortMongoQuery;if(r){var s=h.filter(function(ge){return ge.get("type")=="rule_group"}).length>0,O=h.filter(function(ge){return ge.get("type")=="rule_group"}).map(function(ge){return ge.get("properties").get("field")}).slice(-1).pop(),b=s&&O,Q=o==="rule_group"?n.get("field"):null,H=_(Q,a,i,b),L=(0,T.getFieldConfig)(a,Q)||{},N=L.mode,w=Q&&N=="array",$=u?!n.get("not"):n.get("not"),te=r.map(function(ge){return M([].concat((0,B.default)(h),[l]),ge,a,i,$,!0,N=="array"?function(Te){return"$$el.".concat(Te)}:void 0)}).filter(function(ge){return typeof ge<"u"});if(!(!w&&!te.size)){var re=n.get("conjunction");re||(re=(0,F.defaultConjunction)(a));var ue=a.conjunctions[re],ne=ue.reversedConj;$&&ne&&(re=ne,ue=a.conjunctions[re]);var pe=ue.mongoConj,se;if(te.size==1)se=te.first();else if(te.size>1){var ve=te.toList().toJS(),me=p&&pe=="$and";me&&(se=ve.reduce(function(ge,Te){if(ge){for(var Ne in Te){if(Ne[0]=="$"){ge=void 0;break}if(ge[Ne]==null)ge[Ne]=Te[Ne];else{var Ie=ge[Ne],we=Te[Ne];X(Ie)||(Ie={$eq:Ie}),X(we)||(we={$eq:we});var We=Object.keys(Ie)[0],je=Object.keys(we)[0];if(We==je){ge=void 0;break}ge[Ne]=Object.assign({},Ie,we)}}return ge}},{})),se||(se=(0,E.default)({},pe,ve))}if(Q)if(N=="array"){var ye={$size:H},Oe=se?{$size:{$filter:{input:"$"+H,as:"el",cond:se}}}:ye;se=M(h,l.set("type","rule"),a,i,!1,!1,function(ge){return Oe},ye),se={$expr:se}}else se=(0,E.default)({},H,{$elemMatch:se});return se}}},z=function(h,l,a,i){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,v=arguments.length>6&&arguments[6]!==void 0?arguments[6]:void 0,m=arguments.length>7&&arguments[7]!==void 0?arguments[7]:void 0,o=l.get("properties")||new J.Map,n=h.filter(function(Ke){return Ke.get("type")=="rule_group"}).length>0,r=h.filter(function(Ke){return Ke.get("type")=="rule_group"}).map(function(Ke){return Ke.get("properties").get("field")}).slice(-1).pop(),p=n&&r,s=o.get("operator"),O=o.get("operatorOptions"),b=o.get("field"),Q=o.get("value"),H=o.get("valueSrc"),L=o.get("valueType"),N=o.get("asyncListValues");if(!(b==null||s==null||Q===void 0)){var w=(0,T.getFieldConfig)(a,b)||{},$=(0,T.getOperatorConfig)(a,s,b)||{},te=$.reversedOp,re=(0,T.getOperatorConfig)(a,te,b)||{},ue=(0,S.defaultValue)($.cardinality,1),ne=u;if(ne&&te){var pe=[te,s];s=pe[0],te=pe[1];var se=[re,$];$=se[0],re=se[1],ne=!1}var ve=_(b,a,i,p),me=[],ye=[],Oe=!1,ge=Q.map(function(Ke,fe){var de=H?H.get(fe):null,Pe=L?L.get(fe):null,be=(0,x.completeValue)(Ke,de,a),Re=(0,P.getWidgetForFieldOp)(a,b,s,de),De=(0,V.default)((0,T.getFieldWidgetConfig)(a,b,s,Re,de),["factory"]),Ee=q(i,a,be,de,Pe,De,w,p,s,$,N),Ae=(0,C.default)(Ee,2),Be=Ae[0],$e=Ae[1];return Be!==void 0&&(Oe=Oe||$e,me.push(de),ye.push(Pe)),Be});v&&(Oe=!0);var Te=Oe&&c,Ne=ge.filter(function(Ke){return Ke===void 0}).size>0;if(!(ge.size<ue||Ne)){var Ie=ue>1?ge.toArray():ue==1?ge.first():null,we=$.mongoFormatOp;if(!we){i.errors.push("Operator ".concat(s," is not supported"));return}var We=[v?v(ve):ve,s,m!==void 0&&Ie==null?m:Ie,Oe,me.length>1?me:me[0],ye.length>1?ye:ye[0],(0,V.default)($,["formatOp","mongoFormatOp","sqlFormatOp","jsonLogic","spelFormatOp"]),O,w],je=we.apply(void 0,We);return Te&&(je={$expr:je}),ne&&(je={$not:je}),je}}},q=function(h,l,a,i,u,c,v,m,o,n,r){if(a===void 0)return[void 0,!1];var p,s=!1;if(i=="field"){var O=Y(h,l,a,m),b=(0,C.default)(O,2);p=b[0],s=b[1]}else if(i=="func"){var Q=j(h,l,a,m),H=(0,C.default)(Q,2);p=H[0],s=H[1]}else if(typeof c.mongoFormatValue=="function"){var L=c.mongoFormatValue,N=[a,I(I({},(0,U.default)(v,["fieldSettings","listValues"])),{},{asyncListValues:r}),(0,V.default)(c,["formatValue","mongoFormatValue","sqlFormatValue","jsonLogic","elasticSearchFormatValue","spelFormatValue"])];o&&(N.push(o),N.push(n)),p=L.apply(void 0,N)}else p=a;return[p,s]},_=function(h,l,a,i){if(h){var u=(0,T.getFieldConfig)(l,h)||{},c=l.settings.fieldSeparator,v=Array.isArray(h)?h:h.split(c),m=Array.isArray(h)?h.join(c):h;if(u.fieldName&&(m=u.fieldName),i){var o=(0,T.getFieldConfig)(l,i)||{},n=i;o.fieldName&&(n=o.fieldName),m.indexOf(n+".")==0?m=m.slice((n+".").length):a.errors.push("Can't cut group ".concat(n," from field ").concat(m))}return m}},Y=function(h,l,a,i){var u=l.settings.fieldSeparator,c,v=!0;if(a){var m=(0,T.getFieldConfig)(l,a)||{},o=Array.isArray(a)?a:a.split(u),n=(0,P.getFieldPath)(a,l),r=(0,P.getFieldPathLabels)(a,l),p=r?r.join(u):null,s=l.settings.formatField||K.settings.formatField,O=_(a,l,h,i),b=s(O,o,p,m,l,!1);c="$"+b}return[c,v]},j=function(h,l,a,i){var u=!0,c,v=a.get("func"),m=a.get("args"),o=(0,T.getFuncConfig)(l,v),n=o.mongoFunc||v,r=o.mongoArgsAsObject,p={},s=0,O=void 0;for(var b in o.args){var Q=o.args[b],H=(0,T.getFieldConfig)(l,Q),L=m?m.get(b):void 0,N=L?L.get("value"):void 0,w=L?L.get("valueSrc"):void 0,$=L?L.get("asyncListValues"):void 0,te=(0,P.getWidgetForFieldOp)(l,H,null,w),re=(0,V.default)((0,T.getFieldWidgetConfig)(l,H,null,te,w),["factory"]),ue=q(h,l,N,w,Q.type,re,H,i,null,null,$),ne=(0,C.default)(ue,2),pe=ne[0],se=ne[1];if(N!=null&&pe===void 0)return h.errors.push("Can't format value of arg ".concat(b," for func ").concat(v)),[void 0,!1];s++,pe!==void 0&&(p[b]=pe,O=pe)}if(typeof o.mongoFormatFunc=="function"){var ve=o.mongoFormatFunc,me=[p];c=ve.apply(void 0,me)}else{if(o.mongoFormatFunc===null)return h.errors.push("Functon ".concat(n," is not supported")),[void 0,!1];r?c=(0,E.default)({},n,p):s==1&&O!==void 0?c=(0,E.default)({},n,O):c=(0,E.default)({},n,Object.values(p))}return[c,u]}},3193:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.queryBuilderFormat=void 0;var C=d(t(43693)),E=t(46897),B=t(67212),D=t(68429),S=t(76348),T=t(22980),P=t(36940);function F(ee,I){var X=Object.keys(ee);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(ee);I&&(R=R.filter(function(W){return Object.getOwnPropertyDescriptor(ee,W).enumerable})),X.push.apply(X,R)}return X}function x(ee){for(var I=1;I<arguments.length;I++){var X=arguments[I]!=null?arguments[I]:{};I%2?F(Object(X),!0).forEach(function(R){(0,C.default)(ee,R,X[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(X)):F(Object(X)).forEach(function(R){Object.defineProperty(ee,R,Object.getOwnPropertyDescriptor(X,R))})}return ee}var V=function(I,X){var R={usedFields:[]},W=U(I,X,R);if(W)return x(x({},W),R)};f.queryBuilderFormat=V;var U=function(I,X,R){if(I){var W=I.get("type"),M=I.get("children1");if((W==="group"||W==="rule_group")&&M&&M.size)return J(I,X,R);if(W==="rule")return K(I,X,R)}},J=function(I,X,R){var W=I.get("properties")||new P.Map,M=I.get("children1"),G=I.get("id"),z=M.map(function(j){return U(j,X,R)}).filter(function(j){return typeof j<"u"});if(z.size){var q=W.get("conjunction");q||(q=(0,D.defaultConjunction)(X));var _=W.get("not"),Y={id:G,rules:z.toList(),condition:q.toUpperCase(),not:_};return Y}},K=function(I,X,R){var W=I.get("properties")||new P.Map,M=I.get("id"),G=W.get("operator"),z=W.get("operatorOptions"),q=W.get("field"),_=W.get("value"),Y=W.get("valueSrc"),j=W.get("valueType"),y=_.filter(function(s){return s===void 0}).size>0;if(!(q==null||G==null||y)){var h=(0,B.getFieldConfig)(X,q)||{},l=(0,B.getOperatorConfig)(X,G,q)||{},a=h.type||"undefined",i=(0,E.defaultValue)(l.cardinality,1),u=X.types[h.type]||{},c=(0,S.formatFieldName)(q,X,R);if(!(_.size<i)){R.usedFields.indexOf(q)==-1&&R.usedFields.push(q),_=_.toArray(),Y=Y.toArray(),j=j.toArray();for(var v=[],m=0;m<_.length;m++){var o={type:j[m],value:_[m]};if(v.push(o),Y[m]=="field"){var n=_[m];R.usedFields.indexOf(n)==-1&&R.usedFields.push(n)}}var r=z?z.toJS():null;r&&!Object.keys(r).length&&(r=null);var p={id:M,fieldName:c,type:a,input:u.mainWidget,operator:G};return r&&(p.operatorOptions=r),p.values=v,p}}}},13589:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.queryString=void 0;var C=d(t(43693)),E=d(t(85715)),B=d(t(41132)),D=t(67212),S=t(76348),T=d(t(90179)),P=d(t(44383)),F=t(46897),x=t(68429),V=t(68697),U=t(22980),J=t(36940);function K(Y,j){var y=Object.keys(Y);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(Y);j&&(h=h.filter(function(l){return Object.getOwnPropertyDescriptor(Y,l).enumerable})),y.push.apply(y,h)}return y}function ee(Y){for(var j=1;j<arguments.length;j++){var y=arguments[j]!=null?arguments[j]:{};j%2?K(Object(y),!0).forEach(function(h){(0,C.default)(Y,h,y[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(y)):K(Object(y)).forEach(function(h){Object.defineProperty(Y,h,Object.getOwnPropertyDescriptor(y,h))})}return Y}var I=function(j,y){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l={errors:[]},a=X(j,y,l,h,null);return l.errors.length&&console.warn("Errors while exporting to string:",l.errors),a};f.queryString=I;var X=function(j,y,h){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(j){var i=j.get("type"),u=j.get("children1");if(i==="group"||i==="rule_group")return R(j,y,h,l,a);if(i==="rule")return G(j,y,h,l,a)}},R=function(j,y,h){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,i=j.get("type"),u=j.get("properties")||new J.Map,c=u.get("mode"),v=j.get("children1");if(v){var m=i==="rule_group",o=m&&c=="array"?u.get("field"):null,n=m&&c=="array",r=u.get("not"),p=v.map(function($){return X($,y,h,l,o)}).filter(function($){return typeof $<"u"});if(!(!n&&!p.size)){var s=u.get("conjunction");s||(s=(0,x.defaultConjunction)(y));var O=y.conjunctions[s],b=p.size?O.formatConj(p,s,r,l):null,Q;if(o){var H=G(j,y,h,l,a,!0);if(H){var L,N=H.pop(),w=[b].concat((0,B.default)(H));Q=(L=y.settings).formatAggr.apply(L,(0,B.default)(w)),N&&(Q=y.settings.formatReverse(Q,null,null,null,null,l))}}else Q=b;return Q}}},W=function(j,y,h,l,a,i){var u=y.get("field"),c=y.get("valueSrc"),v=y.get("valueType"),m=(0,D.getFieldConfig)(j,u)||{},o=l||y.get("operator"),n=(0,D.getOperatorConfig)(j,o,u)||{},r=(0,F.defaultValue)(n.cardinality,1),p=y.get("value"),s=y.get("asyncListValues"),O=[],b=[],Q;if(p!=null){var H=p.map(function(N,w){var $=c?c.get(w):null,te=v?v.get(w):null,re=(0,U.completeValue)(N,$,j),ue=(0,S.getWidgetForFieldOp)(j,u,o,$),ne=(0,T.default)((0,D.getFieldWidgetConfig)(j,u,o,ue,$),["factory"]),pe=z(j,h,re,$,te,ne,m,o,n,a,i,s);return pe!==void 0&&(O.push($),b.push(te)),pe}),L=H.filter(function(N){return N===void 0}).size>0;L||H.size<r||(Q=r==1?H.first():H)}return[Q,O.length>1?O:O[0],b.length>1?b:b[0]]},M=function(j,y){var h=y.labelForFormat||j,l=(0,F.defaultValue)(y.cardinality,1),a;return l==0?a=function(u,c,v,m,o,n,r,p){return"".concat(u," ").concat(h)}:l==1?a=function(u,c,v,m,o,n,r,p){return"".concat(u," ").concat(h," ").concat(v)}:l==2&&(a=function(u,c,v,m,o,n,r,p){var s=v.first(),O=v.get(1);return"".concat(u," ").concat(h," ").concat(s," AND ").concat(O)}),a},G=function(j,y,h){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,u=j.get("properties")||new J.Map,c=u.get("field"),v=u.get("operator"),m=u.get("operatorOptions");if(!(c==null||v==null)){var o=(0,D.getFieldConfig)(y,c)||{},n=(0,D.getOperatorConfig)(y,v,c)||{},r=n.reversedOp,p=(0,D.getOperatorConfig)(y,r,c)||{},s=!1,O=n.formatOp;if(!O&&r&&(O=p.formatOp,O)){s=!0;var b=[r,v];v=b[0],r=b[1];var Q=[p,n];n=Q[0],p=Q[1]}if(O||(O=M(v,n)),!!O){var H=q(y,h,c,l,a),L=W(y,u,h,v,l,a),N=(0,E.default)(L,3),w=N[0],$=N[1],te=N[2];if(w!==void 0){var re=[H,v,w,$,te,(0,T.default)(n,["formatOp","mongoFormatOp","sqlFormatOp","jsonLogic","spelFormatOp"]),m,l,o,s];if(i)return re;var ue=O.apply(void 0,re);return s&&(ue=y.settings.formatReverse(ue,v,r,n,p,l)),ue}}}},z=function(j,y,h,l,a,i,u,c,v,m){var o=arguments.length>10&&arguments[10]!==void 0?arguments[10]:null,n=arguments.length>11?arguments[11]:void 0;if(h!==void 0){var r;if(l=="field")r=q(j,y,h,m,o);else if(l=="func")r=_(j,y,h,m,o);else if(typeof i.formatValue=="function"){var p=i.formatValue,s=[h,ee(ee({},(0,P.default)(u,["fieldSettings","listValues"])),{},{asyncListValues:n}),(0,T.default)(i,["formatValue","mongoFormatValue","sqlFormatValue","jsonLogic","elasticSearchFormatValue","spelFormatValue"]),m];if(c&&(s.push(c),s.push(v)),l=="field"){var O=(0,D.getFieldConfig)(j,h)||{};s.push(O)}r=p.apply(void 0,s)}else r=h;return r}},q=function(j,y,h,l){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,u=j.settings,c=u.fieldSeparator,v=u.fieldSeparatorDisplay,m=null;if(h){var o=(0,D.getFieldConfig)(j,h)||{},n=Array.isArray(h)?h:h.split(c),r=(0,S.getFieldPath)(h,j),p=(0,S.getFieldPathLabels)(h,j,i?a:null),s=p?p.join(v):null,O=o.label2||s,b=j.settings.formatField||V.settings.formatField,Q=(0,S.formatFieldName)(h,j,y,i?a:null);m=b(Q,n,O,o,j,l)}return m},_=function(j,y,h,l){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,i=h.get("func"),u=h.get("args"),c=(0,D.getFuncConfig)(j,i),v=l&&c.label||i,m={},o={};for(var n in c.args){var r=c.args[n],p=(0,D.getFieldConfig)(j,r),s=u?u.get(n):void 0,O=s?s.get("value"):void 0,b=s?s.get("valueSrc"):void 0,Q=s?s.get("asyncListValues"):void 0,H=z(j,y,O,b,r.type,p,r,null,null,l,a,Q),L=l&&r.label||n;H!==void 0&&(m[n]=H,o[L]=H)}var N=null;if(typeof c.formatFunc=="function"){var w=c.formatFunc,$=[m,l];N=w.apply(void 0,$)}else{var te=Object.entries(o).map(function(re){var ue=(0,E.default)(re,2),ne=ue[0],pe=ue[1];return l?"".concat(ne,": ").concat(pe):"".concat(pe)}).join(", ");N="".concat(v,"(").concat(te,")")}return N}},11280:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.spelFormat=f._spelFormat=void 0;var C=d(t(8053)),E=d(t(43693)),B=d(t(85715)),D=t(67212),S=t(76348),T=d(t(90179)),P=d(t(44383)),F=t(46897),x=t(68429),V=t(68697),U=t(22980),J=t(36940),K=t(76669);function ee(i,u){var c=Object.keys(i);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(i);u&&(v=v.filter(function(m){return Object.getOwnPropertyDescriptor(i,m).enumerable})),c.push.apply(c,v)}return c}function I(i){for(var u=1;u<arguments.length;u++){var c=arguments[u]!=null?arguments[u]:{};u%2?ee(Object(c),!0).forEach(function(v){(0,E.default)(i,v,c[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(c)):ee(Object(c)).forEach(function(v){Object.defineProperty(i,v,Object.getOwnPropertyDescriptor(c,v))})}return i}var X=function(u,c){return R(u,c,!1)};f.spelFormat=X;var R=function(u,c){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,m={errors:[]},o=W(u,c,m,null);return v?[o,m.errors]:(m.errors.length&&console.warn("Errors while exporting to SpEL:",m.errors),o)};f._spelFormat=R;var W=function(u,c,v){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(u){var o=u.get("type");if(o==="group"||o==="rule_group")return z(u,c,v,m);if(o==="rule")return j(u,c,v,m);if(o=="switch_group")return G(u,c,v,m);if(o=="case_group")return M(u,c,v,m)}},M=function(u,c,v){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=u.get("type");if(o!="case_group"){v.errors.push("Unexpected child of type ".concat(o," inside switch"));return}var n=u.get("properties")||new J.Map,r=y(c,n,v,null,m,"!case_value"),p=(0,B.default)(r,3),s=p[0],O=p[1],b=p[2],Q=z(u,c,v,m);return[Q,s]},G=function(u,c,v){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=u.get("properties")||new J.Map,n=u.get("children1");if(n){var r=n.map(function(w){return M(w,c,v,null)}).filter(function(w){return typeof w<"u"}).toArray();if(r.length){if(r.length==1&&!r[0][0])return r[0][1];for(var p=[],s=0;s<r.length;s++)s!=r.length-1&&!r[s][0]?v.errors.push("No condition for case ".concat(s)):(p.push(r[s]),s==r.length-1&&r[s][0]&&p.push([void 0,null]));for(var O="",b="",Q=0;Q<p.length;Q++){var H=(0,B.default)(p[Q],2),L=H[0],N=H[1];N==null&&(N="null"),L==null&&(L="true"),Q!=p.length-1?(O+="(".concat(L," ? ").concat(N," : "),b+=")"):O+="".concat(N)}return O+b}}},z=function(u,c,v){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=u.get("type"),n=u.get("properties")||new J.Map,r=n.get("mode"),p=u.get("children1"),s=n.get("field");if(p){var O=n.get("conjunction");O||(O=(0,x.defaultConjunction)(c));var b=c.conjunctions[O],Q=n.get("not"),H=o==="rule_group",L=H&&r!="struct",N=L?s:m,w=(0,D.getFieldConfig)(c,N)||{},$=w.isSpelArray,te=n.get("operator");!te&&(!r||r=="some")&&(te="some");var re=Y(c,te,s),ue=re!=te,ne=te&&(0,D.getOperatorConfig)(c,re,s)||null,pe=H&&(!re||ne.cardinality==0),se=y(c,n,v,re,m,null),ve=(0,B.default)(se,3),me=ve[0],ye=ve[1],Oe=ve[2],ge=p.map(function(de){return W(de,c,v,N)}).filter(function(de){return typeof de<"u"});if(L&&!pe){if(me==null)return}else if(!ge.size)return;var Te=H,Ne=ge.size?b.spelFormatConj(ge,O,Q,Te):null,Ie;if(L){var we=l(v,c,s,m),We=$?".length":".size()",je="".concat(we).concat(We),Ke=Ne?"".concat(we,".?[").concat(Ne,"]").concat(We):je,fe=pe?je:me;Ie=_(v,c,n,Ke,fe,re,ye,Oe,ue)}else Ie=Ne;return Ie}},q=function(u,c){var v=c.spelOp;if(v){var m=v[0]=="$",o=v[0]=="."||m,n=v.substring(v.length-2)=="()",r=o?v.slice(1):n?v.substring(0,v.length-2):v,p,s=(0,F.defaultValue)(c.cardinality,1);return s==0?p=function(b,Q,H,L,N,w,$,te){return o?"".concat(b,".").concat(r,"()"):"".concat(b," ").concat(r)}:s==1&&(p=function(b,Q,H,L,N,w,$,te){return m?"".concat(H,".").concat(r,"(").concat(b,")"):n?"".concat(r,"(").concat(b,", ").concat(H,")"):o?"".concat(b,".").concat(r,"(").concat(H,")"):"".concat(b," ").concat(r," ").concat(H)}),p}},_=function(u,c,v,m,o,n,r,p){var s=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,O=v.get("field"),b=(0,D.getOperatorConfig)(c,n,O)||{},Q=(0,D.getFieldConfig)(c,O)||{},H=v.get("operatorOptions"),L=b.spelFormatOp||q(n,b);if(!L){u.errors.push("Operator ".concat(n," is not supported"));return}var N=[m,n,o,r,p,(0,T.default)(b,["formatOp","mongoFormatOp","sqlFormatOp","jsonLogic","spelFormatOp"]),H,Q],w;return w=L.apply(void 0,N),s&&(w=c.settings.spelFormatReverse(w)),w===void 0&&u.errors.push("Operator ".concat(n," is not supported for value source ").concat(r)),w},Y=function(u,c,v){if(c){var m=(0,D.getOperatorConfig)(u,c,v)||{},o=m.reversedOp,n=(0,D.getOperatorConfig)(u,o,v)||{},r=!1,p=m.spelOp||m.spelFormatOp,s=n.spelOp||n.spelFormatOp;if(!(!p&&!s)){if(!p&&s){r=!0;var O=[o,c];c=O[0],o=O[1];var b=[n,m];m=b[0],n=b[1]}return c}}},j=function(u,c,v){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=u.get("properties")||new J.Map,n=o.get("field"),r=o.get("operator");if(!(n==null||r==null)){var p=Y(c,r,n);if(!p){v.errors.push("Operator ".concat(r," is not supported"));return}var s=p!=r,O=y(c,o,v,p,m,null),b=(0,B.default)(O,3),Q=b[0],H=b[1],L=b[2];if(Q!==void 0){var N=l(v,c,n,m),w=_(v,c,o,N,Q,p,H,L,s);return w}}},y=function(u,c,v,m,o){var n=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,r=c.get("field"),p=c.get("valueSrc"),s=c.get("valueType");(n=="!case_value"||s&&s.get(0)=="case_value")&&(r="!case_value");var O=(0,D.getFieldConfig)(u,r)||{},b=(0,D.getOperatorConfig)(u,m,r)||{},Q=(0,F.defaultValue)(b.cardinality,1),H=c.get("value"),L=c.get("asyncListValues"),N=[],w=[],$;if(H!=null){var te=H.map(function(ue,ne){var pe=p?p.get(ne):null,se=s?s.get(ne):null,ve=(0,U.completeValue)(ue,pe,u),me=(0,S.getWidgetForFieldOp)(u,r,m,pe),ye=(0,T.default)((0,D.getFieldWidgetConfig)(u,r,m,me,pe),["factory"]),Oe=h(v,u,ve,pe,se,ye,O,m,b,o,L);return Oe!==void 0&&(N.push(pe),w.push(se)),Oe}),re=te.filter(function(ue){return ue===void 0}).size>0;te.size<Q||re||($=Q>1?te.toArray():Q==1?te.first():null)}return[$,N.length>1?N:N[0],w.length>1?w:w[0]]},h=function(u,c,v,m,o,n,r,p,s){var O=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,b=arguments.length>10?arguments[10]:void 0;if(v!==void 0){var Q;if(m=="field")Q=l(u,c,v,O);else if(m=="func")Q=a(u,c,v,O);else if(typeof n.spelFormatValue=="function"){var H=n.spelFormatValue,L=[v,I(I({},(0,P.default)(r,["fieldSettings","listValues"])),{},{asyncListValues:b}),(0,T.default)(n,["formatValue","mongoFormatValue","sqlFormatValue","jsonLogic","elasticSearchFormatValue","spelFormatValue"])];if(p&&(L.push(p),L.push(s)),m=="field"){var N=(0,D.getFieldConfig)(c,v)||{};L.push(N)}Q=H.apply(void 0,L)}else Q=(0,K.spelEscape)(v);return Q}},l=function(u,c,v){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(v){var o=c.settings.fieldSeparator,n=(0,D.getFieldConfig)(c,v)||{},r=Array.isArray(v)?v:v.split(o),p=(0,S.getFieldPath)(v,c,m),s=(0,S.getFieldPartsConfigs)(v,c,m),O=c.settings.formatSpelField,b=(0,S.formatFieldName)(v,c,u);if(m){var Q=(0,D.getFieldConfig)(c,m)||{},H=m;Q.fieldName&&(H=Q.fieldName),b.indexOf(H+o)==0?b=b.slice((H+o).length):u.errors.push("Can't cut group ".concat(H," from field ").concat(b))}var L=s.map(function(w){var $=(0,B.default)(w,3),te=$[0],re=$[1],ue=$[2],ne;ue&&(ue.type=="!struct"||ue.type=="!group"&&ue.mode=="struct"?ne=re.isSpelMap?"map":"class":ue.type=="!group"?ne=re.isSpelItemMap?"[map]":"[class]":ne="class");var pe=re?.isSpelVariable;return{key:te,parent:ne,isSpelVariable:pe}}),N=O(b,m,r,L,n,c);return N}},a=function(u,c,v){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=v.get("func"),n=v.get("args"),r=(0,D.getFuncConfig)(c,o),p=r.spelFunc||o,s={};for(var O in r.args){var b=r.args[O],Q=(0,D.getFieldConfig)(c,b),H=n?n.get(O):void 0,L=H?H.get("value"):void 0,N=H?H.get("valueSrc"):void 0,w=H?H.get("asyncListValues"):void 0,$=h(u,c,L,N,b.type,Q,b,null,null,m,w);if(L!=null&&$===void 0){u.errors.push("Can't format value of arg ".concat(O," for func ").concat(o));return}$!==void 0&&(s[O]=$)}var te;if(typeof r.spelFormatFunc=="function"){var re=r.spelFormatFunc,ue=[s];te=re.apply(void 0,ue)}else{var ne=Object.entries(s).map(function(me){var ye=(0,B.default)(me,2),Oe=ye[0],ge=ye[1];return ge});if(p[0]=="."&&ne.length){var pe=(0,C.default)(ne),se=pe[0],ve=pe.slice(1);te="".concat(se).concat(p,"(").concat(ve.join(", "),")")}else te="".concat(p,"(").concat(ne.join(", "),")")}return te}},48032:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.sqlFormat=f._sqlFormat=void 0;var C=d(t(85715)),E=d(t(43693)),B=t(67212),D=t(76348),S=d(t(90179)),T=d(t(44383)),P=t(46897),F=t(68429),x=t(68697),V=t(22980),U=t(36940),J=t(76669);function K(Y,j){var y=Object.keys(Y);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(Y);j&&(h=h.filter(function(l){return Object.getOwnPropertyDescriptor(Y,l).enumerable})),y.push.apply(y,h)}return y}function ee(Y){for(var j=1;j<arguments.length;j++){var y=arguments[j]!=null?arguments[j]:{};j%2?K(Object(y),!0).forEach(function(h){(0,E.default)(Y,h,y[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(y)):K(Object(y)).forEach(function(h){Object.defineProperty(Y,h,Object.getOwnPropertyDescriptor(y,h))})}return Y}var I=function(j,y){return X(j,y,!1)};f.sqlFormat=I;var X=function(j,y){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l={errors:[]},a=R(j,y,l);return h?[a,l.errors]:(l.errors.length&&console.warn("Errors while exporting to SQL:",l.errors),a)};f._sqlFormat=X;var R=function(j,y,h){if(j){var l=j.get("type"),a=j.get("children1");if((l==="group"||l==="rule_group")&&a&&a.size)return W(j,y,h);if(l==="rule")return G(j,y,h)}},W=function(j,y,h){var l=j.get("type"),a=j.get("properties")||new U.Map,i=j.get("children1"),u=l==="rule_group"?a.get("field"):null,c=(0,B.getFieldConfig)(y,u)||{};c.mode=="array"&&h.errors.push("Aggregation is not supported for ".concat(u));var v=a.get("not"),m=i.map(function(r){return R(r,y,h)}).filter(function(r){return typeof r<"u"});if(m.size){var o=a.get("conjunction");o||(o=(0,F.defaultConjunction)(y));var n=y.conjunctions[o];return n.sqlFormatConj(m,o,v)}},M=function(j,y){var h=y.sqlOp||j,l=(0,P.defaultValue)(y.cardinality,1),a;return l==0?a=function(u,c,v,m,o,n,r,p){return"".concat(u," ").concat(h)}:l==1?a=function(u,c,v,m,o,n,r,p){return"".concat(u," ").concat(h," ").concat(v)}:l==2&&(a=function(u,c,v,m,o,n,r,p){var s=v.first(),O=v.get(1);return"".concat(u," ").concat(h," ").concat(s," AND ").concat(O)}),a},G=function(j,y,h){var l=j.get("properties")||new U.Map,a=l.get("field"),i=l.get("operator"),u=l.get("operatorOptions"),c=l.get("valueSrc"),v=l.get("valueType"),m=l.get("value"),o=l.get("asyncListValues");if(!(a==null||i==null)){var n=(0,B.getFieldConfig)(y,a)||{},r=(0,B.getOperatorConfig)(y,i,a)||{},p=r.reversedOp,s=(0,B.getOperatorConfig)(y,p,a)||{},O=(0,P.defaultValue)(r.cardinality,1),b=!1,Q=r.sqlOp||r.sqlFormatOp,H=s.sqlOp||s.sqlFormatOp;if(!Q&&!H){h.errors.push("Operator ".concat(i," is not supported"));return}if(!H&&H){b=!0;var L=[p,i];i=L[0],p=L[1];var N=[s,r];r=N[0],s=N[1]}var w=[],$=[],te=m.map(function(me,ye){var Oe=c?c.get(ye):null,ge=v?v.get(ye):null,Te=(0,V.completeValue)(me,Oe,y),Ne=(0,D.getWidgetForFieldOp)(y,a,i,Oe),Ie=(0,S.default)((0,B.getFieldWidgetConfig)(y,a,i,Ne,Oe),["factory"]),we=z(h,y,Te,Oe,ge,Ie,n,i,r,o);return we!==void 0&&(w.push(Oe),$.push(ge)),we}),re=te.filter(function(me){return me===void 0}).size>0;if(!(re||te.size<O)){var ue=O==1?te.first():te,ne=r.sqlFormatOp||M(i,r);if(!ne){h.errors.push("Operator ".concat(i," is not supported"));return}var pe=q(h,y,a),se=[pe,i,ue,w.length>1?w:w[0],$.length>1?$:$[0],(0,S.default)(r,["formatOp","mongoFormatOp","sqlFormatOp","jsonLogic","spelFormatOp"]),u,n],ve;if(ve=ne.apply(void 0,se),b&&(ve=y.settings.sqlFormatReverse(ve)),ve===void 0){h.errors.push("Operator ".concat(i," is not supported for value source ").concat(w.join(", ")));return}return ve}}},z=function(j,y,h,l,a,i,u,c,v,m){if(h!==void 0){var o;if(l=="field")o=q(j,y,h);else if(l=="func")o=_(j,y,h);else if(typeof i.sqlFormatValue=="function"){var n=i.sqlFormatValue,r=[h,ee(ee({},(0,T.default)(u,["fieldSettings","listValues"])),{},{asyncListValues:m}),(0,S.default)(i,["formatValue","mongoFormatValue","sqlFormatValue","jsonLogic","elasticSearchFormatValue","spelFormatValue"])];if(c&&(r.push(c),r.push(v)),l=="field"){var p=(0,B.getFieldConfig)(y,h)||{};r.push(p)}o=n.apply(void 0,r)}else Array.isArray(h)?o=h.map(function(s){return J.SqlString.escape(s)}):o=J.SqlString.escape(h);return o}},q=function(j,y,h){if(h){var l=y.settings.fieldSeparator,a=(0,B.getFieldConfig)(y,h)||{},i=Array.isArray(h)?h:h.split(l),u=(0,D.getFieldPath)(h,y),c=(0,D.getFieldPathLabels)(h,y),v=c?c.join(l):null,m=y.settings.formatField||x.settings.formatField,o=(0,D.formatFieldName)(h,y,j),n=m(o,i,v,a,y);return n}},_=function(j,y,h){var l=h.get("func"),a=h.get("args"),i=(0,B.getFuncConfig)(y,l),u=i.sqlFunc||l,c={};for(var v in i.args){var m=i.args[v],o=(0,B.getFieldConfig)(y,m),n=a?a.get(v):void 0,r=n?n.get("value"):void 0,p=n?n.get("valueSrc"):void 0,s=n?n.get("asyncListValues"):void 0,O=z(j,y,r,p,m.type,o,m,null,null,s);if(r!=null&&O===void 0){j.errors.push("Can't format value of arg ".concat(v," for func ").concat(l));return}O!==void 0&&(c[v]=O)}var b;if(typeof i.sqlFormatFunc=="function"){var Q=i.sqlFormatFunc,H=[c];b=Q.apply(void 0,H)}else{var L=Object.entries(c).map(function(N){var w=(0,C.default)(N,2),$=w[0],te=w[1];return te}).join(", ");b="".concat(u,"(").concat(L,")")}return b}},35327:(ie,f,t)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var d=t(44435);Object.keys(d).forEach(function(B){B==="default"||B==="__esModule"||B in f&&f[B]===d[B]||Object.defineProperty(f,B,{enumerable:!0,get:function(){return d[B]}})});var C=t(26475);Object.keys(C).forEach(function(B){B==="default"||B==="__esModule"||B in f&&f[B]===C[B]||Object.defineProperty(f,B,{enumerable:!0,get:function(){return C[B]}})});var E=t(44161);Object.keys(E).forEach(function(B){B==="default"||B==="__esModule"||B in f&&f[B]===E[B]||Object.defineProperty(f,B,{enumerable:!0,get:function(){return E[B]}})})},26475:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.loadFromJsonLogic=f._loadFromJsonLogic=void 0;var C=d(t(41132)),E=d(t(8053)),B=d(t(43693)),D=d(t(85715)),S=d(t(21428)),T=t(46897),P=t(67212),F=t(76348),x=t(44435),V=t(68429),U=d(t(95093));function J(i,u){var c=Object.keys(i);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(i);u&&(v=v.filter(function(m){return Object.getOwnPropertyDescriptor(i,m).enumerable})),c.push.apply(c,v)}return c}function K(i){for(var u=1;u<arguments.length;u++){var c=arguments[u]!=null?arguments[u]:{};u%2?J(Object(c),!0).forEach(function(v){(0,B.default)(i,v,c[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(c)):J(Object(c)).forEach(function(v){Object.defineProperty(i,v,Object.getOwnPropertyDescriptor(c,v))})}return i}var ee=function(u){return Array.from(new Set(u))},I=function(u){return u.reduce(function(c,v){var m=(0,D.default)(v,2),o=m[0],n=m[1];return K(K({},c),{},(0,B.default)({},o,n))},{})},X=function(u,c){return R(u,c,!1)};f.loadFromJsonLogic=X;var R=function(u,c){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,m={errors:[]},o=(0,P.extendConfig)(c),n=W(o),r=u?M(u,n,o,"rule",m):void 0;r&&r.type!="group"&&(r=y(r,o));var p=r?(0,x.loadTree)(r):void 0;return v?[p,m.errors]:(m.errors.length&&console.warn("Errors while importing from JsonLogic:",m.errors),p)};f._loadFromJsonLogic=R;var W=function(u){var c={};for(var v in u.operators){var m=u.operators[v];if(typeof m.jsonLogic=="string"){var o=(m._jsonLogicIsRevArgs?"#":"")+m.jsonLogic+"/"+(0,T.defaultValue)(m.cardinality,1);c[o]||(c[o]=[]),c[o].push(v)}else if(typeof m.jsonLogic2=="string"){var n=m.jsonLogic2+"/"+(0,T.defaultValue)(m.cardinality,1);c[n]||(c[n]=[]),c[n].push(v)}}var r={};for(var p in u.conjunctions){var s=u.conjunctions[p],O=s.jsonLogicConj||p.toLowerCase();r[O]=p}var b={};for(var Q in u.funcs){var H=u.funcs[Q],L=void 0;H.jsonLogicIsMethod?L="#"+H.jsonLogic:typeof H.jsonLogic=="string"&&(L=H.jsonLogic),L&&(b[L]||(b[L]=[]),b[L].push(Q))}var N=u.settings.jsonLogic,w=N.groupVarKey,$=N.altVarKey;return{operators:c,conjunctions:r,funcs:b,varKeys:["var",w,$]}},M=function i(u,c,v,m,o){var n=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,r=arguments.length>6?arguments[6]:void 0,p=arguments.length>7?arguments[7]:void 0,s=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,O=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1,b,Q;(0,T.isJsonLogic)(u)&&(b=Object.keys(u)[0],Q=u[b],Array.isArray(Q)||(Q=[Q]));var H,L=o.errors.length,N=v.settings.jsonLogic.lockedOp,w=b=="!"&&Q.length==1&&Q[0]&&(0,T.isJsonLogic)(Q[0])&&c.varKeys.includes(Object.keys(Q[0])[0]),$=b=="!"&&!w,te=N&&b==N;te?H=i(Q[0],c,v,m,o,n,r,p,s,!0):$?H=i(Q[0],c,v,m,o,!n,r,p,s):m=="val"?H=z(b,Q,c,v,n,o,s)||q(b,Q,c,v,n,r,o,s)||G(u,r,p,v,o):m=="rule"&&(H=_(b,Q,c,v,n,o,s,!1)||a(b,Q,c,v,n,o,s));var re=o.errors.length;return b!="!"&&H===void 0&&re==L&&o.errors.push("Can't parse logic ".concat(JSON.stringify(u))),te&&(H.properties.isLocked=!0),H},G=function(u,c,v,m,o){if(u!==void 0){var n=m.widgets[v||c.mainWidget];if(!n){o.errors.push("No widget for type ".concat(c.type));return}if((0,T.isJsonLogic)(u)){o.errors.push("Unexpected logic in value: ".concat(JSON.stringify(u)));return}if(c&&c.type=="time"&&typeof u=="number"){var r=Math.floor(u/60/60)%24,p=Math.floor(u/60)%60,s=u%60,O=n.valueFormat;if(O){var b=new Date(u);b.setMilliseconds(0),b.setHours(r),b.setMinutes(p),b.setSeconds(s),u=(0,U.default)(b).format(O)}else u="".concat(r,":").concat(p,":").concat(s)}if(c&&["date","datetime"].includes(c.type)&&u&&!(u instanceof Date))try{var Q=new Date(u);Q instanceof Date&&Q.toISOString()===u&&(u=Q)}catch{o.errors.push("Can't convert value ".concat(u," as Date")),u=void 0}if(u instanceof Date&&c){var H=n.valueFormat;H&&(u=(0,U.default)(u).format(H))}var L;if(u&&c.fieldSettings&&c.fieldSettings.asyncFetch){var N=Array.isArray(u)?u:[u];L=N}return{valueSrc:"value",value:u,valueType:n.type,asyncListValues:L}}},z=function(u,c,v,m,o,n){var r=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,p=m.settings.fieldSeparator;if(v.varKeys.includes(u)&&typeof c[0]=="string"){var s=c[0];r&&(s=[r,s].join(p)),s=(0,P.normalizeField)(m,s);var O=(0,P.getFieldConfig)(m,s);if(!O){n.errors.push("No config for field ".concat(s));return}return{valueSrc:"field",value:s,valueType:O.type}}},q=function(u,c,v,m,o,n,r){var p=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null;if(u){var s,O,b,Q=u=="method";if(Q){var H,L,N=(0,E.default)(c);H=N[0],s=N[1],L=N.slice(2),O=[H].concat((0,C.default)(L))}else s=u,O=c;var w=(Q?"#":"")+s,$=(v.funcs[w]||[]).filter(function(ge){return n?m.funcs[ge].returnType==n.type:!0});if($.length)b=$[0];else for(var te=(0,B.default)({},u,c),re=0,ue=Object.entries(m.funcs||{});re<ue.length;re++){var ne=(0,D.default)(ue[re],2),pe=ne[0],se=ne[1];if(se.jsonLogicImport&&se.returnType==n.type){var ve=void 0;try{ve=se.jsonLogicImport(te)}catch{}ve&&(b=pe,O=ve)}}if(b&&b){var me=m.funcs[b],ye=Object.keys(me.args||{}),Oe=O.reduce(function(ge,Te,Ne){var Ie=ye[Ne],we=me.args[Ie],We=M(Te,v,m,"val",r,!1,we,null,p);if(We===void 0&&(We=we.defaultValue,We===void 0)){r.errors.push("No value for arg ".concat(Ie," of func ").concat(b));return}return K(K({},ge),{},(0,B.default)({},Ie,We))},{});return{valueSrc:"func",value:{func:b,args:Oe},valueType:me.returnType}}}},_=function(u,c,v,m,o,n){var r=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,p=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,s=v.conjunctions[u],O=m.settings.fieldSeparator,b=r?(0,P.getFieldConfig)(m,r):null,Q=b?.type=="!group";if(s){var H="group",L=c.map(function(ve){return M(ve,v,m,"rule",n,!1,null,null,r)}).filter(function(ve){return ve!==void 0}).reduce(function(ve,me){return K(K({},ve),{},(0,B.default)({},me.id,me))},{}),N=Object.values(L).map(function(ve){var me;return ve==null||(me=ve.properties)===null||me===void 0?void 0:me.field}).filter(function(ve){return ve&&ve.includes(O)}),w=Object.fromEntries(ee(N).map(function(ve){var me=ve.split(O),ye=Object.fromEntries(me.slice(0,-1).map(function(Oe,ge,Te){return[].concat((0,C.default)(Te.slice(0,ge)),[Oe])}).map(function(Oe){return[Oe.join(O),(0,P.getFieldConfig)(m,Oe)]}).filter(function(Oe){var ge=(0,D.default)(Oe,2),Te=ge[0],Ne=ge[1];return Ne.type=="!group"}));return[ve,Object.keys(ye)]})),$=Object.values(L).map(function(ve){var me;return ve==null||(me=ve.properties)===null||me===void 0?void 0:me.field}).map(function(ve){return w[ve]}).filter(function(ve){return ve&&ve.length}),te=ee(Object.values(w).flat()),re=Y(te),ue={conjunction:s,not:o},ne=(0,S.default)(),pe={},se={};return Object.entries(L).map(function(ve){var me=(0,D.default)(ve,2),ye=me[0],Oe=me[1];if(Oe.type=="group"||Oe.type=="rule_group")pe[ye]=Oe;else{var ge,Te=Oe==null||(ge=Oe.properties)===null||ge===void 0?void 0:ge.field,Ne=w[Te],Ie=Ne?.at(-1);if(!Ie)pe[ye]=Oe;else{var we=pe,We=r?r.split(O):[],je=(0,T.shallowEqual)(We,Ie.split(O).slice(0,We.length));je||(We=[]);var Ke=Ie.split(O).slice(We.length).map(function(fe,de,Pe){return[].concat((0,C.default)(We),(0,C.default)(Pe.slice(0,de)),[fe]).join(O)}).map(function(fe){return(0,P.normalizeField)(m,fe)}).map(function(fe){return{f:fe,fc:(0,P.getFieldConfig)(m,fe)||{}}}).filter(function(fe){var de=fe.fc;return de.type!="!struct"});Ke.map(function(fe,de){var Pe=fe.f,be=fe.fc,Re=se[Pe];Re||(Re=(0,S.default)(),se[Pe]=Re,we[Re]={type:"rule_group",id:Re,children1:{},properties:{conjunction:s,not:!1,field:Pe,mode:be.mode}}),we=we[Re].children1}),we[ye]=Oe}}}),{type:H,id:ne,children1:pe,properties:ue}}},Y=function(u){for(var c=(0,C.default)(u).sort(function(o,n){return o.length-n.length}),v=0;v<c.length;v++)for(var m=v+1;m<c.length;m++)c[m].indexOf(c[v])==0&&(c.splice(m,1),m--);return c},j=function(u,c,v,m,o){if(u)return{type:"rule_group",id:(0,S.default)(),children1:(0,B.default)({},u.id,u),properties:{conjunction:o||(0,V.defaultGroupConjunction)(m,v),not:!1,field:c}}},y=function(u,c){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return{type:"group",id:(0,S.default)(),children1:(0,B.default)({},u.id,u),properties:{conjunction:(0,V.defaultConjunction)(c),not:v}}},h=function(u,c,v,m,o,n,r){var p=[],s=l(u,c,v,m,o,n,p,!1)||l(u,c,v,m,o,n,p,!0);if(!s){r.errors.push(p.join("; ")||"Unknown op ".concat(u,"/").concat(c));return}return s},l=function(u,c,v,m,o,n,r,p){var s=(u=="all"||u=="some")&&(0,T.isJsonLogic)(v[1])&&Object.keys(v[1])[0]=="in",O=!s&&n.settings.groupOperators.includes(u),b=["==","!="],Q=O?0:c-1;(O||b.includes(u)&&Q==1&&v[1]===null)&&(Q=0);var H=u+"/"+Q,L=n.settings.fieldSeparator,N=o.operators[(p?"#":"")+H];if(N){var w,$=[],te=["<","<=",">",">="];if(te.includes(u)&&c==3)w=v[1],$=[v[0],v[2]];else if(p)w=v[1],$=[v[0]];else{var re=(0,E.default)(v);w=re[0],$=re.slice(1)}if(!(0,T.isJsonLogic)(w)){r.push("Incorrect operands for ".concat(u,": ").concat(JSON.stringify(v)));return}var ue=Object.keys(w)[0],ne=Object.values(w)[0],pe,se,ve;if(o.varKeys.includes(ue)&&typeof ne=="string"&&(pe=ne),O&&(ve=!0,se=$[0],$=[]),ue=="reduce"&&Array.isArray(ne)&&ne.length==3){var me=ne,ye=(0,D.default)(me,3),Oe=ye[0],ge=ye[1],Te=ye[2];if((0,T.isJsonLogic)(Oe)&&Te==0&&(0,T.isJsonLogic)(ge)&&Array.isArray(ge["+"])&&ge["+"][0]==1&&(0,T.isJsonLogic)(ge["+"][1])&&ge["+"][1].var=="accumulator")if(ue=Object.keys(Oe)[0],ne=Object.values(Oe)[0],ue=="filter"){var Ne=ne,Ie=(0,D.default)(Ne,2),we=Ie[0],We=Ie[1];(0,T.isJsonLogic)(we)&&(ue=Object.keys(we)[0],ne=Object.values(we)[0],o.varKeys.includes(ue)&&typeof ne=="string"&&(pe=ne,se=We,ve=!0))}else o.varKeys.includes(ue)&&typeof ne=="string"&&(pe=ne,ve=!0)}if(!pe){r.push("Unknown field ".concat(JSON.stringify(w)));return}m&&(pe=[m,pe].join(L)),pe=(0,P.normalizeField)(n,pe);var je=(0,P.getFieldConfig)(n,pe);if(!je){r.push("No config for field ".concat(pe));return}var Ke=N[0];if(N.length>1&&je&&je.operators){if(N=N.filter(function(fe){return je.operators.includes(fe)}),N.length==0){r.push("No corresponding ops for field ".concat(pe));return}Ke=N[0]}return{field:pe,fieldConfig:je,opKey:Ke,args:$,having:se}}},a=function i(u,c,v,m,o,n){var r=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;if(u){var p=c.length;if((u=="all"||u=="some")&&(0,T.isJsonLogic)(c[1])){var s=Object.keys(c[1])[0];s=="in"&&(c=[c[0],c[1][s][1]],u=u+"-"+s)}var O=h(u,p,c,r,v,m,n);if(O){var b=O.field,Q=O.fieldConfig,H=O.opKey,L=O.args,N=O.having,w=m.operators[H],$=Q.showNot!==void 0?Q.showNot:m.settings.showNot,te=!0,re,ue;if(Q.type=="!group"&&N){re=Object.keys(N)[0],ue=N[re],Array.isArray(ue)||(ue=[ue]);var ne=re=="!"&&ue.length==1&&ue[0]&&(0,T.isJsonLogic)(ue[0])&&v.varKeys.includes(Object.keys(ue[0])[0]);re=="!"&&!ne&&(o=!o,N=N["!"],re=Object.keys(N)[0],ue=N[re],Array.isArray(ue)||(ue=[ue]))}o&&te&&w.reversedOp&&(o=!1,H=w.reversedOp,w=m.operators[H]);var pe=(0,F.getWidgetForFieldOp)(m,b,H),se=L.map(function(Te){return M(Te,v,m,"val",n,!1,Q,pe,r)});if(!se.filter(function(Te){return Te===void 0}).length){var ve;if(Q.type=="!group"&&N){if(v.conjunctions[re]!==void 0)ve=_(re,ue,v,m,o,n,b,!0),o=!1;else{var me,ye=i(re,ue,v,m,o&&te,n,b);o&&te&&!(ye!=null&&(me=ye.properties)!==null&&me!==void 0&&me.not)&&(o=!1),ve=j(ye,b,Q,m,v.conjunctions.and)}if(!ve)return;ve.type="rule_group",o&&Object.assign(ve.properties,{not:o}),Object.assign(ve.properties,{field:b,mode:Q.mode,operator:H}),Q.mode=="array"&&Object.assign(ve.properties,{value:se.map(function(Te){return Te.value}),valueSrc:se.map(function(Te){return Te.valueSrc}),valueType:se.map(function(Te){return Te.valueType})})}else if(Q.type=="!group"&&!N)ve={type:"rule_group",id:(0,S.default)(),children1:{},properties:{conjunction:(0,V.defaultGroupConjunction)(m,Q),not:o,mode:Q.mode,field:b,operator:H}},Q.mode=="array"&&Object.assign(ve.properties,{value:se.map(function(Te){return Te.value}),valueSrc:se.map(function(Te){return Te.valueSrc}),valueType:se.map(function(Te){return Te.valueType})});else{var Oe=se.map(function(Te){return Te.asyncListValues}).filter(function(Te){return Te!=null}),ge=Oe.length?Oe[0]:void 0;ve={type:"rule",id:(0,S.default)(),properties:{field:b,operator:H,value:se.map(function(Te){return Te.value}),valueSrc:se.map(function(Te){return Te.valueSrc}),valueType:se.map(function(Te){return Te.valueType}),asyncListValues:ge}},o&&(ve=y(ve,m,o))}return ve}}}}},44161:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.loadFromSpel=f._loadFromSpel=void 0;var C=d(t(85715)),E=d(t(73738)),B=d(t(43693)),D=d(t(41132)),S=t(21450),T=d(t(21428)),P=t(67212),F=t(76348),x=t(44435),V=t(68429),U=t(46897),J=d(t(95093));function K(c,v){var m=Object.keys(c);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(c);v&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(c,n).enumerable})),m.push.apply(m,o)}return m}function ee(c){for(var v=1;v<arguments.length;v++){var m=arguments[v]!=null?arguments[v]:{};v%2?K(Object(m),!0).forEach(function(o){(0,B.default)(c,o,m[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(m)):K(Object(m)).forEach(function(o){Object.defineProperty(c,o,Object.getOwnPropertyDescriptor(m,o))})}return c}var I=function(v,m){return X(v,m,!0)};f.loadFromSpel=I;var X=function(v,m){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n={errors:[]},r=(0,P.extendConfig)(m),p=M(r),s,O,b=void 0;try{var Q=S.SpelExpressionEvaluator.compile(v);s=Q._compiledExpression}catch(L){n.errors.push(L)}s&&(U.logger.debug("compiledExpression:",s),O=R(s,n),U.logger.debug("convertedObj:",O,n),b=j(O,p,r,n),b&&b.type!="group"&&b.type!="switch_group"&&(b=u(b,r,O.not)),U.logger.debug("jsTree:",b));var H=b?(0,x.loadTree)(b):void 0;return o?[H,n.errors]:(n.errors.length&&console.warn("Errors while importing from SpEL:",n.errors),H)};f._loadFromSpel=X;var R=function c(v,m){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=v.getType(),r=v.getChildren().map(function(ge){return c(ge,m,v)});if((n=="op-or"||n=="op-and")&&(r=r.reduce(function(ge,Te){var Ne=Te.type==n&&!Te.not,Ie=Ne?Te.children:[Te];return[].concat((0,D.default)(ge),(0,D.default)(Ie))},[])),n=="op-not")return r.length!=1&&m.errors.push("Operator NOT should have 1 child, but got ".concat(r.length,"}")),ee(ee({},r[0]),{},{not:!r[0].not});if(n=="compound"){r=r.filter(function(ge){var Te=ge.type=="selection"&&ge.children.length==1&&ge.children[0].type=="boolean"&&ge.children[0].val==!0;return!Te});var p=r.find(function(ge){return ge.type=="selection"});p&&p.children.length!=1&&m.errors.push("Selection should have 1 child, but got ".concat(p.children.length));var s=p?p.children[0]:null,O=r[r.length-1],b=O.type=="method"&&O.val.methodName=="size"||O.type=="!func"&&O.methodName=="size",Q=O.type=="property"&&O.val=="length",H=r.filter(function(ge){return ge!==p&&ge!==O}),L={type:"compound",children:H};if(b||Q)return{type:"!aggr",filter:s,source:L};if(r=r.filter(function(ge){var Te=ge.type=="variable"&&ge.val=="this",Ne=ge.type=="variable"&&ge.val=="root";return!(Te||Ne)}),r=r.map(function(ge){return ge.type=="indexer"&&ge.children.length==1?{type:"indexer",val:ge.children[0].val,itype:ge.children[0].type}:ge}),O.type=="method"){var N=r.filter(function(ge){return ge!==O});return{type:"!func",obj:N,methodName:O.val.methodName,args:O.val.args}}if(O.type=="!func"){var w=r.filter(function(ge){return ge!==O});return ee(ee({},O),{},{obj:w})}}var $;try{v.getRaw?$=v.getRaw():v.getValue.length==0&&($=v.getValue())}catch(ge){U.logger.error("[spel2js] Error in getValue()",ge)}if(n=="ternary"&&($=W(r)),(0,E.default)($)==="object"&&$!==null&&($.methodName||$.functionName)&&($.args=$.args.map(function(ge){return c(ge,m,v)})),n=="list"&&($=$.map(function(ge){return c(ge,m,v)}),!o&&$.length==1))return $[0];if(n=="constructorref"){var te=r.find(function(ge){return ge.type=="qualifiedidentifier"}),re=te?.val;if(!re){m.errors.push("Can't find qualifiedidentifier in constructorref children: ".concat(JSON.stringify(r)));return}var ue=r.filter(function(ge){return ge.type!="qualifiedidentifier"});return{type:"!new",cls:re,args:ue}}if(n=="typeref"){var ne=r.find(function(ge){return ge.type=="qualifiedidentifier"}),pe=ne?.val;if(!pe){m.errors.push("Can't find qualifiedidentifier in typeref children: ".concat(JSON.stringify(r)));return}var se=r.filter(function(ge){return ge.type!="qualifiedidentifier"});return{type:"!type",cls:pe}}if(n=="function"||n=="method"){var ve=$,me=ve.functionName,ye=ve.methodName,Oe=ve.args;return{type:"!func",methodName:me||ye,isVar:n=="function",args:Oe}}return{type:n,children:r,val:$}},W=function(v){var m=[];function o(n){var r=(0,C.default)(n,3),p=r[0],s=r[1],O=r[2];m.push([p,s]),O?.type=="ternary"?o(O.children):m.push([void 0,O])}return o(v),m},M=function(v){var m={},o=function(w){var $=v.operators[w];if($.spelOps)$.spelOps.forEach(function(re){var ue=re;m[ue]||(m[ue]=[]),m[ue].push(w)});else if($.spelOp){var te=$.spelOp;m[te]||(m[te]=[]),m[te].push(w)}else U.logger.log("[spel] No spelOp for operator ".concat(w))};for(var n in v.operators)o(n);var r={};for(var p in v.conjunctions){var s=v.conjunctions[p],O=s.spelConj||p.toLowerCase();r[O]=p}var b={};for(var Q in v.funcs){var H=v.funcs[Q],L=void 0;typeof H.spelFunc=="string"&&(L=H.spelFunc),L&&(b[L]||(b[L]=[]),b[L].push(Q))}return{operators:m,conjunctions:r,funcs:b}},G=function(v,m){var o=!1,n=v.map(function(r){if(r.type=="variable"||r.type=="property"||r.type=="indexer"&&r.itype=="string")return r.val;o=!0,m.errors.push("Unexpected item in compound: ".concat(JSON.stringify(r)))});return o?void 0:n},z=function c(v,m,o,n,r){if(v!=null){var p=o.settings.fieldSeparator,s={number:"number",string:"text",boolean:"boolean",null:"null"},O=r!=null&&r._groupField?[r?._groupField]:[];if(v.type=="compound"){var b,Q,H=G(v.children,n);if(!H)return;var L=[].concat(O,(0,D.default)(H)),N=((b=v.children)===null||b===void 0||(Q=b[0])===null||Q===void 0?void 0:Q.type)=="variable";return{valueSrc:"field",isVariable:N,value:L.join(p)}}else if(v.type=="variable"||v.type=="property"){var w=[].concat(O,[v.val]),$=v.type=="variable";return{valueSrc:"field",isVariable:$,value:w.join(p)}}else if(s[v.type]){var te=v.val,re=s[v.type];return r!=null&&r.isUnary&&(te=-te),{valueSrc:"value",valueType:re,value:te}}else if(v.type=="list"){var ue,ne=v.val.map(function(ot){return c(ot,m,o,n,v)}),pe=ne.length?(ue=ne[0])===null||ue===void 0?void 0:ue.valueType:null,se=ne.map(function(ot){return ot?.value}),ve="multiselect";return{valueSrc:"value",valueType:ve,value:se}}else if(v.type=="!func"){var me,ye=v.obj,Oe=v.methodName,ge=v.args,Te=v.isVar,Ne=(me={},(0,B.default)(me,".contains","like"),(0,B.default)(me,".startsWith","starts_with"),(0,B.default)(me,".endsWith","ends_with"),(0,B.default)(me,"$contains","select_any_in"),(0,B.default)(me,".equals","multiselect_equals"),(0,B.default)(me,"CollectionUtils.containsAny()","multiselect_contains"),me),Ie=ge.map(function(ot){return c(ot,m,o,n,ee(ee({},v),{},{_groupField:r?._groupField}))});if(Oe=="contains"&&ye&&ye[0].type=="list"){var we=ye.map(function(ot){return c(ot,m,o,n,v)});if(!(Ie.length==1&&Ie[0].valueSrc=="field")){n.errors.push("Expected arg to method ".concat(Oe," to be field but got: ").concat(JSON.stringify(Ie)));return}var We=Ie[0].value;if(!(we.length==1&&we[0].valueType=="multiselect")){n.errors.push("Expected object of method ".concat(Oe," to be inline list but got: ").concat(JSON.stringify(we)));return}var je=Ne["$"+Oe],Ke=we[0];return q(o,n,We,je,[Ke])}else if(ye&&ye[0].type=="property"&&Ne[ye[0].val+"."+Oe+"()"]){var fe=Ne[ye[0].val+"."+Oe+"()"],de=Ie[0].value,Pe=Ie.slice(1);return q(o,n,de,fe,Pe)}else if(Ne["."+Oe]){var be=Ne["."+Oe],Re=G(ye,n);if(Re&&Ie.length==1){var De=[].concat(O,(0,D.default)(Re)),Ee=De.join(p);return q(o,n,Ee,be,Ie)}}else if(Oe=="parse"&&ye&&ye[0].type=="!new"&&ye[0].cls.at(-1)=="SimpleDateFormat"){var Ae=ye[0].args.map(function(ot){return c(ot,m,o,n,ee(ee({},v),{},{_groupField:r?._groupField}))});if(!(Ae.length==1&&Ae[0].valueType=="text")){n.errors.push("Expected args of ".concat(ye[0].cls.join("."),".").concat(Oe," to be 1 string but got: ").concat(JSON.stringify(Ae)));return}if(!(Ie.length==1&&Ie[0].valueType=="text")){n.errors.push("Expected args of ".concat(ye[0].cls.join(".")," to be 1 string but got: ").concat(JSON.stringify(Ie)));return}var Be=Ae[0].value,$e=Ie[0].value,Ue=Be.includes(" ")?"datetime":"date",Je=null,qe=Ue,Qe=(0,P.getFieldConfig)(o,Je),ke=o.widgets[qe||Qe?.mainWidget],rt=ke.valueFormat,et=(0,J.default)($e,J.default.ISO_8601),it=et.isValid()?et.format(rt):void 0;return{valueSrc:"value",valueType:Ue,value:it}}else if(Oe=="parse"&&ye&&ye[0].type=="!type"&&ye[0].cls.at(-1)=="LocalTime"){if(!(Ie.length==1&&Ie[0].valueType=="text")){n.errors.push("Expected args of ".concat(ye[0].cls.join(".")," to be 1 string but got: ").concat(JSON.stringify(Ie)));return}var gt=Ie[0].value,He="time",ut=null,mt=He,yt=(0,P.getFieldConfig)(o,ut),Ot=o.widgets[mt||yt?.mainWidget],tt=Ot.valueFormat,at=(0,J.default)(gt,"HH:mm:ss"),ht=at.isValid()?at.format(tt):void 0;return{valueSrc:"value",valueType:He,value:ht}}else n.errors.push("Unsupported method ".concat(Oe))}else{if(v.type=="op-plus"&&r?.type=="ternary")return l(v,m,o,n);n.errors.push("Can't convert arg of type ".concat(v.type))}}},q=function(v,m,o,n,r){if(!r.filter(function(L){return L===void 0}).length){var p=(0,P.getFieldConfig)(v,o);if(!p){m.errors.push("No config for field ".concat(o));return}var s=(0,F.getWidgetForFieldOp)(v,o,n),O=v.widgets[s||p.mainWidget],b=r.map(function(L){return L.asyncListValues}).filter(function(L){return L!=null}),Q=b.length?b[0]:void 0,H={type:"rule",id:(0,T.default)(),properties:{field:o,operator:n,value:r.map(function(L){return L.value}),valueSrc:r.map(function(L){return L.valueSrc}),valueType:r.map(function(L){return L.valueSrc=="value"&&(O?.type||p?.type)||L.valueType}),asyncListValues:Q}};return H}},_=function(v,m,o,n,r){var p=v.groupFilter,s=v.groupFieldValue;if(s.valueSrc!="field")throw"Bad groupFieldValue: ".concat(JSON.stringify(s));var O=s.value,b=q(n,r,O,m,o);if(b){var Q=(0,P.getFieldConfig)(n,O),H=Q?.mode,L=ee(ee({},p||{}),{},{type:"rule_group",properties:ee(ee(ee({},b.properties),p?.properties||{}),{},{mode:H})});return L.id||(L.id=(0,T.default)()),L}},Y=function(v,m,o,n,r,p){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;if(v.type==m.type)if(v.type=="!aggr"){var O=[v.source,m.source].map(function(te){return z(te,n,r,p,ee(ee({},o),{},{_groupField:s?._groupField}))}),b=(0,C.default)(O,2),Q=b[0],H=b[1];return Q.value==H.value}else{var L=[v,m].map(function(te){return z(te,n,r,p,ee(ee({},o),{},{_groupField:s?._groupField}))}),N=(0,C.default)(L,2),w=N[0],$=N[1];return w.value==$.value}return!1},j=function c(v,m,o,n){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(v){var p;if(v.type.indexOf("op-")==0){var s=v.type.slice(3),O=(s=="minus"||s=="plus")&&v.children.length==1;if(O)return v.isUnary=!0,c(v.children[0],m,o,n,v);var b=s=="and"&&v.children.length==2&&v.children[0].type=="op-ge"&&v.children[1].type=="op-le",Q=s=="or"&&v.children.length==2&&v.children[0].type=="op-lt"&&v.children[1].type=="op-gt",H=b||Q;if(H){var L=(0,C.default)(v.children[0].children,2),N=L[0],w=L[1],$=(0,C.default)(v.children[1].children,2),te=$[0],re=$[1],ue=w.type=="number"&&re.type=="number",ne=Y(N,te,v,m,o,n,r);if(ue&&ne){var pe=w.val,se=re.val,ve={type:"op-between",children:[N,w,re]};return c(ve,m,o,n,r)}}var me=m.operators[s],ye;s=="eq"&&v.children[1].type=="null"?ye="is_null":s=="ne"&&v.children[1].type=="null"?ye="is_not_null":s=="le"&&v.children[1].type=="string"&&v.children[1].val==""?(ye="is_empty",me=["is_empty"]):s=="gt"&&v.children[1].type=="string"&&v.children[1].val==""?(ye="is_not_empty",me=["is_not_empty"]):s=="between"&&(ye="between",me=["between"]);var Oe=function(){return v.children.map(function(Be){return c(Be,m,o,n,ee(ee({},v),{},{_groupField:r?._groupField}))})};if(s=="and"||s=="or"){var ge={},Te=Oe();Te.forEach(function(Ae){if(Ae){var Be=(0,T.default)();Ae.id=Be,Ae.type!=null?ge[Be]=Ae:n.errors.push("Bad item in AND/OR: ".concat(JSON.stringify(Ae)))}}),p={type:"group",id:(0,T.default)(),children1:ge,properties:{conjunction:m.conjunctions[s],not:v.not}}}else if(me){var Ne=Oe(),Ie=Ne[0],we=Ne.slice(1);if(ye=me[0],Ie)if(Ie.groupFieldValue){Ie.groupFieldValue.valueSrc!="field"&&n.errors.push("Expected group field ".concat(JSON.stringify(Ie)));var We=Ie.groupFieldValue.value,je=we[0];je&&je.groupFieldValue&&je.groupFieldValue.valueSrc=="field"&&je.groupFieldValue.value==We?(ye="all",we=[]):ye=="equal"&&je.valueSrc=="value"&&je.valueType=="number"&&je.value==0?(ye="none",we=[]):ye=="greater"&&je.valueSrc=="value"&&je.valueType=="number"&&je.value==0&&(ye="some",we=[]),p=_(Ie,ye,we,o,n)}else{Ie.valueSrc!="field"&&n.errors.push("Expected field ".concat(JSON.stringify(Ie)));var Ke=Ie.value;if(me.length>1){U.logger.warn("[spel] Spel operator ".concat(s," can be mapped to ").concat(me));var fe=me.map(function(Ae){return{op:Ae,widget:(0,F.getWidgetForFieldOp)(o,Ke,Ae)}});if(s=="eq"||s=="ne"){var de=fe.find(function(Ae){var Be=Ae.op,$e=Ae.widget;return $e&&$e!="field"});ye=de.op}}p=q(o,n,Ke,ye,we)}}else r||(p=y(v,m,o,n)),p||n.errors.push("Can't convert op ".concat(s))}else if(v.type=="!aggr"){var Pe,be=c(v.source,m,o,n,ee(ee({},v),{},{_groupField:r?._groupField})),Re=c(v.filter,m,o,n,ee(ee({},v),{},{_groupField:be?.value}));((Pe=Re)===null||Pe===void 0?void 0:Pe.type)=="rule"&&(Re=u(Re,o)),p={groupFilter:Re,groupFieldValue:be},r||(p=void 0,n.errors.push("Unexpected !aggr in root"))}else if(v.type=="ternary"){var De={};v.val.forEach(function(Ae){var Be=(0,C.default)(Ae,2),$e=Be[0],Ue=Be[1],Je=h($e,Ue,m,o,n,v);Je&&(De[Je.id]=Je)}),p={type:"switch_group",id:(0,T.default)(),children1:De,properties:{}}}else if(p=z(v,m,o,n,r),p&&!p.type&&!r){var Ee=y(v,m,o,n);Ee?p=Ee:(p=void 0,n.errors.push("Can't convert rule of type ".concat(v.type,", it looks like var/literal")))}return p}},y=function(v,m,o,n){var r={},p=null,s=h(p,v,m,o,n);s&&(r[s.id]=s);var O={type:"switch_group",id:(0,T.default)(),children1:r,properties:{}};return O},h=function(v,m,o,n,r){var p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=a(n,r,o,m,p),O;return v?(O=j(v,o,n,r,p),O&&O.type?(O.type!="group"&&(O=u(O,n)),O.type="case_group"):(r.errors.push("Unexpected case: ".concat(JSON.stringify(O))),O=void 0)):O={id:(0,T.default)(),type:"case_group",properties:{}},O&&(O.properties=ee(ee({},O.properties),s)),O},l=function(v,m,o,n){var r=[];function p(s){s.map(function(O){if(O.type=="op-plus")p(O.children);else{var b=z(O,m,o,n,v);b?r.push(b):n.errors.push("Can't convert ".concat(O.type," in concatenation"))}})}return p(v.children),{valueSrc:"value",valueType:"case_value",value:r}},a=function(v,m,o,n){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,p={},s;n?.type=="op-plus"?s=l(n,o,v,m):s=z(n,o,v,m,r);var O=v.widgets.case_value,b=O?.spelImportValue;if(b){var Q=b(s),H=(0,C.default)(Q,2),L=H[0],N=H[1];N.map(function(w){return m.errors.push(w)}),L&&(p={value:[L],valueSrc:["value"],valueType:["case_value"]})}else m.errors.push("No fucntion to import case value");return p},i=function(v,m,o,n,r){if(v)return{type:"rule_group",id:(0,T.default)(),children1:(0,B.default)({},v.id,v),properties:{conjunction:r||(0,V.defaultGroupConjunction)(n,o),not:!1,field:m}}},u=function(v,m){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return{type:"group",id:(0,T.default)(),children1:(0,B.default)({},v.id,v),properties:{conjunction:(0,V.defaultConjunction)(m),not:o||!1}}}},44435:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.isImmutableTree=f.getTree=f.checkTree=void 0,Object.defineProperty(f,"isJsonLogic",{enumerable:!0,get:function(){return P.isJsonLogic}}),f.loadTree=f.isValidTree=f.isTree=void 0;var E=d(t(73738)),B=x(t(36940)),D=t(33588),S=t(67212),T=t(8930),P=t(46897);function F(R){if(typeof WeakMap!="function")return null;var W=new WeakMap,M=new WeakMap;return(F=function(z){return z?M:W})(R)}function x(R,W){if(!W&&R&&R.__esModule)return R;if(R===null||C(R)!=="object"&&typeof R!="function")return{default:R};var M=F(W);if(M&&M.has(R))return M.get(R);var G={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var q in R)if(q!=="default"&&Object.prototype.hasOwnProperty.call(R,q)){var _=z?Object.getOwnPropertyDescriptor(R,q):null;_&&(_.get||_.set)?Object.defineProperty(G,q,_):G[q]=R[q]}return G.default=R,M&&M.set(R,G),G}var V=function(W){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(W){var z=W;return z=z.toJS(),M&&(z=(0,T.getLightTree)(z,G)),z}};f.getTree=V;var U=function(W){if(ee(W))return W;if(I(W))return X(W);if(typeof W=="string"&&W.startsWith('["~#iM"'))throw"You are trying to load query in obsolete serialization format (Immutable string) which is not supported in versions starting from 2.1.17";if(typeof W=="string")return X(JSON.parse(W));throw"Can't load tree!"};f.loadTree=U;var J=function(W,M){if(W){var G=(0,S.extendConfig)(M);return(0,D.validateTree)(W,null,G,G)}};f.checkTree=J;var K=function(W){return(0,T.getTreeBadFields)(W).length==0};f.isValidTree=K;var ee=function(W){return B.Map.isMap(W)};f.isImmutableTree=ee;var I=function(W){return(0,E.default)(W)=="object"&&(W.type=="group"||W.type=="switch_group")};f.isTree=I;function X(R){return(0,B.fromJS)(R,function(W,M){var G;if(W=="properties"){G=M.toOrderedMap();for(var z=0;z<2;z++){var q;((q=G.get("value"))===null||q===void 0?void 0:q.get(z))===null&&(G=G.setIn(["value",z],void 0))}}else if(W=="value"&&M.get(0)&&M.get(0).toJS!==void 0){var _=M.get(0).toJS();_.func?G=M.toOrderedMap():G=B.default.List.of(_)}else W=="asyncListValues"?G=M.toJS():W=="children1"&&B.default.Iterable.isIndexed(M)?G=new B.default.OrderedMap(M.map(function(Y){return[Y.get("id"),Y]})):G=B.default.Iterable.isIndexed(M)?M.toList():M.toOrderedMap();return G})}},94541:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),Object.defineProperty(f,"BasicConfig",{enumerable:!0,get:function(){return U.default}}),f.BasicFuncs=void 0,Object.defineProperty(f,"Builder",{enumerable:!0,get:function(){return D.default}}),f.Operators=f.Import=f.Export=void 0,Object.defineProperty(f,"Query",{enumerable:!0,get:function(){return B.default}}),f.Widgets=f.Utils=void 0;var E=d(t(43693)),B=d(t(89327)),D=d(t(11001)),S=K(t(84484));f.Export=S;var T=K(t(35327));f.Import=T;var P=K(t(61036));f.Widgets=P;var F=K(t(27036));f.Operators=F;var x=K(t(62543)),V=K(t(88139));f.BasicFuncs=V;var U=d(t(68766));function J(R){if(typeof WeakMap!="function")return null;var W=new WeakMap,M=new WeakMap;return(J=function(z){return z?M:W})(R)}function K(R,W){if(!W&&R&&R.__esModule)return R;if(R===null||C(R)!=="object"&&typeof R!="function")return{default:R};var M=J(W);if(M&&M.has(R))return M.get(R);var G={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var q in R)if(q!=="default"&&Object.prototype.hasOwnProperty.call(R,q)){var _=z?Object.getOwnPropertyDescriptor(R,q):null;_&&(_.get||_.set)?Object.defineProperty(G,q,_):G[q]=R[q]}return G.default=R,M&&M.set(R,G),G}function ee(R,W){var M=Object.keys(R);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(R);W&&(G=G.filter(function(z){return Object.getOwnPropertyDescriptor(R,z).enumerable})),M.push.apply(M,G)}return M}function I(R){for(var W=1;W<arguments.length;W++){var M=arguments[W]!=null?arguments[W]:{};W%2?ee(Object(M),!0).forEach(function(G){(0,E.default)(R,G,M[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(M)):ee(Object(M)).forEach(function(G){Object.defineProperty(R,G,Object.getOwnPropertyDescriptor(M,G))})}return R}var X=I(I(I({},x),S),T);f.Utils=X},81079:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var C=d(t(96540)),E=C.default.createContext();f.default=E},38410:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var E=d(t(85715)),B=d(t(43693)),D=d(t(36940)),S=t(8930),T=t(68429),P=X(t(1476)),F=d(t(21428)),x=t(67212),V=t(76348),U=t(46897),J=t(33588),K=d(t(90179)),ee=d(t(73916));function I(H){if(typeof WeakMap!="function")return null;var L=new WeakMap,N=new WeakMap;return(I=function($){return $?N:L})(H)}function X(H,L){if(!L&&H&&H.__esModule)return H;if(H===null||C(H)!=="object"&&typeof H!="function")return{default:H};var N=I(L);if(N&&N.has(H))return N.get(H);var w={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var te in H)if(te!=="default"&&Object.prototype.hasOwnProperty.call(H,te)){var re=$?Object.getOwnPropertyDescriptor(H,te):null;re&&(re.get||re.set)?Object.defineProperty(w,te,re):w[te]=H[te]}return w.default=H,N&&N.set(H,w),w}function R(H,L){var N=typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(!N){if(Array.isArray(H)||(N=W(H))||L&&H&&typeof H.length=="number"){N&&(H=N);var w=0,$=function(){};return{s:$,n:function(){return w>=H.length?{done:!0}:{done:!1,value:H[w++]}},e:function(pe){throw pe},f:$}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var te=!0,re=!1,ue;return{s:function(){N=N.call(H)},n:function(){var pe=N.next();return te=pe.done,pe},e:function(pe){re=!0,ue=pe},f:function(){try{!te&&N.return!=null&&N.return()}finally{if(re)throw ue}}}}function W(H,L){if(H){if(typeof H=="string")return M(H,L);var N=Object.prototype.toString.call(H).slice(8,-1);if(N==="Object"&&H.constructor&&(N=H.constructor.name),N==="Map"||N==="Set")return Array.from(H);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return M(H,L)}}function M(H,L){(L==null||L>H.length)&&(L=H.length);for(var N=0,w=new Array(L);N<L;N++)w[N]=H[N];return w}function G(H,L){var N=Object.keys(H);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(H);L&&(w=w.filter(function($){return Object.getOwnPropertyDescriptor(H,$).enumerable})),N.push.apply(N,w)}return N}function z(H){for(var L=1;L<arguments.length;L++){var N=arguments[L]!=null?arguments[L]:{};L%2?G(Object(N),!0).forEach(function(w){(0,B.default)(H,w,N[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(N)):G(Object(N)).forEach(function(w){Object.defineProperty(H,w,Object.getOwnPropertyDescriptor(N,w))})}return H}var q=function(L,N,w,$,te,re){var ue=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,ne=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{},pe=re.settings.shouldCreateEmptyGroup,se=N.push($),ve=!pe,me=!!(ne!=null&&ne.isDefaultCase),ye=L;return L=a(L,N,w,$,(0,T.defaultGroupProperties)(re).merge(te||{}),re,ue),L!==ye&&(!ue&&!me&&(L=L.setIn((0,S.expandTreePath)(se,"children1"),new D.default.OrderedMap),ve&&(L=a(L,se,"rule",(0,F.default)(),(0,T.defaultRuleProperties)(re),re))),L=(0,S.fixPathsInTree)(L)),L},_=function(L,N,w){L=i(L,N);var $=w.settings.canLeaveEmptyGroup,te=N.slice(0,-1),re=!(0,S.hasChildren)(L,te);return re&&!$&&(L=(0,S.fixEmptyGroupsInTree)(L),(0,S.isEmptyTree)(L)&&!$&&(L=a(L,new D.default.List,"rule",(0,F.default)(),(0,T.defaultRuleProperties)(w),w))),L=(0,S.fixPathsInTree)(L),L},Y=function(L,N,w){L=i(L,N);var $=w.settings.canLeaveEmptyGroup,te=N.pop(),re=L.getIn((0,S.expandTreePath)(te)),ue=re.getIn(["properties","field"]),ne=re.getIn(["properties","operator"]),pe=re.getIn(["properties","value",0]),se=ue?(0,x.getFieldConfig)(w,ue):null,ve=ne?(0,x.getOperatorConfig)(w,ne,ue):null,me=ue&&ne&&ve.cardinality!=0,ye=re.get("type")=="rule_group",Oe=!(0,S.hasChildren)(L,te),ge=ye?me&&se.initialEmptyWhere:$;return Oe&&!ge&&(ye&&(L=L.deleteIn((0,S.expandTreePath)(te))),L=(0,S.fixEmptyGroupsInTree)(L),(0,S.isEmptyTree)(L)&&!$&&(L=a(L,new D.default.List,"rule",(0,F.default)(),(0,T.defaultRuleProperties)(w),w))),L=(0,S.fixPathsInTree)(L),L},j=function(L,N,w){return L.setIn((0,S.expandTreePath)(N,"properties","not"),w)},y=function(L,N,w){return(0,S.removeIsLockedInTree)(L.setIn((0,S.expandTreePath)(N,"properties","isLocked"),w))},h=function(L,N,w){return L.setIn((0,S.expandTreePath)(N,"properties","conjunction"),w)},l=function H(L,N,w){w&&Array.isArray(w)&&(N.children1=new D.default.OrderedMap(w.reduce(function($,te){var re=(0,F.default)(),ue=z(z({},te),{},{properties:(0,T.defaultItemProperties)(L,te).merge(te.properties||{}),id:re});return H(L,ue,ue.children1),z(z({},$),{},(0,B.default)({},re,new D.default.Map(ue)))},{})))},a=function(L,N,w,$,te,re){var ue=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;if(w=="switch_group")throw new Error("Can't add switch_group programmatically");var ne=re.settings,pe=ne.maxNumberOfCases,se=ne.maxNumberOfRules,ve=ne.maxNesting,me=L.get("type"),ye=me=="switch_group",Oe=L.getIn((0,S.expandTreePath)(N)),ge=ye?L.getIn((0,S.expandTreePath)(N.take(2))):null,Te=(0,S.expandTreePath)(N,"children1"),Ne=L.getIn(Te),Ie=!!Ne&&Ne.size,we=Ie?Ne.size:null,We,je;w=="case_group"?(We=we,je=pe):w=="group"?(We=N.size,je=ve):Oe?.get("type")=="rule_group"||(We=ye?(0,S.getTotalRulesCountInTree)(ge):(0,S.getTotalRulesCountInTree)(L),je=se);var Ke=je&&We?We<je:!0,fe={type:w,id:$,properties:te};l(re,fe,ue);var de=w=="case_group"&&Ie&&Ne.last().get("children1")==null;if(Ke){var Pe=new D.default.OrderedMap((0,B.default)({},$,new D.default.Map(fe)));if(!Ie)L=L.setIn(Te,Pe);else if(de){var be,Re=Ne.last(),De=new D.default.OrderedMap((be={},(0,B.default)(be,$,new D.default.Map(fe)),(0,B.default)(be,Re.get("id"),Re),be));L=L.deleteIn((0,S.expandTreePath)(Te,"children1",Re.get("id"))),L=L.mergeIn(Te,De)}else L=L.mergeIn(Te,Pe);L=(0,S.fixPathsInTree)(L)}return L},i=function(L,N){return L=L.deleteIn((0,S.expandTreePath)(N)),L=(0,S.fixPathsInTree)(L),L},u=function(L,N,w,$,te){var re=(0,S.getItemByPath)(L,N),ue=N.pop(),ne=N.size>1?(0,S.getItemByPath)(L,ue):null,pe=ne?ne.get("children1"):null,se=(0,S.getItemByPath)(L,w),ve=$==P.PLACEMENT_APPEND||$==P.PLACEMENT_PREPEND?w:w.pop(),me=$==P.PLACEMENT_APPEND||$==P.PLACEMENT_PREPEND?se:w.size>1?(0,S.getItemByPath)(L,ve):null,ye=me?me.get("children1"):null;if(!ne||!me||!re)return L;var Oe=ne.get("id")==me.get("id"),ge=ve.size<ue.size&&(0,U.deepEqual)(ve.toArray(),ue.toArray().slice(0,ve.size)),Te=ve.size>ue.size&&(0,U.deepEqual)(ue.toArray(),ve.toArray().slice(0,ue.size)),Ne=null,Ie=null;ge?Ne=D.default.List(ue.toArray().slice(ve.size)):Te&&(Ie=D.default.List(ve.toArray().slice(ue.size)));var we=ye,We=pe;return Te||(We=We.delete(re.get("id"))),Oe?we=We:ge&&(we=we.updateIn((0,S.expandTreeSubpath)(Ne,"children1"),function(je){return We})),$==P.PLACEMENT_BEFORE||$==P.PLACEMENT_AFTER?we=D.default.OrderedMap().withMutations(function(je){var Ke=R(we.entries()),fe;try{for(Ke.s();!(fe=Ke.n()).done;){var de=(0,E.default)(fe.value,2),Pe=de[0],be=de[1];Pe==se.get("id")&&$==P.PLACEMENT_BEFORE&&je.set(re.get("id"),re),je.set(Pe,be),Pe==se.get("id")&&$==P.PLACEMENT_AFTER&&je.set(re.get("id"),re)}}catch(Re){Ke.e(Re)}finally{Ke.f()}}):$==P.PLACEMENT_APPEND?we=we.merge((0,B.default)({},re.get("id"),re)):$==P.PLACEMENT_PREPEND&&(we=D.default.OrderedMap((0,B.default)({},re.get("id"),re)).merge(we)),Te&&(We=We.updateIn((0,S.expandTreeSubpath)(Ie,"children1"),function(je){return we}),We=We.delete(re.get("id"))),!Oe&&!ge&&(L=L.updateIn((0,S.expandTreePath)(ue,"children1"),function(je){return We})),Te||(L=L.updateIn((0,S.expandTreePath)(ve,"children1"),function(je){return we})),L=(0,S.fixPathsInTree)(L),L},c=function(L,N,w,$){if(!w)return i(L,N);var te=$.settings,re=te.fieldSeparator,ue=te.setOpOnChangeField,ne=te.showErrorMessage;Array.isArray(w)&&(w=w.join(re));var pe=L.getIn((0,S.expandTreePath)(N,"type")),se=L.getIn((0,S.expandTreePath)(N,"properties")),ve=pe=="rule_group",me=(0,x.getFieldConfig)($,w),ye=me.type=="!group",Oe=ye&&me.mode=="array",ge=ve!=ye,Te=se.get("operator"),Ne=se.get("operatorOptions"),Ie=se.get("field"),we=se.get("value"),We=se.get("valueSrc",new D.default.List),je=se.get("valueType",new D.default.List),Ke=me&&me.operators.indexOf(Te)!==-1?Te:null,fe=null,de=(0,V.getOperatorsForField)($,w);if(de&&de.length==1)fe=de[0];else if(de&&de.length>1){var Pe=R(ue||[]),be;try{for(Pe.s();!(be=Pe.n()).done;){var Re=be.value;if(Re=="keep"&&!ge?fe=Ke:Re=="default"?fe=(0,T.defaultOperator)($,w,!1):Re=="first"&&(fe=(0,V.getFirstOperator)($,w)),fe)break}}catch(qe){Pe.e(qe)}finally{Pe.f()}}if(!ye&&!me.operators)return console.warn("Type ".concat(me.type," is not supported")),L;if(ve&&!ye&&(L=L.setIn((0,S.expandTreePath)(N,"type"),"rule"),L=L.deleteIn((0,S.expandTreePath)(N,"children1")),L=L.setIn((0,S.expandTreePath)(N,"properties"),new D.default.OrderedMap)),ye){L=L.setIn((0,S.expandTreePath)(N,"type"),"rule_group");var De=(0,V.getNewValueForFieldOp)($,$,se,w,fe,"field",!0),Ee=De.canReuseValue,Ae=De.newValue,Be=De.newValueSrc,$e=De.newValueType,Ue=De.operatorCardinality,Je=(0,T.defaultGroupProperties)($,me).merge({field:w,mode:me.mode});return Oe&&(Je=Je.merge({operator:fe,value:Ae,valueSrc:Be,valueType:$e})),L=L.setIn((0,S.expandTreePath)(N,"children1"),new D.default.OrderedMap),L=L.setIn((0,S.expandTreePath)(N,"properties"),Je),me.initialEmptyWhere&&Ue==1||(L=a(L,N,"rule",(0,F.default)(),(0,T.defaultRuleProperties)($,w),$)),L=(0,S.fixPathsInTree)(L),L}return L.updateIn((0,S.expandTreePath)(N,"properties"),function(qe){return qe.withMutations(function(Qe){var ke=(0,V.getNewValueForFieldOp)($,$,Qe,w,fe,"field",!0),rt=ke.canReuseValue,et=ke.newValue,it=ke.newValueSrc,gt=ke.newValueType,He=ke.newValueError;ne&&(Qe=Qe.set("valueError",He));var ut=rt?Ne:(0,T.defaultOperatorOptions)($,fe,w);return Qe.set("field",w).set("operator",fe).set("operatorOptions",ut).set("value",et).set("valueSrc",it).set("valueType",gt).delete("asyncListValues")})})},v=function(L,N,w,$){var te=$.settings.showErrorMessage,re=L.getIn((0,S.expandTreePath)(N,"properties")),ue=L.getIn((0,S.expandTreePath)(N,"children1")),ne=re.get("field"),pe=(0,x.getFieldConfig)($,ne),se=pe.type=="!group",ve=(0,x.getOperatorConfig)($,w,ne),me=ve?(0,U.defaultValue)(ve.cardinality,1):null;return L=L.updateIn((0,S.expandTreePath)(N,"properties"),function(ye){return ye.withMutations(function(Oe){var ge=Oe.get("field"),Te=Oe.get("operatorOptions"),Ne=Oe.get("value",new D.default.List),Ie=Oe.get("valueSrc",new D.default.List),we=Oe.get("operator"),We=(0,V.getNewValueForFieldOp)($,$,Oe,ge,w,"operator",!0),je=We.canReuseValue,Ke=We.newValue,fe=We.newValueSrc,de=We.newValueType,Pe=We.newValueError;te&&(Oe=Oe.set("valueError",Pe));var be=je?Te:(0,T.defaultOperatorOptions)($,w,ge);return je||(Oe=Oe.delete("asyncListValues")),Oe.set("operator",w).set("operatorOptions",be).set("value",Ke).set("valueSrc",fe).set("valueType",de)})}),se&&me==0&&ue.size==0&&(L=a(L,N,"rule",(0,F.default)(),(0,T.defaultRuleProperties)($,ne),$)),L},m=function(L,N,w,$,te,re,ue,ne){var pe=re.settings,se=pe.fieldSeparator,ve=pe.showErrorMessage,me,ye=L.getIn((0,S.expandTreePath)(N,"properties","valueSrc",w+""))||null;ye==="field"&&Array.isArray($)&&($=$.join(se));var Oe=L.getIn((0,S.expandTreePath)(N,"properties","field"))||null,ge=L.getIn((0,S.expandTreePath)(N,"properties","operator"))||null,Te=(0,x.getOperatorConfig)(re,ge,Oe),Ne=ge?(0,U.defaultValue)(Te.cardinality,1):null,Ie=!1,we=te||p($,ye,re),We=!1,je=(0,J.validateValue)(re,Oe,Oe,ge,$,we,ye,ue,We,Ie),Ke=(0,E.default)(je,2),fe=Ke[0],de=Ke[1],Pe=!fe;if(de!==$&&($=de),ve){var be=(0,V.getWidgetForFieldOp)(re,Oe,ge,ye),Re=(0,x.getFieldWidgetConfig)(re,Oe,ge,be,ye),De=Array.from({length:Ne},function(ke,rt){return L.getIn((0,S.expandTreePath)(N,"properties","valueSrc",rt+""))||null});if(Te&&Te.validateValues&&De.filter(function(ke){return ke=="value"||ke==null}).length==Ne){var Ee=Array.from({length:Ne},function(ke,rt){return rt==w?$:L.getIn((0,S.expandTreePath)(N,"properties","value",rt+""))||null}),Ae=Re&&Re.toJS?Ee.map(function(ke){return Re.toJS(ke,Re)}):Ee,Be=Te.validateValues(Ae);L=L.setIn((0,S.expandTreePath)(N,"properties","valueError",Ne),Be)}}var $e=L.getIn((0,S.expandTreePath)(N,"properties","value"));$e||(L=L.setIn((0,S.expandTreePath)(N,"properties","value"),new D.default.List(new Array(Ne))).setIn((0,S.expandTreePath)(N,"properties","valueType"),new D.default.List(new Array(Ne))).setIn((0,S.expandTreePath)(N,"properties","valueError"),new D.default.List(new Array(Ne))));var Ue=L.getIn((0,S.expandTreePath)(N,"properties","value",w+"")),Je=L.getIn((0,S.expandTreePath)(N,"properties","valueError",w)),qe=Ue==null,Qe=!!Je;return(Pe||ve)&&(L=L.deleteIn((0,S.expandTreePath)(N,"properties","asyncListValues")),typeof $>"u"?(L=L.setIn((0,S.expandTreePath)(N,"properties","value",w+""),void 0),L=L.setIn((0,S.expandTreePath)(N,"properties","valueType",w+""),null)):(ue&&(L=L.setIn((0,S.expandTreePath)(N,"properties","asyncListValues"),ue)),L=L.setIn((0,S.expandTreePath)(N,"properties","value",w+""),$),L=L.setIn((0,S.expandTreePath)(N,"properties","valueType",w+""),we),me=ne&&!qe&&!Qe)),ve&&(L=L.setIn((0,S.expandTreePath)(N,"properties","valueError",w),fe)),ne&&(Pe&&Qe||!Pe&&!Qe)&&(L=L.setIn((0,S.expandTreePath)(N,"properties","valueError",w),fe),me=!1),{tree:L,isInternalValueChange:me}},o=function(L,N,w,$,te){var re=te.settings.showErrorMessage,ue=L.getIn((0,S.expandTreePath)(N,"properties","field"))||null,ne=L.getIn((0,S.expandTreePath)(N,"properties","operator"))||null;if(L=L.setIn((0,S.expandTreePath)(N,"properties","value",w+""),void 0),L=L.setIn((0,S.expandTreePath)(N,"properties","valueType",w+""),null),L=L.deleteIn((0,S.expandTreePath)(N,"properties","asyncListValues")),re){L=L.setIn((0,S.expandTreePath)(N,"properties","valueError",w),null);var pe=(0,x.getOperatorConfig)(te,ne,ue),se=ne?(0,U.defaultValue)(pe.cardinality,1):null;pe.validateValues&&(L=L.setIn((0,S.expandTreePath)(N,"properties","valueError",se),null))}if(typeof $>"u"?L=L.setIn((0,S.expandTreePath)(N,"properties","valueSrc",w+""),null):L=L.setIn((0,S.expandTreePath)(N,"properties","valueSrc",w+""),$),$){var ve=L.getIn((0,S.expandTreePath)(N,"properties")),me=(0,V.getNewValueForFieldOp)(te,te,ve,ue,ne,"valueSrc",!0),ye=me.canReuseValue,Oe=me.newValue,ge=me.newValueSrc,Te=me.newValueType,Ne=me.newValueError;!ye&&ge.get(w)==$&&(L=L.setIn((0,S.expandTreePath)(N,"properties","value",w+""),Oe.get(w)),L=L.setIn((0,S.expandTreePath)(N,"properties","valueType",w+""),Te.get(w)))}return L},n=function(L,N,w,$){return L.setIn((0,S.expandTreePath)(N,"properties","operatorOptions",w),$)},r=function(L,N){var w=N.settings.canLeaveEmptyGroup;return w||(L=(0,S.fixEmptyGroupsInTree)(L)),L},p=function(L,N,w){var $=null;if(L){if(N==="field"){var te=(0,x.getFieldConfig)(w,L);te&&($=te.type)}else if(N==="func"){var re=L.get("func");if(re){var ue=(0,x.getFuncConfig)(w,re);ue&&($=ue.returnType)}}}return $},s=function(L,N){var w=L.getIn((0,S.expandTreePath)(N,"properties","field"))||null;return w},O={dragging:{id:null,x:null,y:null,w:null,h:null},mousePos:{},dragStart:{id:null}},b=function(L,N){var w=["config","asyncListValues","__isInternal"],$=[P.SET_TREE,P.SET_DRAG_START,P.SET_DRAG_PROGRESS,P.SET_DRAG_END],te=(0,ee.default)((0,K.default)(L,w),U.applyToJS),re=L.path&&s(N.tree,L.path)||L.field;return re&&(te.affectedField=re),($.includes(L.type)||L.type.indexOf("@@redux")==0)&&(te=null),te},Q=function(L,N,w){var $=(0,T.defaultRoot)(L),te=N||$,re=z({tree:te},O);return function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:re,ne=arguments.length>1?arguments[1]:void 0,pe={__isInternalValueChange:void 0,__lastAction:void 0},se={},ve=b(ne,ue);switch(ne.type){case P.SET_TREE:{var me=w(ne.config,ne.tree);se.tree=me;break}case P.ADD_CASE_GROUP:{se.tree=q(ue.tree,ne.path,"case_group",ne.id,ne.properties,ne.config,ne.children,ne.meta);break}case P.ADD_GROUP:{se.tree=q(ue.tree,ne.path,"group",ne.id,ne.properties,ne.config,ne.children,ne.meta);break}case P.REMOVE_GROUP:{se.tree=_(ue.tree,ne.path,ne.config);break}case P.ADD_RULE:{se.tree=a(ue.tree,ne.path,ne.ruleType,ne.id,ne.properties,ne.config,ne.children);break}case P.REMOVE_RULE:{se.tree=Y(ue.tree,ne.path,ne.config);break}case P.SET_CONJUNCTION:{se.tree=h(ue.tree,ne.path,ne.conjunction);break}case P.SET_NOT:{se.tree=j(ue.tree,ne.path,ne.not);break}case P.SET_FIELD:{se.tree=c(ue.tree,ne.path,ne.field,ne.config);break}case P.SET_LOCK:{se.tree=y(ue.tree,ne.path,ne.lock);break}case P.SET_OPERATOR:{se.tree=v(ue.tree,ne.path,ne.operator,ne.config);break}case P.SET_VALUE:{var ye=m(ue.tree,ne.path,ne.delta,ne.value,ne.valueType,ne.config,ne.asyncListValues,ne.__isInternal),Oe=ye.tree,ge=ye.isInternalValueChange;se.__isInternalValueChange=ge,se.tree=Oe;break}case P.SET_VALUE_SRC:{se.tree=o(ue.tree,ne.path,ne.delta,ne.srcKey,ne.config);break}case P.SET_OPERATOR_OPTION:{se.tree=n(ue.tree,ne.path,ne.name,ne.value);break}case P.MOVE_ITEM:{se.tree=u(ue.tree,ne.fromPath,ne.toPath,ne.placement,ne.config);break}case P.SET_DRAG_START:{se.dragStart=ne.dragStart,se.dragging=ne.dragging,se.mousePos=ne.mousePos;break}case P.SET_DRAG_PROGRESS:{se.mousePos=ne.mousePos,se.dragging=ne.dragging;break}case P.SET_DRAG_END:{se.tree=r(ue.tree,L),se=z(z({},se),O);break}default:break}return ve&&(se.__lastAction=ve),z(z(z({},ue),pe),se)}};f.default=Q},42871:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.simulateAsyncFetch=f.mergeListValues=f.listValueToOption=f.getListValue=void 0;var C=d(t(54756)),E=d(t(41132)),B=d(t(29293)),D=t(46897),S=function(V){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3;return function(){var K=(0,B.default)(C.default.mark(function ee(I,X,R){var W,M,G,z,q,_,Y,j;return C.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return W=R.pageSize!=null?R.pageSize:U,M=(0,D.listValuesToArray)(V).filter(function(l){var a=l.title;return I==null?!0:a.toUpperCase().indexOf(I.toUpperCase())!=-1}),G=W?Math.ceil(M.length/W):0,z=X||0,q=W?Math.ceil(z/W):null,_=W?M.slice(z,z+W):M,Y=W?z+_.length:null,j=W?Y<M.length:!1,console.debug("simulateAsyncFetch",{search:I,offset:X,values:_,hasMore:j,filtered:M}),h.next=11,(0,D.sleep)(J);case 11:return h.abrupt("return",{values:_,hasMore:j});case 12:case"end":return h.stop()}},ee)}));return function(ee,I,X){return K.apply(this,arguments)}}()};f.simulateAsyncFetch=S;var T=function(V,U){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!U)return V;var K=V||[],ee=U.filter(function(X){return K.find(function(R){return R.value==X.value})==null}),I=J?[].concat((0,E.default)(ee),(0,E.default)(K)):[].concat((0,E.default)(K),(0,E.default)(ee));return I};f.mergeListValues=T;var P=function(V){if(V==null)return null;var U=V.title,J=V.value,K=V.disabled,ee=V.groupTitle,I=V.renderTitle,X={title:U,value:J};return K&&(X.disabled=K),ee&&(X.groupTitle=ee),I&&(X.renderTitle=I),X};f.listValueToOption=P;var F=function(V,U){return(0,D.mapListValues)(U,function(J){return J.value===V?J:null}).filter(function(J){return J!==null}).shift()};f.getListValue=F},67212:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.normalizeField=f.getOperatorConfig=f.getFuncConfig=f.getFuncArgConfig=f.getFieldWidgetConfig=f.getFieldRawConfig=f.getFieldConfig=f.extendConfig=f.createConfigMemo=void 0;var C=d(t(41132)),E=d(t(43693)),B=d(t(73738)),D=d(t(55364)),S=d(t(21428)),T=d(t(6924)),P=t(68697),F=d(t(95093)),x=t(46897),V=t(76348),U=d(t(1779)),J=d(t(44383));function K(o,n){var r=Object.keys(o);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(o);n&&(p=p.filter(function(s){return Object.getOwnPropertyDescriptor(o,s).enumerable})),r.push.apply(r,p)}return r}function ee(o){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?K(Object(r),!0).forEach(function(p){(0,E.default)(o,p,r[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach(function(p){Object.defineProperty(o,p,Object.getOwnPropertyDescriptor(r,p))})}return o}function I(o,n){var r=typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(!r){if(Array.isArray(o)||(r=X(o))||n&&o&&typeof o.length=="number"){r&&(o=r);var p=0,s=function(){};return{s,n:function(){return p>=o.length?{done:!0}:{done:!1,value:o[p++]}},e:function(L){throw L},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O=!0,b=!1,Q;return{s:function(){r=r.call(o)},n:function(){var L=r.next();return O=L.done,L},e:function(L){b=!0,Q=L},f:function(){try{!O&&r.return!=null&&r.return()}finally{if(b)throw Q}}}}function X(o,n){if(o){if(typeof o=="string")return R(o,n);var r=Object.prototype.toString.call(o).slice(8,-1);if(r==="Object"&&o.constructor&&(r=o.constructor.name),r==="Map"||r==="Set")return Array.from(o);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(o,n)}}function R(o,n){(n==null||n>o.length)&&(n=o.length);for(var r=0,p=new Array(n);r<n;r++)p[r]=o[r];return p}var W=["conjunctions","fields","types","operators","widgets","settings","funcs"],M=function(n){return(0,J.default)(n,W)},G=function(){var n=new Map,r=2,p=0,s=function(H){var L=z(H,++p);return n.size+1>r&&n.delete(n.keys()[0]),n.set(H,L),L},O=function(H){var L=I(n.keys()),N;try{var w=function(){var se=N.value,ve=W.map(function(me){return se[me]===H[me]}).filter(function(me){return!me}).length===0;if(ve)return{v:n.get(se)}};for(L.s();!(N=L.n()).done;){var $=w();if((0,B.default)($)==="object")return $.v}}catch(pe){L.e(pe)}finally{L.f()}var te=I(n.values()),re;try{var ue=function(){var se=re.value,ve=W.map(function(me){return se[me]===H[me]}).filter(function(me){return!me}).length===0;if(ve)return{v:se}};for(te.s();!(re=te.n()).done;){var ne=ue();if((0,B.default)(ne)==="object")return ne.v}}catch(pe){te.e(pe)}finally{te.f()}return null},b=function(H){return O(H)||s(H)};return function(Q){return b(M(Q))}};f.createConfigMemo=G;var z=function(n,r){return n.__configId||(n=ee({},n),n.settings=(0,D.default)({},P.settings,n.settings),n._fieldsCntByType={},n._funcsCntByType={},n.types=(0,U.default)(n.types),q(n.types,n),n.fields=(0,U.default)(n.fields),n.__fieldNames={},Y(n.fields,n),n.funcs=(0,U.default)(n.funcs),j(n.funcs,n),F.default.locale(n.settings.locale.moment),Object.defineProperty(n,"__configId",{enumerable:!1,writable:!1,value:r||(0,S.default)()})),n};f.extendConfig=z;function q(o,n){for(var r in o){var p=o[r];_(r,p,n)}}function _(o,n,r){var p=null,s=null;n.mainWidget=n.mainWidget||Object.keys(n.widgets).filter(function(w){return w!="field"&&w!="func"})[0];for(var O in n.widgets){var b=n.widgets[O];if(b.operators){var Q=b.operators;n.excludeOperators&&(Q=Q.filter(function(w){return!n.excludeOperators.includes(w)})),p=(0,x.mergeArraysSmart)(p,Q)}b.defaultOperator&&(s=b.defaultOperator),O==n.mainWidget&&(b=(0,D.default)({},{widgetProps:n.mainWidgetProps||{}},b)),n.widgets[O]=b}n.valueSources||(n.valueSources=Object.keys(r.settings.valueSourcesInfo));var H=I(n.valueSources),L;try{for(H.s();!(L=H.n()).done;){var N=L.value;N!="value"&&!n.widgets[N]&&(n.widgets[N]={})}}catch(w){H.e(w)}finally{H.f()}!n.operators&&p&&(n.operators=Array.from(new Set(p))),!n.defaultOperator&&s&&(n.defaultOperator=s)}function Y(o,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];for(var p in o)y(o[p],n,[].concat((0,C.default)(r),[p])),o[p].subfields&&Y(o[p].subfields,n,[].concat((0,C.default)(r),[p]))}function j(o,n){if(o)for(var r in o){var p=o[r];p.returnType&&(n._funcsCntByType[p.returnType]||(n._funcsCntByType[p.returnType]=0),n._funcsCntByType[p.returnType]++);for(var s in p.args)y(p.args[s],n,null,!0);if(p.args){var O=Object.keys(p.args),b=!0,Q=I(O.reverse()),H;try{for(Q.s();!(H=Q.n()).done;){var L=H.value,N=p.args[L];!b&&N.isOptional&&delete N.isOptional,N.isOptional||(b=!1)}}catch(w){Q.e(w)}finally{Q.f()}}p.subfields&&j(p.subfields,n)}}function y(o,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=null,O=null,b=n.types[o.type],Q=o.excludeOperators||[];if(o.type!="!struct"&&o.type!="!group"){var H=["listValues","allowCustomValues","validateValue"];o.fieldSettings||(o.fieldSettings={});for(var L=0,N=H;L<N.length;L++){var w=N[L];o[w]&&(o.fieldSettings[w]=o[w],delete o[w])}if(o.fieldSettings.listValues&&(o.fieldSettings.listValues=(0,x.normalizeListValues)(o.fieldSettings.listValues,o.type,o.fieldSettings)),!b){o.disabled=!0;return}p||(n._fieldsCntByType[o.type]||(n._fieldsCntByType[o.type]=0),n._fieldsCntByType[o.type]++),o.widgets||(o.widgets={}),p&&(o._isFuncArg=!0),o.mainWidget=o.mainWidget||b.mainWidget,o.valueSources=o.valueSources||b.valueSources;var $=b.excludeOperators||[];for(var te in b.widgets){var re=o.widgets[te]||{},ue=b.widgets[te]||{};p||function(){var pe=[].concat((0,C.default)(Q),(0,C.default)($)),se=o.preferWidgets&&(te=="field"||o.preferWidgets.includes(te))||pe.length>0;if(re.operators){var ve=re.operators.filter(function(ye){return!pe.includes(ye)});s=[].concat((0,C.default)(s||[]),(0,C.default)(ve))}else if(se&&ue.operators){var me=ue.operators.filter(function(ye){return!pe.includes(ye)});s=[].concat((0,C.default)(s||[]),(0,C.default)(me))}re.defaultOperator&&(O=re.defaultOperator)}(),te==o.mainWidget&&(re=(0,D.default)({},{widgetProps:o.mainWidgetProps||{}},re)),o.widgets[te]=re}p||(!o.operators&&s&&(o.operators=Array.from(new Set(s))),!o.defaultOperator&&O&&(o.defaultOperator=O))}var ne=l(n,r);ne&&(o.fieldName=ne),r&&o.fieldName&&(n.__fieldNames[o.fieldName]=r)}var h=function(n,r){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"fields",s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"subfields";if(!r)return null;if(r=="!case_value")return{type:"case_value",mainWidget:"case_value",widgets:{case_value:n.widgets.case_value}};var O=n.settings.fieldSeparator,b=Array.isArray(r)?r:r.split(O),Q=n[p];if(!Q)return null;for(var H=Q,L=null,N=[],w=0;w<b.length;w++){var $=b[w];N.push($);var te=N.join(O);L=H[te],w<b.length-1&&(L&&L[s]?(H=L[s],N=[]):L=null)}return L};f.getFieldRawConfig=h;var l=function(n,r){if(!r)return null;for(var p=n.settings.fieldSeparator,s=(0,C.default)(r),O=[],b,Q;(b=s.pop())!==void 0&&s.length>0;)if(O.unshift(b),Q=h(n,s),Q.fieldName)return[Q.fieldName].concat(O).join(p);return null},a=function(n,r){var p=n.settings.fieldSeparator,s=Array.isArray(r)?r.join(p):r;return n.__fieldNames[s]?n.__fieldNames[s].join(p):s};f.normalizeField=a;var i=function(n,r){if(!r)return null;var p=h(n,r,"funcs","subfields");return p||null};f.getFuncConfig=i;var u=function(n,r,p){var s=i(n,r);if(!s)return null;var O=s.args&&s.args[p]||null;if(!O)return null;var b=n.types[O.type]||{},Q=(0,T.default)({},b,O||{},function(H,L,N,w,$,te){if(Array.isArray(H))return L});return Q};f.getFuncArgConfig=u;var c=function(n,r){if(!r)return null;if((0,B.default)(r)=="object"&&!r.func&&r.type)return r;if((0,B.default)(r)=="object"&&r.func&&r.arg)return u(n,r.func,r.arg);var p=h(n,r);if(!p)return null;var s=n.types[p.type]||{},O=(0,T.default)({},s,p||{},function(b,Q,H,L,N,w){if(Array.isArray(b))return Q});return O};f.getFieldConfig=c;var v=function(n,r){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!r)return null;var s=n.operators[r];if(p){var O=c(n,p),b=(0,V.getWidgetForFieldOp)(n,p,r),Q=n.widgets[b]||{},H=(O&&O.widgets?O.widgets[b]:{})||{},L=(Q.opProps||{})[r],N=(H.opProps||{})[r],w=(0,D.default)({},s,L,N);return w}else return s};f.getOperatorConfig=v;var m=function(n,r,p){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(!r||!(p||s)&&O!="const"&&r!="!case_value")return null;var b=c(n,r);s||(s=(0,V.getWidgetForFieldOp)(n,r,p,O));var Q=n.widgets[s]||{},H=(b&&b.widgets?b.widgets[s]:{})||{},L=H.widgetProps||{},N=(O=="value"||!O)&&b&&b.fieldSettings||{},w=(0,D.default)({},Q,L,N);return w};f.getFieldWidgetConfig=m},68429:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.defaultRuleProperties=f.defaultRule=f.defaultRoot=f.defaultOperatorOptions=f.defaultOperator=f.defaultItemProperties=f.defaultGroupProperties=f.defaultGroupConjunction=f.defaultField=f.defaultConjunction=void 0;var C=d(t(43693)),E=d(t(36940)),B=d(t(21428)),D=t(67212),S=t(76348);function T(W,M){var G=Object.keys(W);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(W);M&&(z=z.filter(function(q){return Object.getOwnPropertyDescriptor(W,q).enumerable})),G.push.apply(G,z)}return G}function P(W){for(var M=1;M<arguments.length;M++){var G=arguments[M]!=null?arguments[M]:{};M%2?T(Object(G),!0).forEach(function(z){(0,C.default)(W,z,G[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(G)):T(Object(G)).forEach(function(z){Object.defineProperty(W,z,Object.getOwnPropertyDescriptor(G,z))})}return W}var F=function(M){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return typeof M.settings.defaultField=="function"?M.settings.defaultField(z):M.settings.defaultField||(G?(0,S.getFirstField)(M,z):null)};f.defaultField=F;var x=function(M,G){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,q=(0,D.getFieldConfig)(M,G),_=q&&q.operators||[],Y=q&&q.defaultOperator;_.includes(Y)||(Y=null),!Y&&z&&(Y=(0,S.getFirstOperator)(M,G));var j=typeof M.settings.defaultOperator=="function"?M.settings.defaultOperator(G,q):Y;return j};f.defaultOperator=x;var V=function(M,G,z){var q=G?(0,D.getOperatorConfig)(M,G,z):null;return q&&q.options?new E.default.Map(q.options&&q.options.defaults||{}):null};f.defaultOperatorOptions=V;var U=function(M){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,q=null,_=null,Y=M.settings,j=Y.setDefaultFieldAndOp,y=Y.showErrorMessage;if(z){var h,l;q=z==null||(h=z.properties)===null||h===void 0?void 0:h.field,_=z==null||(l=z.properties)===null||l===void 0?void 0:l.operator}else j&&(q=F(M,!0,G),_=x(M,q));var a=new E.default.Map({field:q,operator:_,value:new E.default.List,valueSrc:new E.default.List,operatorOptions:V(M,_,q)});if(y&&(a=a.set("valueError",new E.default.List)),q&&_){var i=(0,S.getNewValueForFieldOp)(M,M,a,q,_,"operator",!1),u=i.newValue,c=i.newValueSrc,v=i.newValueType,m=i.newValueError;a=a.set("value",u).set("valueSrc",c).set("valueType",v),y&&(a=a.set("valueError",m))}return a};f.defaultRuleProperties=U;var J=function(M){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;G=(0,D.getFieldConfig)(M,G);var z=G&&G.conjunctions||Object.keys(M.conjunctions);return z.length==1?z[0]:M.settings.defaultGroupConjunction||M.settings.defaultConjunction||z[0]};f.defaultGroupConjunction=J;var K=function(M){return M.settings.defaultConjunction||Object.keys(M.conjunctions)[0]};f.defaultConjunction=K;var ee=function(M){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new E.default.Map({conjunction:J(M,G),not:!1})};f.defaultGroupProperties=ee;var I=function(M,G){var z;return G&&G.type=="group"?ee(M,G==null||(z=G.properties)===null||z===void 0?void 0:z.field):U(M,null,G)};f.defaultItemProperties=I;var X=function(M,G){return(0,C.default)({},M,new E.default.Map({type:"rule",id:M,properties:U(G)}))};f.defaultRule=X;var R=function(M){return new E.default.Map({type:"group",id:(0,B.default)(),children1:new E.default.OrderedMap(P({},X((0,B.default)(),M))),properties:ee(M)})};f.defaultRoot=R},76669:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.sqlEmptyValue=f.spelImportConcat=f.spelFormatConcat=f.spelFixList=f.spelEscape=f.mongoEmptyValue=f.SqlString=void 0;var C=d(t(73738)),E=t(61526);f.SqlString=E,E.trim=function(U){return U.charAt(0)=="'"?U.substring(1,U.length-1):U},E.escapeLike=function(U){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,ee=E.escape(U);return ee=E.trim(ee),ee=ee.replace(/[%_]/g,"\\$&"),ee=(J?"%":"")+ee+(K?"%":""),ee="'"+ee+"'",ee};var B=function(J){var K="''",ee=J?.type;return ee=="date"?K="'0000-00-00'":ee=="datetime"?K="'0000-00-00 00:00'":ee=="time"?K="'00:00'":ee=="number"&&(K="0"),K};f.sqlEmptyValue=B;var D=function(J){var K="",ee=J?.type;return ee=="number"&&(K=0),K};f.mongoEmptyValue=D;var S=function(J){return"'"+J.replace(/'/g,"''")+"'"},T=function(J){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ee,I,X=["int","float"];J.map(function(M){if(M!=null){if(typeof M=="string")I="String";else if(typeof M=="number")I=Number.isInteger(M)?"int":"float";else throw new Error("spelEscape: Can't use value ".concat(M," in array"));if(!ee)ee=I;else if(ee!=I)if(X.includes(ee)&&X.includes(I))ee="float";else throw new Error("spelEscape: Can't use different types in array: found ".concat(ee," and ").concat(I))}}),ee||(ee="String");var R;ee=="float"?R=J.map(function(M){return F(M,!0)}):R=J.map(function(M){return F(M)});var W;return K?W="new ".concat(ee,"[]{").concat(R.join(", "),"}"):W="{".concat(R.join(", "),"}"),W},P=function(J){return"".concat(J,".?[true]")};f.spelFixList=P;var F=function(J){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(J==null)return"null";switch((0,C.default)(J)){case"boolean":return J?"true":"false";case"number":return!Number.isFinite(J)||isNaN(J)?void 0:J+(!Number.isInteger(J)||K?"f":"");case"object":if(Array.isArray(J))return T(J,ee);throw new Error("spelEscape: Object is not supported");default:return S(J)}};f.spelEscape=F;var x=function(J){return J&&Array.isArray(J)&&J.length?J.map(function(K){if(K.type=="const")return F(K.value);if(K.type=="property")return""+K.value;if(K.type=="variable")return"#"+K.value}).filter(function(K){return K!=null}).join(" + "):"null"};f.spelFormatConcat=x;var V=function(J){if(J==null)return[void 0,[]];var K=[],ee=J.valueType=="case_value"?J.value:[J],I=ee.map(function(X){if(X.valueSrc=="value")return X.value===null?void 0:{type:"const",value:X.value};if(X.valueSrc=="field")return{type:X.isVariable?"variable":"property",value:X.value};K.push("Unsupported valueSrc ".concat(X.valueSrc," in concatenation"))}).filter(function(X){return X!=null});return[I,K]};f.spelImportConcat=V},22980:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.setFunc=f.setArgValueSrc=f.setArgValue=f.completeValue=f.completeFuncValue=void 0;var C=d(t(73738)),E=t(67212),B=t(76348),D=d(t(36940));function S(X,R){var W=typeof Symbol<"u"&&X[Symbol.iterator]||X["@@iterator"];if(!W){if(Array.isArray(X)||(W=T(X))||R&&X&&typeof X.length=="number"){W&&(X=W);var M=0,G=function(){};return{s:G,n:function(){return M>=X.length?{done:!0}:{done:!1,value:X[M++]}},e:function(j){throw j},f:G}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var z=!0,q=!1,_;return{s:function(){W=W.call(X)},n:function(){var j=W.next();return z=j.done,j},e:function(j){q=!0,_=j},f:function(){try{!z&&W.return!=null&&W.return()}finally{if(q)throw _}}}}function T(X,R){if(X){if(typeof X=="string")return P(X,R);var W=Object.prototype.toString.call(X).slice(8,-1);if(W==="Object"&&X.constructor&&(W=X.constructor.name),W==="Map"||W==="Set")return Array.from(X);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return P(X,R)}}function P(X,R){(R==null||R>X.length)&&(R=X.length);for(var W=0,M=new Array(R);W<R;W++)M[W]=X[W];return M}var F=function(R){return(0,C.default)(R)=="object"&&R!==null&&!Array.isArray(R)},x=function(R,W,M){return W=="func"?V(R,M):R};f.completeValue=x;var V=function(R,W){var M=function(z){if(z){var q=z.get("func"),_=q&&(0,E.getFuncConfig)(W,q);if(_){var Y=z,j=!1;for(var y in _.args){var h=_.args[y],l=h.valueSources,a=h.isOptional,i=h.defaultValue,u=(0,B.filterValueSourcesForField)(W,l,h),c=Y.get("args"),v=u.length==1?u[0]:void 0,m=c?c.get(y):void 0,o=m?m.get("value"):void 0,n=(m?m.get("valueSrc"):void 0)||v;if(o!==void 0){var r=x(o,n,W);if(r===void 0||(r!==o&&(Y=Y.setIn(["args",y,"value"],r)),j))return}else if(i!==void 0&&!F(i))Y=Y.setIn(["args",y,"value"],K(h)),Y=Y.setIn(["args",y,"valueSrc"],"value");else if(a)j=!0;else return}return Y}}};return M(R)};f.completeFuncValue=V;var U=function(R,W){var M=[],G=[],z=function q(_){var Y=_&&_.get("args");if(Y){var j=S(Y.values()),y;try{for(j.s();!(y=j.n()).done;){var h=y.value;if(h.get("valueSrc")=="field"){var l=h.get("value");if(l){var a=W?(0,E.getFieldConfig)(W,l):void 0;W&&!a?G.push(l):M.push(l)}}else h.get("valueSrc")=="func"&&q(h.get("value"))}}catch(i){j.e(i)}finally{j.f()}}};return z(R),[M,G]},J=function(R,W,M){var G=M.settings.fieldSeparator;R=R||new D.default.Map,Array.isArray(W)&&(W=W.join(G)),R=R.set("func",W),R=R.set("args",new D.default.Map);var z=W&&(0,E.getFuncConfig)(M,W);if(z)for(var q in z.args){var _=z.args[q],Y=_.valueSources,j=_.defaultValue,y=(0,B.filterValueSourcesForField)(M,Y,_),h=y.length?y[0]:void 0,l=j?F(j)&&j.func?"func":"value":void 0,a=l||h;j!==void 0&&(R=R.setIn(["args",q,"value"],K(_))),a&&(R=R.setIn(["args",q,"valueSrc"],a))}return R};f.setFunc=J;var K=function(R){var W=R.defaultValue;return F(W)&&!D.default.Map.isMap(W)&&W.func?D.default.fromJS(W,function(M,G){return D.default.Iterable.isIndexed(G)?G.toList():G.toOrderedMap()}):W},ee=function(R,W,M,G,z){if(R&&R.get("func")){R=R.setIn(["args",W,"value"],M);var q=G.valueSources,_=(0,B.filterValueSourcesForField)(z,q,G),Y=_.length==1?_[0]:void 0;Y&&(R=R.setIn(["args",W,"valueSrc"],Y))}return R};f.setArgValue=ee;var I=function(R,W,M,G,z){return R&&R.get("func")&&(R=R.setIn(["args",W],new D.default.Map({valueSrc:M}))),R};f.setArgValueSrc=I},62543:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.TreeUtils=f.ExportUtils=f.DefaultUtils=f.ConfigUtils=void 0,Object.defineProperty(f,"getSwitchValues",{enumerable:!0,get:function(){return P.getSwitchValues}}),Object.defineProperty(f,"simulateAsyncFetch",{enumerable:!0,get:function(){return B.simulateAsyncFetch}}),Object.defineProperty(f,"uuid",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(f,"validateTree",{enumerable:!0,get:function(){return E.validateTree}});var E=t(33588),B=t(42871),D=d(t(21428)),S=V(t(67212));f.ConfigUtils=S;var T=V(t(68429));f.DefaultUtils=T;var P=V(t(8930));f.TreeUtils=P;var F=V(t(76669));f.ExportUtils=F;function x(U){if(typeof WeakMap!="function")return null;var J=new WeakMap,K=new WeakMap;return(x=function(I){return I?K:J})(U)}function V(U,J){if(!J&&U&&U.__esModule)return U;if(U===null||C(U)!=="object"&&typeof U!="function")return{default:U};var K=x(J);if(K&&K.has(U))return K.get(U);var ee={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var X in U)if(X!=="default"&&Object.prototype.hasOwnProperty.call(U,X)){var R=I?Object.getOwnPropertyDescriptor(U,X):null;R&&(R.get||R.set)?Object.defineProperty(ee,X,R):ee[X]=U[X]}return ee.default=U,K&&K.set(U,ee),ee}},15203:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.useOnPropsChanged=f.pureShouldComponentUpdate=f.liteShouldComponentUpdate=f.isUsingLegacyReactDomRender=f.bindActionCreators=void 0;var C=d(t(96540)),E=d(t(73916)),B=t(46897),D=function(K){if(K._reactRootContainer)return"root";if(Object.getOwnPropertyNames(K).filter(function(ee){return ee.startsWith("__reactContainer")}).length>0)return"container"},S=function J(K){if(K){var ee=D(K);return ee!==void 0?ee:J(K.parentNode)}},T=function(K){return S(K)==="root"};f.isUsingLegacyReactDomRender=T;var P=function(K,ee){return function(I,X){var R=K.props,W=K.state,M=I!=R||X!=W;if(M&&W==X&&R!=I){var G=[];for(var z in I){var q=I[z]!=R[z];q&&(ee[z]=="ignore"?q=!1:ee[z]=="shallow_deep"?q=!(0,B.shallowEqual)(I[z],R[z],!0):ee[z]=="shallow"?q=!(0,B.shallowEqual)(I[z],R[z]):typeof ee[z]=="function"&&(q=ee[z](I[z],R[z],X))),q&&G.push(z)}G.length||(M=!1)}return M}};f.liteShouldComponentUpdate=P;var F=function(K){return function(ee,I){return!(0,B.shallowEqual)(K.props,ee)||!(0,B.shallowEqual)(K.state,I)}};f.pureShouldComponentUpdate=F;var x=function(){var K=C.default.version.split(".").map(parseInt.bind(null,10));return K[0]==16&&K[1]>=3||K[0]>16},V=function(K){x?K.UNSAFE_componentWillReceiveProps=function(ee){K.onPropsChanged(ee)}:K.componentWillReceiveProps=function(ee){K.onPropsChanged(ee)}};f.useOnPropsChanged=V;var U=function(K,ee,I){return(0,E.default)(K,function(X){return function(){for(var R=arguments.length,W=new Array(R),M=0;M<R;M++)W[M]=arguments[M];return I(X.apply(void 0,[ee].concat(W)))}})};f.bindActionCreators=U},76348:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.getWidgetsForFieldOp=f.getWidgetForFieldOp=f.getValueSourcesForFieldOp=f.getValueLabel=f.getOperatorsForField=f.getNewValueForFieldOp=f.getFuncPathLabels=f.getFirstOperator=f.getFirstField=f.getFieldPathLabels=f.getFieldPath=f.getFieldPartsConfigs=f.formatFieldName=f.filterValueSourcesForField=void 0;var C=d(t(73738)),E=d(t(41132)),B=d(t(85715)),D=t(67212),S=t(46897),T=d(t(36940)),P=t(33588),F=d(t(68090)),x=["select","multiselect","treeselect","treemultiselect"],V=function(y){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,l=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!0,v=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;h||(h=y);var m=l.get("field"),o=l.get("operator"),n=l.get("value"),r=l.get("valueSrc",new T.default.List),p=l.get("valueType",new T.default.List),s=l.get("asyncListValues"),O=y.settings,b=O.convertableWidgets,Q=O.clearValueOnChangeField,H=O.clearValueOnChangeOp,L=O.showErrorMessage,N=(0,D.getOperatorConfig)(y,i,a),w=i?(0,S.defaultValue)(N.cardinality,1):null,$=(0,D.getFieldConfig)(h,m),te=(0,D.getFieldConfig)(y,a),re=m&&o&&i&&n!=null&&(!u||u=="field"&&!Q||u=="operator"&&!H)&&$&&te&&$.type==te.type;re&&x.includes($.type)&&u=="field"&&(re=!1);for(var ue=0;ue<w;ue++){var ne=r.get(ue)||null,pe=_(h,m,o,ne),se=_(y,a,i,ne),ve=ne=="value"?pe:_(h,m,o,"value"),me=ne=="value"?se:_(y,a,i,"value"),ye=me==ve||(b[ve]||[]).includes(me);ye||(re=!1)}o!=i&&[o,i].includes("proximity")&&(re=!1);var Oe=(0,D.getFieldWidgetConfig)(y,a,i,null,r.first()),ge=q(y,a,i),Te={},Ne=Array.from({length:w},function(){return null});if(re)for(var Ie=function(De){var Ee=n.get(De),Ae=p.get(De)||null,Be=r.get(De)||null,$e=ge.find(function(He){return He==Be})!=null;!$e&&De>0&&Be==null&&($e=!0);var Ue=s,Je=(0,P.validateValue)(y,a,a,i,Ee,Ae,Be,Ue,c,v),qe=(0,B.default)(Je,2),Qe=qe[0],ke=qe[1],rt=!Qe,et=ke!==Ee,it=!$e||!rt&&(u=="field"||!L&&!et),gt=!!Qe&&L&&!it&&!et;if(gt&&(Ne[De]=Qe),et&&(Te[De]=ke),it)return re=!1,"break"},we=0;we<w;we++){var We=Ie(we);if(We==="break")break}var je=null,Ke=null,fe=null,de=null;if(je=new T.default.List(Array.from({length:w},function(Re,De){var Ee=void 0;if(re)De<n.size&&(Ee=n.get(De),Te[De]!==void 0&&(Ee=Te[De]));else if(w==1){var Ae;Ee=(0,S.getFirstDefined)([te?.defaultValue,te==null||(Ae=te.fieldSettings)===null||Ae===void 0?void 0:Ae.defaultValue,Oe?.defaultValue])}return Ee})),Ke=new T.default.List(Array.from({length:w},function(Re,De){var Ee=null;return re?De<r.size&&(Ee=r.get(De)):(ge.length==1||ge.length>1)&&(Ee=ge[0]),Ee})),L){if(N&&N.validateValues&&Ke.toJS().filter(function(Re){return Re=="value"||Re==null}).length==w){var Pe=Oe&&Oe.toJS?je.toJS().map(function(Re){return Oe.toJS(Re,Oe)}):je.toJS(),be=N.validateValues(Pe);L&&Ne.push(be)}de=new T.default.List(Ne)}return fe=new T.default.List(Array.from({length:w},function(Re,De){var Ee=null;return re?De<p.size&&(Ee=p.get(De)):w==1&&Oe&&Oe.type!==void 0?Ee=Oe.type:w==1&&te&&te.type!==void 0&&(Ee=te.type=="!group"?"number":te.type),Ee})),{canReuseValue:re,newValue:je,newValueSrc:Ke,newValueType:fe,newValueError:de,operatorCardinality:w}};f.getNewValueForFieldOp=V;var U=function(y){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,l=y.settings.fieldSeparator,a=typeof h=="string"?h.split(l):h,i=h?(0,D.getFieldRawConfig)(y,h):y,u=i,c=null,v=[];do{var m=u===y?y.fields:u.subfields;if(!m||!Object.keys(m).length){u=c=null;break}c=Object.keys(m)[0],v.push(c),u=m[c]}while(u.type=="!struct"||u.type=="!group");return(a||[]).concat(v).join(l)};f.getFirstField=U;var J=function(y,h){var l=(0,D.getFieldConfig)(y,h),a=l?l.operators:[];return a};f.getOperatorsForField=J;var K=function(y,h){var l=J(y,h);return l?l[0]:null};f.getFirstOperator=K;var ee=function(y,h){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!y)return null;var a=h.settings.fieldSeparator,i=Array.isArray(y)?y:y.split(a);return l?i:i.map(function(u,c,v){return v.slice(0,c+1)}).map(function(u){return u.join(a)})};f.getFieldPath=ee;var I=function(y,h){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return X(y,h,l,"funcs","subfields")};f.getFuncPathLabels=I;var X=function(y,h){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"fields",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"subfields";if(!y)return null;var u=h.settings.fieldSeparator,c=Array.isArray(y)?y:y.split(u),v=l?Array.isArray(l)?l:l.split(u):[];return c.slice(v.length).map(function(m,o,n){return n.slice(0,o+1)}).map(function(m){return[].concat((0,E.default)(v),(0,E.default)(m)).join(u)}).map(function(m){var o=(0,D.getFieldRawConfig)(h,m,a,i);return o&&o.label||o&&(0,F.default)(m.split(u))}).filter(function(m){return m!=null})};f.getFieldPathLabels=X;var R=function(y,h){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!y)return null;var a=l&&(0,D.getFieldRawConfig)(h,l)||null,i=h.settings.fieldSeparator,u=Array.isArray(y)?y:y.split(i),c=l?Array.isArray(l)?l:l.split(i):[];return u.slice(c.length).map(function(v,m,o){return o.slice(0,m+1)}).map(function(v){return{part:[].concat((0,E.default)(c),(0,E.default)(v)).join(i),key:v[v.length-1]}}).map(function(v){var m=v.part,o=v.key,n=(0,D.getFieldRawConfig)(h,m);return{key:o,cnf:n}}).map(function(v,m,o){var n=v.key,r=v.cnf,p=m>0?o[m-1].cnf:a;return[n,r,p]})};f.getFieldPartsConfigs=R;var W=function(y,h,l,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,c=h&&(0,C.default)(h)=="object"&&!!h.func&&!!h.arg,v=y.settings.showLabels,m=(0,D.getFieldConfig)(y,h),o=(0,D.getFieldWidgetConfig)(y,h,l,null,i)||{},n=(0,D.getOperatorConfig)(y,l,h)||{},r=u?1:n.cardinality,p=null;if(r>1){var s=o.valueLabels||n.valueLabels;s&&(p=s[a]),p&&(0,C.default)(p)!="object"&&(p={label:p,placeholder:p}),p||(p={label:y.settings.valueLabel+" "+(a+1),placeholder:y.settings.valuePlaceholder+" "+(a+1)})}else{var O=o.valueLabel,b=o.valuePlaceholder;c&&(O||(O=m.label||h.arg),!b&&!v&&(b=m.label||h.arg)),p={label:O||y.settings.valueLabel,placeholder:b||y.settings.valuePlaceholder}}return p};f.getValueLabel=W;function M(j,y){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=[],i=[];if(!y)return{widgets:a,valueSrcs:i};var u=(0,C.default)(y)=="object"&&(!!y.func&&!!y.arg||y._isFuncArg),c=(0,D.getFieldConfig)(j,y),v=h?j.operators[h]:null;if(c&&c.widgets){var m=function(p){var s=c.widgets[p],O=j.widgets[p].valueSrc||"value",b=!0;if(p=="field"&&(b=b&&z(j,["field"],c).length>0),p=="func"&&(b=b&&z(j,["func"],c).length>0),l=="value"&&!s.operators&&!u&&y!="!case_value"&&(b=!1),s.operators&&h&&(b=b&&s.operators.indexOf(h)!=-1),l&&l!=O&&l!="const"&&(b=!1),v&&v.cardinality==0&&O!="value"&&(b=!1),b){a.push(p);var Q=c.valueSources&&c.valueSources.indexOf(O)!=-1;v&&v.valueSources&&v.valueSources.indexOf(O)==-1&&(Q=!1),Q&&!i.find(function(H){return H==O})&&i.push(O)}};for(var o in c.widgets)m(o)}var n=function(p){var s=0;return c.preferWidgets?c.preferWidgets.includes(p)&&(s+=10-c.preferWidgets.indexOf(p)):p==c.mainWidget&&(s+=100),p=="field"&&(s-=1),p=="func"&&(s-=2),s};return a.sort(function(r,p){return n(p)-n(r)}),{widgets:a,valueSrcs:i}}var G=function(y,h,l){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=M(y,h,l,a),u=i.widgets;return u};f.getWidgetsForFieldOp=G;var z=function(y,h,l){return l?h.filter(function(a){var i=!0;if(a=="field"&&y._fieldsCntByType){var u=l._isFuncArg?0:1;i=i&&y._fieldsCntByType[l.type]>u}return a=="func"&&(y._funcsCntByType&&(i=i&&!!y._funcsCntByType[l.type]),l.funcs&&(i=i&&l.funcs.length>0)),i}):h};f.filterValueSourcesForField=z;var q=function(y,h,l){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,u=M(y,h,l,null),c=u.valueSrcs,v=z(y,c,a);return v};f.getValueSourcesForFieldOp=q;var _=function(y,h,l){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=M(y,h,l,a),u=i.widgets,c=null;return u.length&&(c=u[0]),c};f.getWidgetForFieldOp=_;var Y=function(y,h,l){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(y){var i=(0,D.getFieldConfig)(h,y)||{},u=h.settings.fieldSeparator,c=Array.isArray(y)?y:y.split(u),v=Array.isArray(y)?y.join(u):y;if(i.tableName){var m=(0,E.default)(c);m[0]=i.tableName,v=m.join(u)}if(i.fieldName&&(v=i.fieldName),a){var o=(0,D.getFieldConfig)(h,a)||{},n=a;o.fieldName&&(n=o.fieldName),v.indexOf(n+u)==0?v=v.slice((n+u).length):l.errors.push("Can't cut group ".concat(n," from field ").concat(v))}return v}};f.formatFieldName=Y},46897:(ie,f,t)=>{"use strict";var d=t(24994),C=t(73738);Object.defineProperty(f,"__esModule",{value:!0}),f.applyToJS=p,f.mapListValues=f.logger=f.listValuesToArray=f.isJsonLogic=f.isImmutable=f.immutableEqual=f.getValueInListValues=f.getTitleInListValues=f.getLogger=f.getItemInListValues=f.getFirstDefined=f.flatizeTreeData=f.escapeRegExp=f.eqSet=f.eqArrSet=f.defaultValue=f.defaultTreeDataMap=f.deepEqual=void 0,f.mergeArraysSmart=O,f.shallowEqual=f.removePrefixPath=f.normalizeListValues=void 0,f.sleep=n,f.toImmutableList=s,f.truncateString=void 0;var E=d(t(85715)),B=d(t(41132)),D=d(t(73738)),S=P(t(36940));function T(N){if(typeof WeakMap!="function")return null;var w=new WeakMap,$=new WeakMap;return(T=function(re){return re?$:w})(N)}function P(N,w){if(!w&&N&&N.__esModule)return N;if(N===null||C(N)!=="object"&&typeof N!="function")return{default:N};var $=T(w);if($&&$.has(N))return $.get(N);var te={},re=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ue in N)if(ue!=="default"&&Object.prototype.hasOwnProperty.call(N,ue)){var ne=re?Object.getOwnPropertyDescriptor(N,ue):null;ne&&(ne.get||ne.set)?Object.defineProperty(te,ue,ne):te[ue]=N[ue]}return te.default=N,$&&$.set(N,te),te}function F(N,w){var $=typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(!$){if(Array.isArray(N)||($=x(N))||w&&N&&typeof N.length=="number"){$&&(N=$);var te=0,re=function(){};return{s:re,n:function(){return te>=N.length?{done:!0}:{done:!1,value:N[te++]}},e:function(ve){throw ve},f:re}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ue=!0,ne=!1,pe;return{s:function(){$=$.call(N)},n:function(){var ve=$.next();return ue=ve.done,ve},e:function(ve){ne=!0,pe=ve},f:function(){try{!ue&&$.return!=null&&$.return()}finally{if(ne)throw pe}}}}function x(N,w){if(N){if(typeof N=="string")return V(N,w);var $=Object.prototype.toString.call(N).slice(8,-1);if($==="Object"&&N.constructor&&($=N.constructor.name),$==="Map"||$==="Set")return Array.from(N);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return V(N,w)}}function V(N,w){(w==null||w>N.length)&&(w=N.length);for(var $=0,te=new Array(w);$<w;$++)te[$]=N[$];return te}var U=function(w,$){return typeof w>"u"?$:w};f.defaultValue=U;var J=function(w,$,te){if(!$||w.length<=$)return w;var re=w.substr(0,$-1);return(te?re.substr(0,re.lastIndexOf(" ")):re)+"..."};f.truncateString=J;var K=function(w,$){return w===$?!0:w.equals($)};f.immutableEqual=K;var ee=function(w,$){return w===$?!0:S.Map.isMap(w)?w.equals($):JSON.stringify(w)==JSON.stringify($)};f.deepEqual=ee;var I=function(w,$){if(w.size!==$.size)return!1;var te=F(w),re;try{for(te.s();!(re=te.n()).done;){var ue=re.value;if(!$.has(ue))return!1}}catch(ne){te.e(ne)}finally{te.f()}return!0};f.eqSet=I;var X=function(w,$){return I(new Set(w),new Set($))};f.eqArrSet=X;var R=function(w,$){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return w===$?!0:Array.isArray(w)?W(w,$,te):S.Map.isMap(w)?w.equals($):(0,D.default)(w)=="object"?M(w,$,te):w===$};f.shallowEqual=R;function W(N,w){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(N===w)return!0;if(!N||!w)return!1;var te=N.length;if(w.length!==te)return!1;for(var re=0;re<te;re++){var ue=$?R(N[re],w[re],$):N[re]===w[re];if(!ue)return!1}return!0}function M(N,w){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(N===w)return!0;if(!N||!w)return!1;var te=Object.keys(N),re=Object.keys(w),ue=te.length;if(re.length!==ue)return!1;for(var ne=0;ne<ue;ne++){var pe=te[ne],se=$?R(N[pe],w[pe],$):N[pe]===w[pe];if(!se)return!1}return!0}var G=function(w){return w.replace(/[.*+?^${}()|[\]\\/]/g,"\\$&")};f.escapeRegExp=G;var z=function(w){return(0,D.default)(w)=="object"&&w!==null},q=function(w,$){return z(w)?w:{value:w,title:$!==void 0?$:w}},_=function(w){if(!z(w))return w;if(Array.isArray(w))return w.map(function(ue){return q(ue)});var $=[];for(var te in w){var re=w[te];$.push(q(te,re))}return $};f.listValuesToArray=_;var Y=function(w,$){if(Array.isArray(w)){var te=w.map(function(re){return q(re)});return te.find(function(re){return re.value===$})||te.find(function(re){return"".concat(re.value)===$})}else return w[$]!==void 0?q($,w[$]):void 0};f.getItemInListValues=Y;var j=function(w,$){if(w==null)return $;var te=Y(w,$);return te!==void 0?te.title:$};f.getTitleInListValues=j;var y=function(w,$){if(w==null)return $;var te=Y(w,$);return te!==void 0?te.value:$};f.getValueInListValues=y;var h=function(w,$){var te=[];if(Array.isArray(w)){var re=F(w),ue;try{for(re.s();!(ue=re.n()).done;){var ne=ue.value,pe=$(q(ne));pe!=null&&te.push(pe)}}catch(me){re.e(me)}finally{re.f()}}else for(var se in w){var ve=$(q(se,w[se]));ve!=null&&te.push(ve)}return te};f.mapListValues=h;var l={id:"value",pId:"parent",rootPId:void 0};f.defaultTreeDataMap=l;var a=function(w){var $=l,te,re,ue=function pe(se,ve,me){if(se.children){me==1&&(se[$.pId]=$.rootPId);var ye=se.children.length,Oe=F(se.children),ge;try{for(Oe.s();!(ge=Oe.n()).done;){var Te=ge.value;Te[$.pId]=se[$.id],te++,ve.splice(te,0,Te),re++,pe(Te,ve,me+1)}}catch(Ne){Oe.e(Ne)}finally{Oe.f()}delete se.children,ye==0&&(ve.splice(te,1),te--,re--)}};if(Array.isArray(w))for(re=w.length,te=0;te<re;te++){var ne=w[te];z(ne)&&(ne[$.pId]!==void 0&&ne[$.pId]!=$.rootPId||ue(ne,w,1))}return w};f.flatizeTreeData=a;var i=function N(w,$){var te=l,re=Y(w,$),ue=re?re[te.pId]:void 0,ne=ue?w.find(function(pe){return pe[te.id]===ue}):void 0;return ne?[ne.value].concat((0,B.default)(N(w,ne.value))):[]},u=function(w,$){var te=l,re=Y(w,$);return re?w.filter(function(ue){return ue[te.pId]===re[te.id]}).map(function(ue){return ue.value}):[]},c=function(w,$,te){var re=F(w),ue;try{for(re.s();!(ue=re.n()).done;){var ne=ue.value;if(ne.path=i(w,ne.value),$.treeSelectOnlyLeafs!=!1){var pe=u(w,ne.value);te||(ne.selectable=pe.length==0)}}}catch(se){re.e(se)}finally{re.f()}return w},v=function(w,$,te){var re=["treeselect","treemultiselect"].includes($),ue=["multiselect","treemultiselect"].includes($);return re&&(w=_(w),w=a(w),w=c(w,te,ue)),w};f.normalizeListValues=v;var m=function(w,$){if(!w)return w;for(var te=!0,re=0;re<$.length;re++){var ue=$[re];if(!(w[re]!==void 0&&ue==w[re])){te=!1;break}}return te?w.slice($.length):w};f.removePrefixPath=m;var o=function(w){return(0,D.default)(w)==="object"&&w!==null&&!Array.isArray(w)&&Object.keys(w).length===1};f.isJsonLogic=o;function n(N){return new Promise(function(w){setTimeout(w,N)})}var r=function(w){return(0,D.default)(w)==="object"&&w!==null&&typeof w.toJS=="function"};f.isImmutable=r;function p(N){return r(N)?N.toJS():N}function s(N){return r(N)?N:new S.default.List(N)}function O(N,w){return N||(N=[]),w||(w=[]),w.map(function($){return[$,N.indexOf($)]}).map(function($,te,re){var ue=(0,E.default)($,2),ne=ue[0],pe=ue[1];if(pe==-1){var se=re.slice(te+1),ve=re.slice(0,te),me=ve.reverse().find(function(Oe){var ge=(0,E.default)(Oe,2),Te=ge[0],Ne=ge[1];return Ne!=-1}),ye=se.find(function(Oe){var ge=(0,E.default)(Oe,2),Te=ge[0],Ne=ge[1];return Ne!=-1});return ye?[ne,"before",ye[0]]:me?[ne,"after",me[0]]:[ne,"append",null]}else return null}).filter(function($){return $!==null}).reduce(function($,te){var re=(0,E.default)(te,3),ue=re[0],ne=re[1],pe=re[2],se=$.indexOf(pe);return $.indexOf(ue)==-1&&(se>-1?$.splice(se+(ne=="after"?1:0),0,ue):$.splice(ne=="append"?1/0:0,0,ue)),$},N.slice())}var b=function(){return typeof process<"u"&&process.env&&!1},Q=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,$=w??b();return $?console:{error:function(){},log:function(){},warn:function(){},debug:function(){},info:function(){}}};f.getLogger=Q;var H=function(){for(var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],$,te=0;te<w.length;te++){var re=w[te];if(re!==void 0){$=re;break}}return $};f.getFirstDefined=H;var L=Q();f.logger=L},8930:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.removePathsInTree=f.removeIsLockedInTree=f.isEmptyTree=f.hasChildren=f.getTreeBadFields=f.getTotalRulesCountInTree=f.getTotalReordableNodesCountInTree=f.getSwitchValues=f.getLightTree=f.getItemByPath=f.getFlatTree=f.fixPathsInTree=f.fixEmptyGroupsInTree=f.expandTreeSubpath=f.expandTreePath=void 0;var C=d(t(41132)),E=d(t(43693)),B=d(t(36940)),D=function(G){for(var z=arguments.length,q=new Array(z>1?z-1:0),_=1;_<z;_++)q[_-1]=arguments[_];return G.interpose("children1").withMutations(function(Y){return Y.skip(1),Y.push.apply(Y,q),Y})};f.expandTreePath=D;var S=function(G){for(var z=arguments.length,q=new Array(z>1?z-1:0),_=1;_<z;_++)q[_-1]=arguments[_];return G.interpose("children1").withMutations(function(Y){return Y.push.apply(Y,q),Y})};f.expandTreeSubpath=S;var T=function(G,z){var q=new B.default.OrderedMap((0,E.default)({},G.get("id"),G)),_=G;return z.forEach(function(Y){_=q.get(Y),q=_.get("children1")}),_};f.getItemByPath=T;var P=function(G){var z=G;function q(_,Y){var j=Y.push(_.get("id"));_.get("path")&&(z=z.removeIn(D(j,"path")));var y=_.get("children1");y&&y.map(function(h,l){q(h,j)})}return q(G,new B.default.List),z};f.removePathsInTree=P;var F=function(G){var z=G;function q(_,Y){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,y=Y.push(_.get("id")),h=_.getIn(["properties","isLocked"]);j&&h&&(z=z.deleteIn(D(y,"properties","isLocked")));var l=_.get("children1");l&&l.map(function(a,i){q(a,y,h||j)})}return q(G,new B.default.List),z};f.removeIsLockedInTree=F;var x=function(G){var z=G;function q(_,Y,j,y){if(_){var h=_.get("path"),l=_.get("id"),a=l||y,i=Y.push(a);(!h||!h.equals(i))&&(z=z.setIn(D(i,"path"),i)),l||(z=z.setIn(D(i,"id"),a));var u=_.get("children1");u&&(u.constructor.name=="Map"&&(z=z.setIn(D(i,"children1"),new B.default.OrderedMap(u))),u.map(function(c,v){q(c,i,j+1,v)}))}}return q(G,new B.default.List,0),z};f.fixPathsInTree=x;var V=function(G){var z=G;function q(_,Y,j,y){if(!_)return!1;var h=_.get("id")||y,l=Y.push(h),a=_.get("children1");if(a){var i=a.map(function(u,c){return q(u,l,j+1,c)}).reduce(function(u,c){return u&&c},!0);if((a.size==0||i)&&j>0)return z=z.deleteIn(D(l)),!0}return!1}return q(G,new B.default.List,0),z};f.fixEmptyGroupsInTree=V;var U=function(G){var z=[],q={},_=0;function Y(a,i,u,c,v,m,o,n,r){var p=a.get("type"),s=a.get("collapsed"),O=a.get("id"),b=a.get("children1"),Q=a.getIn(["properties","isLocked"]),H=b?b.map(function(pe,se){return se}):null,L=p=="rule_group",N=!v&&(!b||L),w=z.length,$=_;if(z.push(O),u||(_+=1),o.height=(o.height||0)+1,q[O]={type:p,parent:i.length?i[i.length-1]:null,parentType:n,caseId:p=="case_group"?O:r,isDefaultCase:p=="case_group"&&!b,path:i.concat(O),lev:m,leaf:!b,index:w,id:O,children:H,leafsCount:0,_top:w,_height:re-w,top:u?null:$,height:ne,bottom:(u?null:$)+ne,collapsed:s,node:a,isLocked:Q||c},b){var te={};b.map(function(pe,se){Y(pe,i.concat(O),u||s,c||Q,v||L,m+1,te,p,p=="case_group"?O:r)}),s||(o.height=(o.height||0)+(te.height||0))}r&&N&&q[r].leafsCount++;var re=z.length,ue=_,ne=o.height;Object.assign(q[O],{_height:re-w,height:ne,bottom:(u?null:$)+ne})}Y(G,[],!1,!1,!1,0,{},null,null);for(var j=0;j<z.length;j++){var y=j>0?z[j-1]:null,h=j<z.length-1?z[j+1]:null,l=q[z[j]];l.prev=y,l.next=h}return{flat:z,items:q}};f.getFlatTree=U;var J=function(G){if(!G)return-1;var z=0;function q(_,Y,j){var y,h,l;typeof _.get=="function"?(y=_.get("id"),h=_.get("children1"),l=_.get("type")):(y=_.id,h=_.children1,l=_.type);var a=l=="rule_group";z++,h&&!a&&h.map(function(i,u){q(i,Y.concat(y),j+1)})}return q(G,[],0),z-1};f.getTotalReordableNodesCountInTree=J;var K=function(G){if(!G)return-1;var z=0;function q(_,Y,j){var y,h,l;typeof _.get=="function"?(y=_.get("id"),h=_.get("children1"),l=_.get("type")):(y=_.id,h=_.children1,l=_.type),l=="rule"||l=="rule_group"?z++:h&&h.map(function(a,i){q(a,Y.concat(y),j+1)})}return q(G,[],0),z};f.getTotalRulesCountInTree=K;var ee=function(G){var z=[];function q(_,Y,j){var y=_.get("id"),h=_.get("children1"),l=_.getIn(["properties","valueError"]),a=_.getIn(["properties","field"]);l&&l.size>0&&l.filter(function(i){return i!=null}).size>0&&z.push(a),h&&h.map(function(i,u){q(i,Y.concat(y),j+1)})}return G&&q(G,[],0),Array.from(new Set(z))};f.getTreeBadFields=ee;var I=function(G){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,q=G;function _(Y,j){Y.path&&delete Y.path,!z&&j&&delete Y.id;var y=Y.properties;y&&y.operatorOptions==null&&delete y.operatorOptions;var h=Y.children1;if(h){for(var l in h)_(h[l],l);z&&(Y.children1=Object.values(h))}}return _(G,null),q};f.getLightTree=I;var X=function(G){var z=[],q=G.get("children1");return q&&q.map(function(_){var Y=_.getIn(["properties","value"]),j;Y&&Y.size==1?(j=Y.get(0),Array.isArray(j)&&j.length==0&&(j=null)):j=null,z=[].concat((0,C.default)(z),[j])}),z};f.getSwitchValues=X;var R=function(G){return!G.get("children1")||G.get("children1").size==0};f.isEmptyTree=R;var W=function(G,z){return G.getIn(D(z,"children1")).size>0};f.hasChildren=W},21428:(ie,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var t=0,d=function(){var E=(new Date().getTime().toString(16)+"FF").substr(0,11),B="ssssssss-xxxx-4xxx-yxxx-x".replace(/[xys]/g,function(D){var S=D==="s"?Math.floor(Math.random()*16):t++&15,T=D==="x"?S:S&3|8;return T.toString(16)});return B+E};f.default=d},33588:(ie,f,t)=>{"use strict";var d=t(24994);Object.defineProperty(f,"__esModule",{value:!0}),f.validateValue=f.validateTree=f.validateAndFixTree=f.createValidationMemo=void 0;var C=d(t(41132)),E=d(t(85715)),B=d(t(73738)),D=t(67212),S=t(76348),T=t(46897),P=t(68429),F=t(8930),x=d(t(90179)),V=t(36940),U=function(j){return(0,B.default)(j)=="object"&&j!==null&&Array.isArray(j)?"array":(0,B.default)(j)},J=function(j,y){return U(j)==y||y=="number"&&!isNaN(j)},K=function(){var j,y,h;return function(l,a,i){return a?(l.__configId===h&&((0,T.immutableEqual)(a,j)||(0,T.immutableEqual)(a,y))||(h=l.__configId,j=a,y=ee(a,null,l,i||l)),y):null}};f.createValidationMemo=K;var ee=function(j,y,h,l){var a=I(j,y,h,l);return a=(0,F.fixPathsInTree)(a),a};f.validateAndFixTree=ee;var I=function(j,y,h,l,a,i){a===void 0&&(a=h.settings.removeEmptyGroupsOnLoad),i===void 0&&(i=h.settings.removeIncompleteRulesOnLoad);var u={config:h,oldConfig:l,removeEmptyGroups:a,removeIncompleteRules:i};return X(j,[],null,{},u)};f.validateTree=I;function X(Y,j,y,h,l){var a=Y.get("type"),i=Y.get("children1");return(a==="group"||a==="rule_group"||a=="case_group"||a=="switch_group")&&i&&i.size?R(Y,j,y,h,l):a==="rule"?W(Y,j,y,h,l):Y}function R(Y,j,y,h,l){var a=l.removeEmptyGroups,i=Y.get("id"),u=Y.get("children1"),c=u;!i&&y&&(i=y,Y=Y.set("id",i),h.sanitized=!0);var v={};u=u.map(function(o,n){return X(o,j.concat(i),n,v,l)}),a&&(u=u.filter(function(o){return o!=null}));var m=v.sanitized||c.size!=u.size;return!u.size&&a&&j.length&&(m=!0,Y=void 0),m&&(h.sanitized=!0),m&&Y&&(Y=Y.set("children1",u)),Y}function W(Y,j,y,h,l){var a=l.removeIncompleteRules,i=l.config,u=l.oldConfig,c=i.settings.showErrorMessage,v=Y.get("id"),m=Y.get("properties"),o=m.get("field")||null,n=m.get("operator")||null,r=m.get("operatorOptions"),p=m.get("valueSrc"),s=m.get("value"),O=m.get("valueError"),b={field:o,operator:n,operatorOptions:r?r.toJS():{},valueSrc:p?p.toJS():null,value:s?s.toJS():null,valueError:O?O.toJS():null},Q=o&&n&&s&&!s.includes(void 0);!v&&y&&(v=y,Y=Y.set("id",v),h.sanitized=!0);var H=o?(0,D.getFieldConfig)(i,o):null;o&&!H&&(T.logger.warn("No config for field ".concat(o)),o=null),o==null&&(m=["operator","operatorOptions","valueSrc","value"].reduce(function(ye,Oe){return ye.delete(Oe)},m),n=null),(n=="range_between"||n=="range_not_between")&&(n=n=="range_between"?"between":"not_between",console.info("Fixed operator ".concat(m.get("operator")," to ").concat(n)),m=m.set("operator",n));var L=n?(0,D.getOperatorConfig)(i,n,o):null;n&&!L&&(console.warn("No config for operator ".concat(n)),n=null);var N=o?(0,S.getOperatorsForField)(i,o):[];N?n&&N.indexOf(n)==-1&&(n=="is_empty"||n=="is_not_empty"?(n=n=="is_empty"?"is_null":"is_not_null",console.info("Fixed operator ".concat(m.get("operator")," to ").concat(n," for ").concat(o)),m=m.set("operator",n)):(console.warn("Operator ".concat(n," is not supported for field ").concat(o)),n=null)):(console.warn("Type of field ".concat(o," is not supported")),n=null),n==null&&(m=m.delete("operatorOptions"),m=m.delete("valueSrc"),m=m.delete("value")),r=m.get("operatorOptions");var w=n?(0,T.defaultValue)(L.cardinality,1):null;!n||r&&!L.options?(r=null,m=m.delete("operatorOptions")):n&&!r&&L.options&&(r=(0,P.defaultOperatorOptions)(i,n,o),m=m.set("operatorOptions",r)),p=m.get("valueSrc"),s=m.get("value");var $=!c,te=!0,re=(0,S.getNewValueForFieldOp)(i,u,m,o,n,null,$,te),ue=re.newValue,ne=re.newValueSrc,pe=re.newValueError;s=ue,p=ne,O=pe,m=m.set("value",s),m=m.set("valueSrc",p),c&&(m=m.set("valueError",O));var se={field:o,operator:n,operatorOptions:r?r.toJS():{},valueSrc:p?p.toJS():null,value:s?s.toJS():null,valueError:O?O.toJS():null},ve=!(0,T.deepEqual)(b,se),me=o&&n&&s&&!s.includes(void 0);return ve&&(h.sanitized=!0),!me&&a?Y=void 0:ve&&(Y=Y.set("properties",m)),Y}var M=function(j,y,h,l,a,i,u,c){var v=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,m=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1,o=arguments.length>10&&arguments[10]!==void 0?arguments[10]:!0,n=null,r=a;if(a!=null){if(u=="field"){var p=q(y,h,a,u,i,c,j,l,m,v),s=(0,E.default)(p,2);n=s[0],r=s[1]}else if(u=="func"){var O=_(y,h,a,u,i,c,j,l,m,v),b=(0,E.default)(O,2);n=b[0],r=b[1]}else if(u=="value"||!u){var Q=z(y,h,a,u,i,c,j,l,m,v),H=(0,E.default)(Q,2);n=H[0],r=H[1]}if(!n){var L=(0,D.getFieldConfig)(j,h),N=(0,S.getWidgetForFieldOp)(j,h,l,u),w=l?(0,D.getOperatorConfig)(j,l,h):null,$=(0,x.default)((0,D.getFieldWidgetConfig)(j,h,l,N,u),["factory"]),te=u=="field"?(0,D.getFieldConfig)(j,a):null,re=$,ue=$.validateValue;if(typeof ue=="function"){var ne=[r,re,l,w];u=="field"&&ne.push(te);var pe=ue.apply(void 0,ne);typeof pe=="boolean"?pe==!1&&(n="Invalid value"):n=pe}}}return o&&n&&console.warn("[RAQB validate]","Field ".concat(h,": ").concat(n)),[n,r]};f.validateValue=M;var G=function(j,y,h,l,a){var i=V.List.isList(j)?j.toJS():j instanceof Array?(0,C.default)(j):void 0;if(i){var u=i.reduce(function(p,s){var O=(0,E.default)(p,2),b=O[0],Q=O[1],H=(0,T.getItemInListValues)(y,s);return H==null?[b,[].concat((0,C.default)(Q),[s])]:[[].concat((0,C.default)(b),[H.value]),Q]},[[],[]]),c=(0,E.default)(u,2),v=c[0],m=c[1],o=m.length>1,n=m.length?"".concat(o?"Values":"Value"," ").concat(m.join(", ")," ").concat(o?"are":"is"," not in list of values"):null;return a!==void 0?h=a:h=h||l,[n,h?v:j]}else{var r=(0,T.getItemInListValues)(y,j);return r==null?["Value ".concat(j," is not in list of values"),j]:(j=r.value,[null,j])}},z=function(j,y,h,l,a,i,u){var c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,v=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,m=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1;if(y){var o=(0,D.getFieldConfig)(u,y),n=(0,S.getWidgetForFieldOp)(u,y,c,l),r=u.widgets[n],p=r.type,s=r.jsType,O=o.fieldSettings;if(a!=p)return["Value should have type ".concat(p,", but got value of type ").concat(a),h];if(s&&!J(h,s)&&!O.listValues)return["Value should have JS type ".concat(s,", but got value of type ").concat((0,B.default)(h)),h];if(O){var b=i||O.listValues;if(b&&!O.allowCustomValues)return G(h,b,m,v,u.settings.removeInvalidMultiSelectValuesOnLoad);if(O.min!=null&&h<O.min)return["Value ".concat(h," < min ").concat(O.min),m?O.min:h];if(O.max!=null&&h>O.max)return["Value ".concat(h," > max ").concat(O.max),m?O.max:h]}}return[null,h]},q=function(j,y,h,l,a,i,u){var c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,v=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,m=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1,o=u.settings.fieldSeparator,n=(0,B.default)(y)=="object"&&y?._isFuncArg,r=Array.isArray(j)?j.join(o):j,p=Array.isArray(h)?h.join(o):h,s=(0,D.getFieldConfig)(u,h);return s?p==r&&!n?["Can't compare field ".concat(j," with itself"),h]:a&&a!=s.type?["Field ".concat(h," is of type ").concat(s.type,", but expected ").concat(a),h]:[null,h]:["Unknown field ".concat(h),h]},_=function(j,y,h,l,a,i,u){var c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,v=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,m=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1,o=h;if(h){var n=h.get("func");if(n){var r=(0,D.getFuncConfig)(u,n);if(r){if(a&&r.returnType!=a)return["Function ".concat(n," should return value of type ").concat(r.returnType,", but got ").concat(a),h];for(var p in r.args){var s=r.args[p],O=o.get("args"),b=O?O.get(p):void 0,Q=(0,D.getFieldConfig)(u,s),H=b?b.get("value"):void 0,L=b?b.get("valueSrc"):void 0;if(H!==void 0){var N=M(u,j,Q,c,H,s.type,L,i,m,v,!1),w=(0,E.default)(N,2),$=w[0],te=w[1];if($!==null)if(m)o=o.deleteIn(["args",p]),s.defaultValue!==void 0&&(o=o.setIn(["args",p,"value"],s.defaultValue),o=o.setIn(["args",p,"valueSrc"],"value"));else return["Invalid value of arg ".concat(p," for func ").concat(n,": ").concat($),h];else te!==H&&(o=o.setIn(["args",p,"value"],te))}else if(v&&s.defaultValue===void 0&&!m)return["Value of arg ".concat(p," for func ").concat(n," is required"),h]}}else return["Unknown function ".concat(n),h]}}return[null,o]}},36940:function(ie){(function(f,t){ie.exports=t()})(this,function(){"use strict";var f=Array.prototype.slice;function t(e,g){g&&(e.prototype=Object.create(g.prototype)),e.prototype.constructor=e}function d(e){return D(e)?e:N(e)}t(C,d);function C(e){return S(e)?e:w(e)}t(E,d);function E(e){return T(e)?e:$(e)}t(B,d);function B(e){return D(e)&&!P(e)?e:te(e)}function D(e){return!!(e&&e[x])}function S(e){return!!(e&&e[V])}function T(e){return!!(e&&e[U])}function P(e){return S(e)||T(e)}function F(e){return!!(e&&e[J])}d.isIterable=D,d.isKeyed=S,d.isIndexed=T,d.isAssociative=P,d.isOrdered=F,d.Keyed=C,d.Indexed=E,d.Set=B;var x="@@__IMMUTABLE_ITERABLE__@@",V="@@__IMMUTABLE_KEYED__@@",U="@@__IMMUTABLE_INDEXED__@@",J="@@__IMMUTABLE_ORDERED__@@",K="delete",ee=5,I=1<<ee,X=I-1,R={},W={value:!1},M={value:!1};function G(e){return e.value=!1,e}function z(e){e&&(e.value=!0)}function q(){}function _(e,g){g=g||0;for(var A=Math.max(0,e.length-g),k=new Array(A),Z=0;Z<A;Z++)k[Z]=e[Z+g];return k}function Y(e){return e.size===void 0&&(e.size=e.__iterate(y)),e.size}function j(e,g){if(typeof g!="number"){var A=g>>>0;if(""+A!==g||A===4294967295)return NaN;g=A}return g<0?Y(e)+g:g}function y(){return!0}function h(e,g,A){return(e===0||A!==void 0&&e<=-A)&&(g===void 0||A!==void 0&&g>=A)}function l(e,g){return i(e,g,0)}function a(e,g){return i(e,g,g)}function i(e,g,A){return e===void 0?A:e<0?Math.max(0,g+e):g===void 0?e:Math.min(g,e)}var u=0,c=1,v=2,m=typeof Symbol=="function"&&Symbol.iterator,o="@@iterator",n=m||o;function r(e){this.next=e}r.prototype.toString=function(){return"[Iterator]"},r.KEYS=u,r.VALUES=c,r.ENTRIES=v,r.prototype.inspect=r.prototype.toSource=function(){return this.toString()},r.prototype[n]=function(){return this};function p(e,g,A,k){var Z=e===0?g:e===1?A:[g,A];return k?k.value=Z:k={value:Z,done:!1},k}function s(){return{value:void 0,done:!0}}function O(e){return!!H(e)}function b(e){return e&&typeof e.next=="function"}function Q(e){var g=H(e);return g&&g.call(e)}function H(e){var g=e&&(m&&e[m]||e[o]);if(typeof g=="function")return g}function L(e){return e&&typeof e.length=="number"}t(N,d);function N(e){return e==null?ye():D(e)?e.toSeq():Te(e)}N.of=function(){return N(arguments)},N.prototype.toSeq=function(){return this},N.prototype.toString=function(){return this.__toString("Seq {","}")},N.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},N.prototype.__iterate=function(e,g){return Ie(this,e,g,!0)},N.prototype.__iterator=function(e,g){return we(this,e,g,!0)},t(w,N);function w(e){return e==null?ye().toKeyedSeq():D(e)?S(e)?e.toSeq():e.fromEntrySeq():Oe(e)}w.prototype.toKeyedSeq=function(){return this},t($,N);function $(e){return e==null?ye():D(e)?S(e)?e.entrySeq():e.toIndexedSeq():ge(e)}$.of=function(){return $(arguments)},$.prototype.toIndexedSeq=function(){return this},$.prototype.toString=function(){return this.__toString("Seq [","]")},$.prototype.__iterate=function(e,g){return Ie(this,e,g,!1)},$.prototype.__iterator=function(e,g){return we(this,e,g,!1)},t(te,N);function te(e){return(e==null?ye():D(e)?S(e)?e.entrySeq():e:ge(e)).toSetSeq()}te.of=function(){return te(arguments)},te.prototype.toSetSeq=function(){return this},N.isSeq=ve,N.Keyed=w,N.Set=te,N.Indexed=$;var re="@@__IMMUTABLE_SEQ__@@";N.prototype[re]=!0,t(ue,$);function ue(e){this._array=e,this.size=e.length}ue.prototype.get=function(e,g){return this.has(e)?this._array[j(this,e)]:g},ue.prototype.__iterate=function(e,g){for(var A=this._array,k=A.length-1,Z=0;Z<=k;Z++)if(e(A[g?k-Z:Z],Z,this)===!1)return Z+1;return Z},ue.prototype.__iterator=function(e,g){var A=this._array,k=A.length-1,Z=0;return new r(function(){return Z>k?s():p(e,Z,A[g?k-Z++:Z++])})},t(ne,w);function ne(e){var g=Object.keys(e);this._object=e,this._keys=g,this.size=g.length}ne.prototype.get=function(e,g){return g!==void 0&&!this.has(e)?g:this._object[e]},ne.prototype.has=function(e){return this._object.hasOwnProperty(e)},ne.prototype.__iterate=function(e,g){for(var A=this._object,k=this._keys,Z=k.length-1,ae=0;ae<=Z;ae++){var oe=k[g?Z-ae:ae];if(e(A[oe],oe,this)===!1)return ae+1}return ae},ne.prototype.__iterator=function(e,g){var A=this._object,k=this._keys,Z=k.length-1,ae=0;return new r(function(){var oe=k[g?Z-ae:ae];return ae++>Z?s():p(e,oe,A[oe])})},ne.prototype[J]=!0,t(pe,$);function pe(e){this._iterable=e,this.size=e.length||e.size}pe.prototype.__iterateUncached=function(e,g){if(g)return this.cacheResult().__iterate(e,g);var A=this._iterable,k=Q(A),Z=0;if(b(k))for(var ae;!(ae=k.next()).done&&e(ae.value,Z++,this)!==!1;);return Z},pe.prototype.__iteratorUncached=function(e,g){if(g)return this.cacheResult().__iterator(e,g);var A=this._iterable,k=Q(A);if(!b(k))return new r(s);var Z=0;return new r(function(){var ae=k.next();return ae.done?ae:p(e,Z++,ae.value)})},t(se,$);function se(e){this._iterator=e,this._iteratorCache=[]}se.prototype.__iterateUncached=function(e,g){if(g)return this.cacheResult().__iterate(e,g);for(var A=this._iterator,k=this._iteratorCache,Z=0;Z<k.length;)if(e(k[Z],Z++,this)===!1)return Z;for(var ae;!(ae=A.next()).done;){var oe=ae.value;if(k[Z]=oe,e(oe,Z++,this)===!1)break}return Z},se.prototype.__iteratorUncached=function(e,g){if(g)return this.cacheResult().__iterator(e,g);var A=this._iterator,k=this._iteratorCache,Z=0;return new r(function(){if(Z>=k.length){var ae=A.next();if(ae.done)return ae;k[Z]=ae.value}return p(e,Z,k[Z++])})};function ve(e){return!!(e&&e[re])}var me;function ye(){return me||(me=new ue([]))}function Oe(e){var g=Array.isArray(e)?new ue(e).fromEntrySeq():b(e)?new se(e).fromEntrySeq():O(e)?new pe(e).fromEntrySeq():typeof e=="object"?new ne(e):void 0;if(!g)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return g}function ge(e){var g=Ne(e);if(!g)throw new TypeError("Expected Array or iterable object of values: "+e);return g}function Te(e){var g=Ne(e)||typeof e=="object"&&new ne(e);if(!g)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return g}function Ne(e){return L(e)?new ue(e):b(e)?new se(e):O(e)?new pe(e):void 0}function Ie(e,g,A,k){var Z=e._cache;if(Z){for(var ae=Z.length-1,oe=0;oe<=ae;oe++){var ce=Z[A?ae-oe:oe];if(g(ce[1],k?ce[0]:oe,e)===!1)return oe+1}return oe}return e.__iterateUncached(g,A)}function we(e,g,A,k){var Z=e._cache;if(Z){var ae=Z.length-1,oe=0;return new r(function(){var ce=Z[A?ae-oe:oe];return oe++>ae?s():p(g,k?ce[0]:oe-1,ce[1])})}return e.__iteratorUncached(g,A)}function We(e,g){return g?je(g,e,"",{"":e}):Ke(e)}function je(e,g,A,k){return Array.isArray(g)?e.call(k,A,$(g).map(function(Z,ae){return je(e,Z,ae,g)})):fe(g)?e.call(k,A,w(g).map(function(Z,ae){return je(e,Z,ae,g)})):g}function Ke(e){return Array.isArray(e)?$(e).map(Ke).toList():fe(e)?w(e).map(Ke).toMap():e}function fe(e){return e&&(e.constructor===Object||e.constructor===void 0)}function de(e,g){if(e===g||e!==e&&g!==g)return!0;if(!e||!g)return!1;if(typeof e.valueOf=="function"&&typeof g.valueOf=="function"){if(e=e.valueOf(),g=g.valueOf(),e===g||e!==e&&g!==g)return!0;if(!e||!g)return!1}return!!(typeof e.equals=="function"&&typeof g.equals=="function"&&e.equals(g))}function Pe(e,g){if(e===g)return!0;if(!D(g)||e.size!==void 0&&g.size!==void 0&&e.size!==g.size||e.__hash!==void 0&&g.__hash!==void 0&&e.__hash!==g.__hash||S(e)!==S(g)||T(e)!==T(g)||F(e)!==F(g))return!1;if(e.size===0&&g.size===0)return!0;var A=!P(e);if(F(e)){var k=e.entries();return g.every(function(Se,Ce){var Fe=k.next().value;return Fe&&de(Fe[1],Se)&&(A||de(Fe[0],Ce))})&&k.next().done}var Z=!1;if(e.size===void 0)if(g.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{Z=!0;var ae=e;e=g,g=ae}var oe=!0,ce=g.__iterate(function(Se,Ce){if(A?!e.has(Se):Z?!de(Se,e.get(Ce,R)):!de(e.get(Ce,R),Se))return oe=!1,!1});return oe&&e.size===ce}t(be,$);function be(e,g){if(!(this instanceof be))return new be(e,g);if(this._value=e,this.size=g===void 0?1/0:Math.max(0,g),this.size===0){if(Re)return Re;Re=this}}be.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},be.prototype.get=function(e,g){return this.has(e)?this._value:g},be.prototype.includes=function(e){return de(this._value,e)},be.prototype.slice=function(e,g){var A=this.size;return h(e,g,A)?this:new be(this._value,a(g,A)-l(e,A))},be.prototype.reverse=function(){return this},be.prototype.indexOf=function(e){return de(this._value,e)?0:-1},be.prototype.lastIndexOf=function(e){return de(this._value,e)?this.size:-1},be.prototype.__iterate=function(e,g){for(var A=0;A<this.size;A++)if(e(this._value,A,this)===!1)return A+1;return A},be.prototype.__iterator=function(e,g){var A=this,k=0;return new r(function(){return k<A.size?p(e,k++,A._value):s()})},be.prototype.equals=function(e){return e instanceof be?de(this._value,e._value):Pe(e)};var Re;function De(e,g){if(!e)throw new Error(g)}t(Ee,$);function Ee(e,g,A){if(!(this instanceof Ee))return new Ee(e,g,A);if(De(A!==0,"Cannot step a Range by 0"),e=e||0,g===void 0&&(g=1/0),A=A===void 0?1:Math.abs(A),g<e&&(A=-A),this._start=e,this._end=g,this._step=A,this.size=Math.max(0,Math.ceil((g-e)/A-1)+1),this.size===0){if(Ae)return Ae;Ae=this}}Ee.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},Ee.prototype.get=function(e,g){return this.has(e)?this._start+j(this,e)*this._step:g},Ee.prototype.includes=function(e){var g=(e-this._start)/this._step;return g>=0&&g<this.size&&g===Math.floor(g)},Ee.prototype.slice=function(e,g){return h(e,g,this.size)?this:(e=l(e,this.size),g=a(g,this.size),g<=e?new Ee(0,0):new Ee(this.get(e,this._end),this.get(g,this._end),this._step))},Ee.prototype.indexOf=function(e){var g=e-this._start;if(g%this._step===0){var A=g/this._step;if(A>=0&&A<this.size)return A}return-1},Ee.prototype.lastIndexOf=function(e){return this.indexOf(e)},Ee.prototype.__iterate=function(e,g){for(var A=this.size-1,k=this._step,Z=g?this._start+A*k:this._start,ae=0;ae<=A;ae++){if(e(Z,ae,this)===!1)return ae+1;Z+=g?-k:k}return ae},Ee.prototype.__iterator=function(e,g){var A=this.size-1,k=this._step,Z=g?this._start+A*k:this._start,ae=0;return new r(function(){var oe=Z;return Z+=g?-k:k,ae>A?s():p(e,ae++,oe)})},Ee.prototype.equals=function(e){return e instanceof Ee?this._start===e._start&&this._end===e._end&&this._step===e._step:Pe(this,e)};var Ae;t(Be,d);function Be(){throw TypeError("Abstract")}t($e,Be);function $e(){}t(Ue,Be);function Ue(){}t(Je,Be);function Je(){}Be.Keyed=$e,Be.Indexed=Ue,Be.Set=Je;var qe=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(g,A){g=g|0,A=A|0;var k=g&65535,Z=A&65535;return k*Z+((g>>>16)*Z+k*(A>>>16)<<16>>>0)|0};function Qe(e){return e>>>1&1073741824|e&3221225471}function ke(e){if(e===!1||e===null||e===void 0||typeof e.valueOf=="function"&&(e=e.valueOf(),e===!1||e===null||e===void 0))return 0;if(e===!0)return 1;var g=typeof e;if(g==="number"){if(e!==e||e===1/0)return 0;var A=e|0;for(A!==e&&(A^=e*4294967295);e>4294967295;)e/=4294967295,A^=e;return Qe(A)}if(g==="string")return e.length>at?rt(e):et(e);if(typeof e.hashCode=="function")return e.hashCode();if(g==="object")return it(e);if(typeof e.toString=="function")return et(e.toString());throw new Error("Value type "+g+" cannot be hashed.")}function rt(e){var g=Tt[e];return g===void 0&&(g=et(e),ot===ht&&(ot=0,Tt={}),ot++,Tt[e]=g),g}function et(e){for(var g=0,A=0;A<e.length;A++)g=31*g+e.charCodeAt(A)|0;return Qe(g)}function it(e){var g;if(mt&&(g=yt.get(e),g!==void 0)||(g=e[tt],g!==void 0)||!He&&(g=e.propertyIsEnumerable&&e.propertyIsEnumerable[tt],g!==void 0||(g=ut(e),g!==void 0)))return g;if(g=++Ot,Ot&1073741824&&(Ot=0),mt)yt.set(e,g);else{if(gt!==void 0&&gt(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(He)Object.defineProperty(e,tt,{enumerable:!1,configurable:!1,writable:!1,value:g});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[tt]=g;else if(e.nodeType!==void 0)e[tt]=g;else throw new Error("Unable to set a non-enumerable property on object.")}return g}var gt=Object.isExtensible,He=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function ut(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var mt=typeof WeakMap=="function",yt;mt&&(yt=new WeakMap);var Ot=0,tt="__immutablehash__";typeof Symbol=="function"&&(tt=Symbol(tt));var at=16,ht=255,ot=0,Tt={};function dt(e){De(e!==1/0,"Cannot perform this action with an infinite size.")}t(Ve,$e);function Ve(e){return e==null?lt():Xe(e)&&!F(e)?e:lt().withMutations(function(g){var A=C(e);dt(A.size),A.forEach(function(k,Z){return g.set(Z,k)})})}Ve.of=function(){var e=f.call(arguments,0);return lt().withMutations(function(g){for(var A=0;A<e.length;A+=2){if(A+1>=e.length)throw new Error("Missing value for key: "+e[A]);g.set(e[A],e[A+1])}})},Ve.prototype.toString=function(){return this.__toString("Map {","}")},Ve.prototype.get=function(e,g){return this._root?this._root.get(0,void 0,e,g):g},Ve.prototype.set=function(e,g){return St(this,e,g)},Ve.prototype.setIn=function(e,g){return this.updateIn(e,R,function(){return g})},Ve.prototype.remove=function(e){return St(this,e,R)},Ve.prototype.deleteIn=function(e){return this.updateIn(e,function(){return R})},Ve.prototype.update=function(e,g,A){return arguments.length===1?e(this):this.updateIn([e],g,A)},Ve.prototype.updateIn=function(e,g,A){A||(A=g,g=void 0);var k=Yt(this,Xr(e),g,A);return k===R?void 0:k},Ve.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):lt()},Ve.prototype.merge=function(){return zt(this,void 0,arguments)},Ve.prototype.mergeWith=function(e){var g=f.call(arguments,1);return zt(this,e,g)},Ve.prototype.mergeIn=function(e){var g=f.call(arguments,1);return this.updateIn(e,lt(),function(A){return typeof A.merge=="function"?A.merge.apply(A,g):g[g.length-1]})},Ve.prototype.mergeDeep=function(){return zt(this,Jt,arguments)},Ve.prototype.mergeDeepWith=function(e){var g=f.call(arguments,1);return zt(this,xt(e),g)},Ve.prototype.mergeDeepIn=function(e){var g=f.call(arguments,1);return this.updateIn(e,lt(),function(A){return typeof A.mergeDeep=="function"?A.mergeDeep.apply(A,g):g[g.length-1]})},Ve.prototype.sort=function(e){return Pt(er(this,e))},Ve.prototype.sortBy=function(e,g){return Pt(er(this,g,e))},Ve.prototype.withMutations=function(e){var g=this.asMutable();return e(g),g.wasAltered()?g.__ensureOwner(this.__ownerID):this},Ve.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new q)},Ve.prototype.asImmutable=function(){return this.__ensureOwner()},Ve.prototype.wasAltered=function(){return this.__altered},Ve.prototype.__iterator=function(e,g){return new ft(this,e,g)},Ve.prototype.__iterate=function(e,g){var A=this,k=0;return this._root&&this._root.iterate(function(Z){return k++,e(Z[1],Z[0],A)},g),k},Ve.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Le(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)};function Xe(e){return!!(e&&e[_e])}Ve.isMap=Xe;var _e="@@__IMMUTABLE_MAP__@@",Me=Ve.prototype;Me[_e]=!0,Me[K]=Me.remove,Me.removeIn=Me.deleteIn;function Ct(e,g){this.ownerID=e,this.entries=g}Ct.prototype.get=function(e,g,A,k){for(var Z=this.entries,ae=0,oe=Z.length;ae<oe;ae++)if(de(A,Z[ae][0]))return Z[ae][1];return k},Ct.prototype.update=function(e,g,A,k,Z,ae,oe){for(var ce=Z===R,Se=this.entries,Ce=0,Fe=Se.length;Ce<Fe&&!de(k,Se[Ce][0]);Ce++);var Ge=Ce<Fe;if(Ge?Se[Ce][1]===Z:ce)return this;if(z(oe),(ce||!Ge)&&z(ae),!(ce&&Se.length===1)){if(!Ge&&!ce&&Se.length>=dn)return yr(e,Se,k,Z);var ze=e&&e===this.ownerID,Ze=ze?Se:_(Se);return Ge?ce?Ce===Fe-1?Ze.pop():Ze[Ce]=Ze.pop():Ze[Ce]=[k,Z]:Ze.push([k,Z]),ze?(this.entries=Ze,this):new Ct(e,Ze)}};function Et(e,g,A){this.ownerID=e,this.bitmap=g,this.nodes=A}Et.prototype.get=function(e,g,A,k){g===void 0&&(g=ke(A));var Z=1<<((e===0?g:g>>>e)&X),ae=this.bitmap;return(ae&Z)===0?k:this.nodes[Qt(ae&Z-1)].get(e+ee,g,A,k)},Et.prototype.update=function(e,g,A,k,Z,ae,oe){A===void 0&&(A=ke(k));var ce=(g===0?A:A>>>g)&X,Se=1<<ce,Ce=this.bitmap,Fe=(Ce&Se)!==0;if(!Fe&&Z===R)return this;var Ge=Qt(Ce&Se-1),ze=this.nodes,Ze=Fe?ze[Ge]:void 0,nt=$t(Ze,e,g+ee,A,k,Z,ae,oe);if(nt===Ze)return this;if(!Fe&&nt&&ze.length>=pn)return Or(e,ze,Ce,ce,nt);if(Fe&&!nt&&ze.length===2&&rr(ze[Ge^1]))return ze[Ge^1];if(Fe&&nt&&ze.length===1&&rr(nt))return nt;var vt=e&&e===this.ownerID,Vt=Fe?nt?Ce:Ce^Se:Ce|Se,Gt=Fe?nt?sr(ze,Ge,nt,vt):ar(ze,Ge,vt):Kt(ze,Ge,nt,vt);return vt?(this.bitmap=Vt,this.nodes=Gt,this):new Et(e,Vt,Gt)};function Rt(e,g,A){this.ownerID=e,this.count=g,this.nodes=A}Rt.prototype.get=function(e,g,A,k){g===void 0&&(g=ke(A));var Z=(e===0?g:g>>>e)&X,ae=this.nodes[Z];return ae?ae.get(e+ee,g,A,k):k},Rt.prototype.update=function(e,g,A,k,Z,ae,oe){A===void 0&&(A=ke(k));var ce=(g===0?A:A>>>g)&X,Se=Z===R,Ce=this.nodes,Fe=Ce[ce];if(Se&&!Fe)return this;var Ge=$t(Fe,e,g+ee,A,k,Z,ae,oe);if(Ge===Fe)return this;var ze=this.count;if(!Fe)ze++;else if(!Ge&&(ze--,ze<vn))return Ht(e,Ce,ze,ce);var Ze=e&&e===this.ownerID,nt=sr(Ce,ce,Ge,Ze);return Ze?(this.count=ze,this.nodes=nt,this):new Rt(e,ze,nt)};function Lt(e,g,A){this.ownerID=e,this.keyHash=g,this.entries=A}Lt.prototype.get=function(e,g,A,k){for(var Z=this.entries,ae=0,oe=Z.length;ae<oe;ae++)if(de(A,Z[ae][0]))return Z[ae][1];return k},Lt.prototype.update=function(e,g,A,k,Z,ae,oe){A===void 0&&(A=ke(k));var ce=Z===R;if(A!==this.keyHash)return ce?this:(z(oe),z(ae),kt(this,e,g,A,[k,Z]));for(var Se=this.entries,Ce=0,Fe=Se.length;Ce<Fe&&!de(k,Se[Ce][0]);Ce++);var Ge=Ce<Fe;if(Ge?Se[Ce][1]===Z:ce)return this;if(z(oe),(ce||!Ge)&&z(ae),ce&&Fe===2)return new xe(e,this.keyHash,Se[Ce^1]);var ze=e&&e===this.ownerID,Ze=ze?Se:_(Se);return Ge?ce?Ce===Fe-1?Ze.pop():Ze[Ce]=Ze.pop():Ze[Ce]=[k,Z]:Ze.push([k,Z]),ze?(this.entries=Ze,this):new Lt(e,this.keyHash,Ze)};function xe(e,g,A){this.ownerID=e,this.keyHash=g,this.entry=A}xe.prototype.get=function(e,g,A,k){return de(A,this.entry[0])?this.entry[1]:k},xe.prototype.update=function(e,g,A,k,Z,ae,oe){var ce=Z===R,Se=de(k,this.entry[0]);if(Se?Z===this.entry[1]:ce)return this;if(z(oe),ce){z(ae);return}return Se?e&&e===this.ownerID?(this.entry[1]=Z,this):new xe(e,this.keyHash,[k,Z]):(z(ae),kt(this,e,g,ke(k),[k,Z]))},Ct.prototype.iterate=Lt.prototype.iterate=function(e,g){for(var A=this.entries,k=0,Z=A.length-1;k<=Z;k++)if(e(A[g?Z-k:k])===!1)return!1},Et.prototype.iterate=Rt.prototype.iterate=function(e,g){for(var A=this.nodes,k=0,Z=A.length-1;k<=Z;k++){var ae=A[g?Z-k:k];if(ae&&ae.iterate(e,g)===!1)return!1}},xe.prototype.iterate=function(e,g){return e(this.entry)},t(ft,r);function ft(e,g,A){this._type=g,this._reverse=A,this._stack=e._root&&he(e._root)}ft.prototype.next=function(){for(var e=this._type,g=this._stack;g;){var A=g.node,k=g.index++,Z;if(A.entry){if(k===0)return le(e,A.entry)}else if(A.entries){if(Z=A.entries.length-1,k<=Z)return le(e,A.entries[this._reverse?Z-k:k])}else if(Z=A.nodes.length-1,k<=Z){var ae=A.nodes[this._reverse?Z-k:k];if(ae){if(ae.entry)return le(e,ae.entry);g=this._stack=he(ae,g)}continue}g=this._stack=this._stack.__prev}return s()};function le(e,g){return p(e,g[0],g[1])}function he(e,g){return{node:e,index:0,__prev:g}}function Le(e,g,A,k){var Z=Object.create(Me);return Z.size=e,Z._root=g,Z.__ownerID=A,Z.__hash=k,Z.__altered=!1,Z}var Ye;function lt(){return Ye||(Ye=Le(0))}function St(e,g,A){var k,Z;if(e._root){var ae=G(W),oe=G(M);if(k=$t(e._root,e.__ownerID,0,void 0,g,A,ae,oe),!oe.value)return e;Z=e.size+(ae.value?A===R?-1:1:0)}else{if(A===R)return e;Z=1,k=new Ct(e.__ownerID,[[g,A]])}return e.__ownerID?(e.size=Z,e._root=k,e.__hash=void 0,e.__altered=!0,e):k?Le(Z,k):lt()}function $t(e,g,A,k,Z,ae,oe,ce){return e?e.update(g,A,k,Z,ae,oe,ce):ae===R?e:(z(ce),z(oe),new xe(g,k,[Z,ae]))}function rr(e){return e.constructor===xe||e.constructor===Lt}function kt(e,g,A,k,Z){if(e.keyHash===k)return new Lt(g,k,[e.entry,Z]);var ae=(A===0?e.keyHash:e.keyHash>>>A)&X,oe=(A===0?k:k>>>A)&X,ce,Se=ae===oe?[kt(e,g,A+ee,k,Z)]:(ce=new xe(g,k,Z),ae<oe?[e,ce]:[ce,e]);return new Et(g,1<<ae|1<<oe,Se)}function yr(e,g,A,k){e||(e=new q);for(var Z=new xe(e,ke(A),[A,k]),ae=0;ae<g.length;ae++){var oe=g[ae];Z=Z.update(e,0,void 0,oe[0],oe[1])}return Z}function Ht(e,g,A,k){for(var Z=0,ae=0,oe=new Array(A),ce=0,Se=1,Ce=g.length;ce<Ce;ce++,Se<<=1){var Fe=g[ce];Fe!==void 0&&ce!==k&&(Z|=Se,oe[ae++]=Fe)}return new Et(e,Z,oe)}function Or(e,g,A,k,Z){for(var ae=0,oe=new Array(I),ce=0;A!==0;ce++,A>>>=1)oe[ce]=A&1?g[ae++]:void 0;return oe[k]=Z,new Rt(e,ae+1,oe)}function zt(e,g,A){for(var k=[],Z=0;Z<A.length;Z++){var ae=A[Z],oe=C(ae);D(ae)||(oe=oe.map(function(ce){return We(ce)})),k.push(oe)}return nr(e,g,k)}function Jt(e,g,A){return e&&e.mergeDeep&&D(g)?e.mergeDeep(g):de(e,g)?e:g}function xt(e){return function(g,A,k){if(g&&g.mergeDeepWith&&D(A))return g.mergeDeepWith(e,A);var Z=e(g,A,k);return de(g,Z)?g:Z}}function nr(e,g,A){return A=A.filter(function(k){return k.size!==0}),A.length===0?e:e.size===0&&!e.__ownerID&&A.length===1?e.constructor(A[0]):e.withMutations(function(k){for(var Z=g?function(oe,ce){k.update(ce,R,function(Se){return Se===R?oe:g(Se,oe,ce)})}:function(oe,ce){k.set(ce,oe)},ae=0;ae<A.length;ae++)A[ae].forEach(Z)})}function Yt(e,g,A,k){var Z=e===R,ae=g.next();if(ae.done){var oe=Z?A:e,ce=k(oe);return ce===oe?e:ce}De(Z||e&&e.set,"invalid keyPath");var Se=ae.value,Ce=Z?R:e.get(Se,R),Fe=Yt(Ce,g,A,k);return Fe===Ce?e:Fe===R?e.remove(Se):(Z?lt():e).set(Se,Fe)}function Qt(e){return e=e-(e>>1&1431655765),e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e=e+(e>>8),e=e+(e>>16),e&127}function sr(e,g,A,k){var Z=k?e:_(e);return Z[g]=A,Z}function Kt(e,g,A,k){var Z=e.length+1;if(k&&g+1===Z)return e[g]=A,e;for(var ae=new Array(Z),oe=0,ce=0;ce<Z;ce++)ce===g?(ae[ce]=A,oe=-1):ae[ce]=e[ce+oe];return ae}function ar(e,g,A){var k=e.length-1;if(A&&g===k)return e.pop(),e;for(var Z=new Array(k),ae=0,oe=0;oe<k;oe++)oe===g&&(ae=1),Z[oe]=e[oe+ae];return Z}var dn=I/4,pn=I/2,vn=I/4;t(ct,Ue);function ct(e){var g=Sr();if(e==null)return g;if(Ar(e))return e;var A=E(e),k=A.size;return k===0?g:(dt(k),k>0&&k<I?ir(0,k,ee,null,new Ut(A.toArray())):g.withMutations(function(Z){Z.setSize(k),A.forEach(function(ae,oe){return Z.set(oe,ae)})}))}ct.of=function(){return this(arguments)},ct.prototype.toString=function(){return this.__toString("List [","]")},ct.prototype.get=function(e,g){if(e=j(this,e),e>=0&&e<this.size){e+=this._origin;var A=jr(this,e);return A&&A.array[e&X]}return g},ct.prototype.set=function(e,g){return gn(this,e,g)},ct.prototype.remove=function(e){return this.has(e)?e===0?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},ct.prototype.insert=function(e,g){return this.splice(e,0,g)},ct.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=ee,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Sr()},ct.prototype.push=function(){var e=arguments,g=this.size;return this.withMutations(function(A){Bt(A,0,g+e.length);for(var k=0;k<e.length;k++)A.set(g+k,e[k])})},ct.prototype.pop=function(){return Bt(this,0,-1)},ct.prototype.unshift=function(){var e=arguments;return this.withMutations(function(g){Bt(g,-e.length);for(var A=0;A<e.length;A++)g.set(A,e[A])})},ct.prototype.shift=function(){return Bt(this,1)},ct.prototype.merge=function(){return fr(this,void 0,arguments)},ct.prototype.mergeWith=function(e){var g=f.call(arguments,1);return fr(this,e,g)},ct.prototype.mergeDeep=function(){return fr(this,Jt,arguments)},ct.prototype.mergeDeepWith=function(e){var g=f.call(arguments,1);return fr(this,xt(e),g)},ct.prototype.setSize=function(e){return Bt(this,0,e)},ct.prototype.slice=function(e,g){var A=this.size;return h(e,g,A)?this:Bt(this,l(e,A),a(g,A))},ct.prototype.__iterator=function(e,g){var A=0,k=Vr(this,g);return new r(function(){var Z=k();return Z===ur?s():p(e,A++,Z)})},ct.prototype.__iterate=function(e,g){for(var A=0,k=Vr(this,g),Z;(Z=k())!==ur&&e(Z,A++,this)!==!1;);return A},ct.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?ir(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)};function Ar(e){return!!(e&&e[wr])}ct.isList=Ar;var wr="@@__IMMUTABLE_LIST__@@",Dt=ct.prototype;Dt[wr]=!0,Dt[K]=Dt.remove,Dt.setIn=Me.setIn,Dt.deleteIn=Dt.removeIn=Me.removeIn,Dt.update=Me.update,Dt.updateIn=Me.updateIn,Dt.mergeIn=Me.mergeIn,Dt.mergeDeepIn=Me.mergeDeepIn,Dt.withMutations=Me.withMutations,Dt.asMutable=Me.asMutable,Dt.asImmutable=Me.asImmutable,Dt.wasAltered=Me.wasAltered;function Ut(e,g){this.array=e,this.ownerID=g}Ut.prototype.removeBefore=function(e,g,A){if(A===g?1<<g:this.array.length===0)return this;var k=A>>>g&X;if(k>=this.array.length)return new Ut([],e);var Z=k===0,ae;if(g>0){var oe=this.array[k];if(ae=oe&&oe.removeBefore(e,g-ee,A),ae===oe&&Z)return this}if(Z&&!ae)return this;var ce=Xt(this,e);if(!Z)for(var Se=0;Se<k;Se++)ce.array[Se]=void 0;return ae&&(ce.array[k]=ae),ce},Ut.prototype.removeAfter=function(e,g,A){if(A===(g?1<<g:0)||this.array.length===0)return this;var k=A-1>>>g&X;if(k>=this.array.length)return this;var Z;if(g>0){var ae=this.array[k];if(Z=ae&&ae.removeAfter(e,g-ee,A),Z===ae&&k===this.array.length-1)return this}var oe=Xt(this,e);return oe.array.splice(k+1),Z&&(oe.array[k]=Z),oe};var ur={};function Vr(e,g){var A=e._origin,k=e._capacity,Z=or(k),ae=e._tail;return oe(e._root,e._level,0);function oe(Ce,Fe,Ge){return Fe===0?ce(Ce,Ge):Se(Ce,Fe,Ge)}function ce(Ce,Fe){var Ge=Fe===Z?ae&&ae.array:Ce&&Ce.array,ze=Fe>A?0:A-Fe,Ze=k-Fe;return Ze>I&&(Ze=I),function(){if(ze===Ze)return ur;var nt=g?--Ze:ze++;return Ge&&Ge[nt]}}function Se(Ce,Fe,Ge){var ze,Ze=Ce&&Ce.array,nt=Ge>A?0:A-Ge>>Fe,vt=(k-Ge>>Fe)+1;return vt>I&&(vt=I),function(){do{if(ze){var Vt=ze();if(Vt!==ur)return Vt;ze=null}if(nt===vt)return ur;var Gt=g?--vt:nt++;ze=oe(Ze&&Ze[Gt],Fe-ee,Ge+(Gt<<Fe))}while(!0)}}}function ir(e,g,A,k,Z,ae,oe){var ce=Object.create(Dt);return ce.size=g-e,ce._origin=e,ce._capacity=g,ce._level=A,ce._root=k,ce._tail=Z,ce.__ownerID=ae,ce.__hash=oe,ce.__altered=!1,ce}var Mr;function Sr(){return Mr||(Mr=ir(0,0,ee))}function gn(e,g,A){if(g=j(e,g),g!==g)return e;if(g>=e.size||g<0)return e.withMutations(function(oe){g<0?Bt(oe,g).set(0,A):Bt(oe,0,g+1).set(g,A)});g+=e._origin;var k=e._tail,Z=e._root,ae=G(M);return g>=or(e._capacity)?k=Cr(k,e.__ownerID,0,g,A,ae):Z=Cr(Z,e.__ownerID,e._level,g,A,ae),ae.value?e.__ownerID?(e._root=Z,e._tail=k,e.__hash=void 0,e.__altered=!0,e):ir(e._origin,e._capacity,e._level,Z,k):e}function Cr(e,g,A,k,Z,ae){var oe=k>>>A&X,ce=e&&oe<e.array.length;if(!ce&&Z===void 0)return e;var Se;if(A>0){var Ce=e&&e.array[oe],Fe=Cr(Ce,g,A-ee,k,Z,ae);return Fe===Ce?e:(Se=Xt(e,g),Se.array[oe]=Fe,Se)}return ce&&e.array[oe]===Z?e:(z(ae),Se=Xt(e,g),Z===void 0&&oe===Se.array.length-1?Se.array.pop():Se.array[oe]=Z,Se)}function Xt(e,g){return g&&e&&g===e.ownerID?e:new Ut(e?e.array.slice():[],g)}function jr(e,g){if(g>=or(e._capacity))return e._tail;if(g<1<<e._level+ee){for(var A=e._root,k=e._level;A&&k>0;)A=A.array[g>>>k&X],k-=ee;return A}}function Bt(e,g,A){g!==void 0&&(g=g|0),A!==void 0&&(A=A|0);var k=e.__ownerID||new q,Z=e._origin,ae=e._capacity,oe=Z+g,ce=A===void 0?ae:A<0?ae+A:Z+A;if(oe===Z&&ce===ae)return e;if(oe>=ce)return e.clear();for(var Se=e._level,Ce=e._root,Fe=0;oe+Fe<0;)Ce=new Ut(Ce&&Ce.array.length?[void 0,Ce]:[],k),Se+=ee,Fe+=1<<Se;Fe&&(oe+=Fe,Z+=Fe,ce+=Fe,ae+=Fe);for(var Ge=or(ae),ze=or(ce);ze>=1<<Se+ee;)Ce=new Ut(Ce&&Ce.array.length?[Ce]:[],k),Se+=ee;var Ze=e._tail,nt=ze<Ge?jr(e,ce-1):ze>Ge?new Ut([],k):Ze;if(Ze&&ze>Ge&&oe<ae&&Ze.array.length){Ce=Xt(Ce,k);for(var vt=Ce,Vt=Se;Vt>ee;Vt-=ee){var Gt=Ge>>>Vt&X;vt=vt.array[Gt]=Xt(vt.array[Gt],k)}vt.array[Ge>>>ee&X]=Ze}if(ce<ae&&(nt=nt&&nt.removeAfter(k,0,ce)),oe>=ze)oe-=ze,ce-=ze,Se=ee,Ce=null,nt=nt&&nt.removeBefore(k,0,oe);else if(oe>Z||ze<Ge){for(Fe=0;Ce;){var mr=oe>>>Se&X;if(mr!==ze>>>Se&X)break;mr&&(Fe+=(1<<Se)*mr),Se-=ee,Ce=Ce.array[mr]}Ce&&oe>Z&&(Ce=Ce.removeBefore(k,Se,oe-Fe)),Ce&&ze<Ge&&(Ce=Ce.removeAfter(k,Se,ze-Fe)),Fe&&(oe-=Fe,ce-=Fe)}return e.__ownerID?(e.size=ce-oe,e._origin=oe,e._capacity=ce,e._level=Se,e._root=Ce,e._tail=nt,e.__hash=void 0,e.__altered=!0,e):ir(oe,ce,Se,Ce,nt)}function fr(e,g,A){for(var k=[],Z=0,ae=0;ae<A.length;ae++){var oe=A[ae],ce=E(oe);ce.size>Z&&(Z=ce.size),D(oe)||(ce=ce.map(function(Se){return We(Se)})),k.push(ce)}return Z>e.size&&(e=e.setSize(Z)),nr(e,g,k)}function or(e){return e<I?0:e-1>>>ee<<ee}t(Pt,Ve);function Pt(e){return e==null?cr():Wr(e)?e:cr().withMutations(function(g){var A=C(e);dt(A.size),A.forEach(function(k,Z){return g.set(Z,k)})})}Pt.of=function(){return this(arguments)},Pt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Pt.prototype.get=function(e,g){var A=this._map.get(e);return A!==void 0?this._list.get(A)[1]:g},Pt.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):cr()},Pt.prototype.set=function(e,g){return Ur(this,e,g)},Pt.prototype.remove=function(e){return Ur(this,e,R)},Pt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Pt.prototype.__iterate=function(e,g){var A=this;return this._list.__iterate(function(k){return k&&e(k[1],k[0],A)},g)},Pt.prototype.__iterator=function(e,g){return this._list.fromEntrySeq().__iterator(e,g)},Pt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var g=this._map.__ensureOwner(e),A=this._list.__ensureOwner(e);return e?Pr(g,A,e,this.__hash):(this.__ownerID=e,this._map=g,this._list=A,this)};function Wr(e){return Xe(e)&&F(e)}Pt.isOrderedMap=Wr,Pt.prototype[J]=!0,Pt.prototype[K]=Pt.prototype.remove;function Pr(e,g,A,k){var Z=Object.create(Pt.prototype);return Z.size=e?e.size:0,Z._map=e,Z._list=g,Z.__ownerID=A,Z.__hash=k,Z}var Gr;function cr(){return Gr||(Gr=Pr(lt(),Sr()))}function Ur(e,g,A){var k=e._map,Z=e._list,ae=k.get(g),oe=ae!==void 0,ce,Se;if(A===R){if(!oe)return e;Z.size>=I&&Z.size>=k.size*2?(Se=Z.filter(function(Ce,Fe){return Ce!==void 0&&ae!==Fe}),ce=Se.toKeyedSeq().map(function(Ce){return Ce[0]}).flip().toMap(),e.__ownerID&&(ce.__ownerID=Se.__ownerID=e.__ownerID)):(ce=k.remove(g),Se=ae===Z.size-1?Z.pop():Z.set(ae,void 0))}else if(oe){if(A===Z.get(ae)[1])return e;ce=k,Se=Z.set(ae,[g,A])}else ce=k.set(g,Z.size),Se=Z.set(Z.size,[g,A]);return e.__ownerID?(e.size=ce.size,e._map=ce,e._list=Se,e.__hash=void 0,e):Pr(ce,Se)}t(wt,w);function wt(e,g){this._iter=e,this._useKeys=g,this.size=e.size}wt.prototype.get=function(e,g){return this._iter.get(e,g)},wt.prototype.has=function(e){return this._iter.has(e)},wt.prototype.valueSeq=function(){return this._iter.valueSeq()},wt.prototype.reverse=function(){var e=this,g=Er(this,!0);return this._useKeys||(g.valueSeq=function(){return e._iter.toSeq().reverse()}),g},wt.prototype.map=function(e,g){var A=this,k=zr(this,e,g);return this._useKeys||(k.valueSeq=function(){return A._iter.toSeq().map(e,g)}),k},wt.prototype.__iterate=function(e,g){var A=this,k;return this._iter.__iterate(this._useKeys?function(Z,ae){return e(Z,ae,A)}:(k=g?Jr(this):0,function(Z){return e(Z,g?--k:k++,A)}),g)},wt.prototype.__iterator=function(e,g){if(this._useKeys)return this._iter.__iterator(e,g);var A=this._iter.__iterator(c,g),k=g?Jr(this):0;return new r(function(){var Z=A.next();return Z.done?Z:p(e,g?--k:k++,Z.value,Z)})},wt.prototype[J]=!0,t(Zt,$);function Zt(e){this._iter=e,this.size=e.size}Zt.prototype.includes=function(e){return this._iter.includes(e)},Zt.prototype.__iterate=function(e,g){var A=this,k=0;return this._iter.__iterate(function(Z){return e(Z,k++,A)},g)},Zt.prototype.__iterator=function(e,g){var A=this._iter.__iterator(c,g),k=0;return new r(function(){var Z=A.next();return Z.done?Z:p(e,k++,Z.value,Z)})},t(qt,te);function qt(e){this._iter=e,this.size=e.size}qt.prototype.has=function(e){return this._iter.includes(e)},qt.prototype.__iterate=function(e,g){var A=this;return this._iter.__iterate(function(k){return e(k,k,A)},g)},qt.prototype.__iterator=function(e,g){var A=this._iter.__iterator(c,g);return new r(function(){var k=A.next();return k.done?k:p(e,k.value,k.value,k)})},t(_t,w);function _t(e){this._iter=e,this.size=e.size}_t.prototype.entrySeq=function(){return this._iter.toSeq()},_t.prototype.__iterate=function(e,g){var A=this;return this._iter.__iterate(function(k){if(k){Hr(k);var Z=D(k);return e(Z?k.get(1):k[1],Z?k.get(0):k[0],A)}},g)},_t.prototype.__iterator=function(e,g){var A=this._iter.__iterator(c,g);return new r(function(){for(;;){var k=A.next();if(k.done)return k;var Z=k.value;if(Z){Hr(Z);var ae=D(Z);return p(e,ae?Z.get(0):Z[0],ae?Z.get(1):Z[1],k)}}})},Zt.prototype.cacheResult=wt.prototype.cacheResult=qt.prototype.cacheResult=_t.prototype.cacheResult=Rr;function Br(e){var g=Mt(e);return g._iter=e,g.size=e.size,g.flip=function(){return e},g.reverse=function(){var A=e.reverse.apply(this);return A.flip=function(){return e.reverse()},A},g.has=function(A){return e.includes(A)},g.includes=function(A){return e.has(A)},g.cacheResult=Rr,g.__iterateUncached=function(A,k){var Z=this;return e.__iterate(function(ae,oe){return A(oe,ae,Z)!==!1},k)},g.__iteratorUncached=function(A,k){if(A===v){var Z=e.__iterator(A,k);return new r(function(){var ae=Z.next();if(!ae.done){var oe=ae.value[0];ae.value[0]=ae.value[1],ae.value[1]=oe}return ae})}return e.__iterator(A===c?u:c,k)},g}function zr(e,g,A){var k=Mt(e);return k.size=e.size,k.has=function(Z){return e.has(Z)},k.get=function(Z,ae){var oe=e.get(Z,R);return oe===R?ae:g.call(A,oe,Z,e)},k.__iterateUncached=function(Z,ae){var oe=this;return e.__iterate(function(ce,Se,Ce){return Z(g.call(A,ce,Se,Ce),Se,oe)!==!1},ae)},k.__iteratorUncached=function(Z,ae){var oe=e.__iterator(v,ae);return new r(function(){var ce=oe.next();if(ce.done)return ce;var Se=ce.value,Ce=Se[0];return p(Z,Ce,g.call(A,Se[1],Ce,e),ce)})},k}function Er(e,g){var A=Mt(e);return A._iter=e,A.size=e.size,A.reverse=function(){return e},e.flip&&(A.flip=function(){var k=Br(e);return k.reverse=function(){return e.flip()},k}),A.get=function(k,Z){return e.get(g?k:-1-k,Z)},A.has=function(k){return e.has(g?k:-1-k)},A.includes=function(k){return e.includes(k)},A.cacheResult=Rr,A.__iterate=function(k,Z){var ae=this;return e.__iterate(function(oe,ce){return k(oe,ce,ae)},!Z)},A.__iterator=function(k,Z){return e.__iterator(k,!Z)},A}function xr(e,g,A,k){var Z=Mt(e);return k&&(Z.has=function(ae){var oe=e.get(ae,R);return oe!==R&&!!g.call(A,oe,ae,e)},Z.get=function(ae,oe){var ce=e.get(ae,R);return ce!==R&&g.call(A,ce,ae,e)?ce:oe}),Z.__iterateUncached=function(ae,oe){var ce=this,Se=0;return e.__iterate(function(Ce,Fe,Ge){if(g.call(A,Ce,Fe,Ge))return Se++,ae(Ce,k?Fe:Se-1,ce)},oe),Se},Z.__iteratorUncached=function(ae,oe){var ce=e.__iterator(v,oe),Se=0;return new r(function(){for(;;){var Ce=ce.next();if(Ce.done)return Ce;var Fe=Ce.value,Ge=Fe[0],ze=Fe[1];if(g.call(A,ze,Ge,e))return p(ae,k?Ge:Se++,ze,Ce)}})},Z}function hn(e,g,A){var k=Ve().asMutable();return e.__iterate(function(Z,ae){k.update(g.call(A,Z,ae,e),0,function(oe){return oe+1})}),k.asImmutable()}function mn(e,g,A){var k=S(e),Z=(F(e)?Pt():Ve()).asMutable();e.__iterate(function(oe,ce){Z.update(g.call(A,oe,ce,e),function(Se){return Se=Se||[],Se.push(k?[ce,oe]:oe),Se})});var ae=Yr(e);return Z.map(function(oe){return st(e,ae(oe))})}function Fr(e,g,A,k){var Z=e.size;if(g!==void 0&&(g=g|0),A!==void 0&&(A===1/0?A=Z:A=A|0),h(g,A,Z))return e;var ae=l(g,Z),oe=a(A,Z);if(ae!==ae||oe!==oe)return Fr(e.toSeq().cacheResult(),g,A,k);var ce=oe-ae,Se;ce===ce&&(Se=ce<0?0:ce);var Ce=Mt(e);return Ce.size=Se===0?Se:e.size&&Se||void 0,!k&&ve(e)&&Se>=0&&(Ce.get=function(Fe,Ge){return Fe=j(this,Fe),Fe>=0&&Fe<Se?e.get(Fe+ae,Ge):Ge}),Ce.__iterateUncached=function(Fe,Ge){var ze=this;if(Se===0)return 0;if(Ge)return this.cacheResult().__iterate(Fe,Ge);var Ze=0,nt=!0,vt=0;return e.__iterate(function(Vt,Gt){if(!(nt&&(nt=Ze++<ae)))return vt++,Fe(Vt,k?Gt:vt-1,ze)!==!1&&vt!==Se}),vt},Ce.__iteratorUncached=function(Fe,Ge){if(Se!==0&&Ge)return this.cacheResult().__iterator(Fe,Ge);var ze=Se!==0&&e.__iterator(Fe,Ge),Ze=0,nt=0;return new r(function(){for(;Ze++<ae;)ze.next();if(++nt>Se)return s();var vt=ze.next();return k||Fe===c?vt:Fe===u?p(Fe,nt-1,void 0,vt):p(Fe,nt-1,vt.value[1],vt)})},Ce}function yn(e,g,A){var k=Mt(e);return k.__iterateUncached=function(Z,ae){var oe=this;if(ae)return this.cacheResult().__iterate(Z,ae);var ce=0;return e.__iterate(function(Se,Ce,Fe){return g.call(A,Se,Ce,Fe)&&++ce&&Z(Se,Ce,oe)}),ce},k.__iteratorUncached=function(Z,ae){var oe=this;if(ae)return this.cacheResult().__iterator(Z,ae);var ce=e.__iterator(v,ae),Se=!0;return new r(function(){if(!Se)return s();var Ce=ce.next();if(Ce.done)return Ce;var Fe=Ce.value,Ge=Fe[0],ze=Fe[1];return g.call(A,ze,Ge,oe)?Z===v?Ce:p(Z,Ge,ze,Ce):(Se=!1,s())})},k}function Kr(e,g,A,k){var Z=Mt(e);return Z.__iterateUncached=function(ae,oe){var ce=this;if(oe)return this.cacheResult().__iterate(ae,oe);var Se=!0,Ce=0;return e.__iterate(function(Fe,Ge,ze){if(!(Se&&(Se=g.call(A,Fe,Ge,ze))))return Ce++,ae(Fe,k?Ge:Ce-1,ce)}),Ce},Z.__iteratorUncached=function(ae,oe){var ce=this;if(oe)return this.cacheResult().__iterator(ae,oe);var Se=e.__iterator(v,oe),Ce=!0,Fe=0;return new r(function(){var Ge,ze,Ze;do{if(Ge=Se.next(),Ge.done)return k||ae===c?Ge:ae===u?p(ae,Fe++,void 0,Ge):p(ae,Fe++,Ge.value[1],Ge);var nt=Ge.value;ze=nt[0],Ze=nt[1],Ce&&(Ce=g.call(A,Ze,ze,ce))}while(Ce);return ae===v?Ge:p(ae,ze,Ze,Ge)})},Z}function On(e,g){var A=S(e),k=[e].concat(g).map(function(oe){return D(oe)?A&&(oe=C(oe)):oe=A?Oe(oe):ge(Array.isArray(oe)?oe:[oe]),oe}).filter(function(oe){return oe.size!==0});if(k.length===0)return e;if(k.length===1){var Z=k[0];if(Z===e||A&&S(Z)||T(e)&&T(Z))return Z}var ae=new ue(k);return A?ae=ae.toKeyedSeq():T(e)||(ae=ae.toSetSeq()),ae=ae.flatten(!0),ae.size=k.reduce(function(oe,ce){if(oe!==void 0){var Se=ce.size;if(Se!==void 0)return oe+Se}},0),ae}function $r(e,g,A){var k=Mt(e);return k.__iterateUncached=function(Z,ae){var oe=0,ce=!1;function Se(Ce,Fe){var Ge=this;Ce.__iterate(function(ze,Ze){return(!g||Fe<g)&&D(ze)?Se(ze,Fe+1):Z(ze,A?Ze:oe++,Ge)===!1&&(ce=!0),!ce},ae)}return Se(e,0),oe},k.__iteratorUncached=function(Z,ae){var oe=e.__iterator(Z,ae),ce=[],Se=0;return new r(function(){for(;oe;){var Ce=oe.next();if(Ce.done!==!1){oe=ce.pop();continue}var Fe=Ce.value;if(Z===v&&(Fe=Fe[1]),(!g||ce.length<g)&&D(Fe))ce.push(oe),oe=Fe.__iterator(Z,ae);else return A?Ce:p(Z,Se++,Fe,Ce)}return s()})},k}function Sn(e,g,A){var k=Yr(e);return e.toSeq().map(function(Z,ae){return k(g.call(A,Z,ae,e))}).flatten(!0)}function Cn(e,g){var A=Mt(e);return A.size=e.size&&e.size*2-1,A.__iterateUncached=function(k,Z){var ae=this,oe=0;return e.__iterate(function(ce,Se){return(!oe||k(g,oe++,ae)!==!1)&&k(ce,oe++,ae)!==!1},Z),oe},A.__iteratorUncached=function(k,Z){var ae=e.__iterator(c,Z),oe=0,ce;return new r(function(){return(!ce||oe%2)&&(ce=ae.next(),ce.done)?ce:oe%2?p(k,oe++,g):p(k,oe++,ce.value,ce)})},A}function er(e,g,A){g||(g=Qr);var k=S(e),Z=0,ae=e.toSeq().map(function(oe,ce){return[ce,oe,Z++,A?A(oe,ce,e):oe]}).toArray();return ae.sort(function(oe,ce){return g(oe[3],ce[3])||oe[2]-ce[2]}).forEach(k?function(oe,ce){ae[ce].length=2}:function(oe,ce){ae[ce]=oe[1]}),k?w(ae):T(e)?$(ae):te(ae)}function dr(e,g,A){if(g||(g=Qr),A){var k=e.toSeq().map(function(Z,ae){return[Z,A(Z,ae,e)]}).reduce(function(Z,ae){return kr(g,Z[1],ae[1])?ae:Z});return k&&k[0]}else return e.reduce(function(Z,ae){return kr(g,Z,ae)?ae:Z})}function kr(e,g,A){var k=e(A,g);return k===0&&A!==g&&(A==null||A!==A)||k>0}function Tr(e,g,A){var k=Mt(e);return k.size=new ue(A).map(function(Z){return Z.size}).min(),k.__iterate=function(Z,ae){for(var oe=this.__iterator(c,ae),ce,Se=0;!(ce=oe.next()).done&&Z(ce.value,Se++,this)!==!1;);return Se},k.__iteratorUncached=function(Z,ae){var oe=A.map(function(Ce){return Ce=d(Ce),Q(ae?Ce.reverse():Ce)}),ce=0,Se=!1;return new r(function(){var Ce;return Se||(Ce=oe.map(function(Fe){return Fe.next()}),Se=Ce.some(function(Fe){return Fe.done})),Se?s():p(Z,ce++,g.apply(null,Ce.map(function(Fe){return Fe.value})))})},k}function st(e,g){return ve(e)?g:e.constructor(g)}function Hr(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Jr(e){return dt(e.size),Y(e)}function Yr(e){return S(e)?C:T(e)?E:B}function Mt(e){return Object.create((S(e)?w:T(e)?$:te).prototype)}function Rr(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):N.prototype.cacheResult.call(this)}function Qr(e,g){return e>g?1:e<g?-1:0}function Xr(e){var g=Q(e);if(!g){if(!L(e))throw new TypeError("Expected iterable or array-like: "+e);g=Q(d(e))}return g}t(It,$e);function It(e,g){var A,k=function(oe){if(oe instanceof k)return oe;if(!(this instanceof k))return new k(oe);if(!A){A=!0;var ce=Object.keys(e);Pn(Z,ce),Z.size=ce.length,Z._name=g,Z._keys=ce,Z._defaultValues=e}this._map=Ve(oe)},Z=k.prototype=Object.create(bt);return Z.constructor=k,k}It.prototype.toString=function(){return this.__toString(Zr(this)+" {","}")},It.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},It.prototype.get=function(e,g){if(!this.has(e))return g;var A=this._defaultValues[e];return this._map?this._map.get(e,A):A},It.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=pr(this,lt()))},It.prototype.set=function(e,g){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Zr(this));if(this._map&&!this._map.has(e)){var A=this._defaultValues[e];if(g===A)return this}var k=this._map&&this._map.set(e,g);return this.__ownerID||k===this._map?this:pr(this,k)},It.prototype.remove=function(e){if(!this.has(e))return this;var g=this._map&&this._map.remove(e);return this.__ownerID||g===this._map?this:pr(this,g)},It.prototype.wasAltered=function(){return this._map.wasAltered()},It.prototype.__iterator=function(e,g){var A=this;return C(this._defaultValues).map(function(k,Z){return A.get(Z)}).__iterator(e,g)},It.prototype.__iterate=function(e,g){var A=this;return C(this._defaultValues).map(function(k,Z){return A.get(Z)}).__iterate(e,g)},It.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var g=this._map&&this._map.__ensureOwner(e);return e?pr(this,g,e):(this.__ownerID=e,this._map=g,this)};var bt=It.prototype;bt[K]=bt.remove,bt.deleteIn=bt.removeIn=Me.removeIn,bt.merge=Me.merge,bt.mergeWith=Me.mergeWith,bt.mergeIn=Me.mergeIn,bt.mergeDeep=Me.mergeDeep,bt.mergeDeepWith=Me.mergeDeepWith,bt.mergeDeepIn=Me.mergeDeepIn,bt.setIn=Me.setIn,bt.update=Me.update,bt.updateIn=Me.updateIn,bt.withMutations=Me.withMutations,bt.asMutable=Me.asMutable,bt.asImmutable=Me.asImmutable;function pr(e,g,A){var k=Object.create(Object.getPrototypeOf(e));return k._map=g,k.__ownerID=A,k}function Zr(e){return e._name||e.constructor.name||"Record"}function Pn(e,g){try{g.forEach(En.bind(void 0,e))}catch{}}function En(e,g){Object.defineProperty(e,g,{get:function(){return this.get(g)},set:function(A){De(this.__ownerID,"Cannot set on an immutable record."),this.set(g,A)}})}t(pt,Je);function pt(e){return e==null?Dr():br(e)&&!F(e)?e:Dr().withMutations(function(g){var A=B(e);dt(A.size),A.forEach(function(k){return g.add(k)})})}pt.of=function(){return this(arguments)},pt.fromKeys=function(e){return this(C(e).keySeq())},pt.prototype.toString=function(){return this.__toString("Set {","}")},pt.prototype.has=function(e){return this._map.has(e)},pt.prototype.add=function(e){return Lr(this,this._map.set(e,!0))},pt.prototype.remove=function(e){return Lr(this,this._map.remove(e))},pt.prototype.clear=function(){return Lr(this,this._map.clear())},pt.prototype.union=function(){var e=f.call(arguments,0);return e=e.filter(function(g){return g.size!==0}),e.length===0?this:this.size===0&&!this.__ownerID&&e.length===1?this.constructor(e[0]):this.withMutations(function(g){for(var A=0;A<e.length;A++)B(e[A]).forEach(function(k){return g.add(k)})})},pt.prototype.intersect=function(){var e=f.call(arguments,0);if(e.length===0)return this;e=e.map(function(A){return B(A)});var g=this;return this.withMutations(function(A){g.forEach(function(k){e.every(function(Z){return Z.includes(k)})||A.remove(k)})})},pt.prototype.subtract=function(){var e=f.call(arguments,0);if(e.length===0)return this;e=e.map(function(A){return B(A)});var g=this;return this.withMutations(function(A){g.forEach(function(k){e.some(function(Z){return Z.includes(k)})&&A.remove(k)})})},pt.prototype.merge=function(){return this.union.apply(this,arguments)},pt.prototype.mergeWith=function(e){var g=f.call(arguments,1);return this.union.apply(this,g)},pt.prototype.sort=function(e){return jt(er(this,e))},pt.prototype.sortBy=function(e,g){return jt(er(this,g,e))},pt.prototype.wasAltered=function(){return this._map.wasAltered()},pt.prototype.__iterate=function(e,g){var A=this;return this._map.__iterate(function(k,Z){return e(Z,Z,A)},g)},pt.prototype.__iterator=function(e,g){return this._map.map(function(A,k){return k}).__iterator(e,g)},pt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var g=this._map.__ensureOwner(e);return e?this.__make(g,e):(this.__ownerID=e,this._map=g,this)};function br(e){return!!(e&&e[qr])}pt.isSet=br;var qr="@@__IMMUTABLE_SET__@@",At=pt.prototype;At[qr]=!0,At[K]=At.remove,At.mergeDeep=At.merge,At.mergeDeepWith=At.mergeWith,At.withMutations=Me.withMutations,At.asMutable=Me.asMutable,At.asImmutable=Me.asImmutable,At.__empty=Dr,At.__make=_r;function Lr(e,g){return e.__ownerID?(e.size=g.size,e._map=g,e):g===e._map?e:g.size===0?e.__empty():e.__make(g)}function _r(e,g){var A=Object.create(At);return A.size=e?e.size:0,A._map=e,A.__ownerID=g,A}var en;function Dr(){return en||(en=_r(lt()))}t(jt,pt);function jt(e){return e==null?Nr():tn(e)?e:Nr().withMutations(function(g){var A=B(e);dt(A.size),A.forEach(function(k){return g.add(k)})})}jt.of=function(){return this(arguments)},jt.fromKeys=function(e){return this(C(e).keySeq())},jt.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function tn(e){return br(e)&&F(e)}jt.isOrderedSet=tn;var vr=jt.prototype;vr[J]=!0,vr.__empty=Nr,vr.__make=rn;function rn(e,g){var A=Object.create(vr);return A.size=e?e.size:0,A._map=e,A.__ownerID=g,A}var nn;function Nr(){return nn||(nn=rn(cr()))}t(Ft,Ue);function Ft(e){return e==null?Ir():an(e)?e:Ir().unshiftAll(e)}Ft.of=function(){return this(arguments)},Ft.prototype.toString=function(){return this.__toString("Stack [","]")},Ft.prototype.get=function(e,g){var A=this._head;for(e=j(this,e);A&&e--;)A=A.next;return A?A.value:g},Ft.prototype.peek=function(){return this._head&&this._head.value},Ft.prototype.push=function(){if(arguments.length===0)return this;for(var e=this.size+arguments.length,g=this._head,A=arguments.length-1;A>=0;A--)g={value:arguments[A],next:g};return this.__ownerID?(this.size=e,this._head=g,this.__hash=void 0,this.__altered=!0,this):lr(e,g)},Ft.prototype.pushAll=function(e){if(e=E(e),e.size===0)return this;dt(e.size);var g=this.size,A=this._head;return e.reverse().forEach(function(k){g++,A={value:k,next:A}}),this.__ownerID?(this.size=g,this._head=A,this.__hash=void 0,this.__altered=!0,this):lr(g,A)},Ft.prototype.pop=function(){return this.slice(1)},Ft.prototype.unshift=function(){return this.push.apply(this,arguments)},Ft.prototype.unshiftAll=function(e){return this.pushAll(e)},Ft.prototype.shift=function(){return this.pop.apply(this,arguments)},Ft.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Ir()},Ft.prototype.slice=function(e,g){if(h(e,g,this.size))return this;var A=l(e,this.size),k=a(g,this.size);if(k!==this.size)return Ue.prototype.slice.call(this,e,g);for(var Z=this.size-A,ae=this._head;A--;)ae=ae.next;return this.__ownerID?(this.size=Z,this._head=ae,this.__hash=void 0,this.__altered=!0,this):lr(Z,ae)},Ft.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?lr(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Ft.prototype.__iterate=function(e,g){if(g)return this.reverse().__iterate(e);for(var A=0,k=this._head;k&&e(k.value,A++,this)!==!1;)k=k.next;return A},Ft.prototype.__iterator=function(e,g){if(g)return this.reverse().__iterator(e);var A=0,k=this._head;return new r(function(){if(k){var Z=k.value;return k=k.next,p(e,A++,Z)}return s()})};function an(e){return!!(e&&e[un])}Ft.isStack=an;var un="@@__IMMUTABLE_STACK__@@",tr=Ft.prototype;tr[un]=!0,tr.withMutations=Me.withMutations,tr.asMutable=Me.asMutable,tr.asImmutable=Me.asImmutable,tr.wasAltered=Me.wasAltered;function lr(e,g,A,k){var Z=Object.create(tr);return Z.size=e,Z._head=g,Z.__ownerID=A,Z.__hash=k,Z.__altered=!1,Z}var on;function Ir(){return on||(on=lr(0))}function Wt(e,g){var A=function(k){e.prototype[k]=g[k]};return Object.keys(g).forEach(A),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(g).forEach(A),e}d.Iterator=r,Wt(d,{toArray:function(){dt(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(g,A){e[A]=g}),e},toIndexedSeq:function(){return new Zt(this)},toJS:function(){return this.toSeq().map(function(e){return e&&typeof e.toJS=="function"?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&typeof e.toJSON=="function"?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new wt(this,!0)},toMap:function(){return Ve(this.toKeyedSeq())},toObject:function(){dt(this.size);var e={};return this.__iterate(function(g,A){e[A]=g}),e},toOrderedMap:function(){return Pt(this.toKeyedSeq())},toOrderedSet:function(){return jt(S(this)?this.valueSeq():this)},toSet:function(){return pt(S(this)?this.valueSeq():this)},toSetSeq:function(){return new qt(this)},toSeq:function(){return T(this)?this.toIndexedSeq():S(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ft(S(this)?this.valueSeq():this)},toList:function(){return ct(S(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,g){return this.size===0?e+g:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+g},concat:function(){var e=f.call(arguments,0);return st(this,On(this,e))},includes:function(e){return this.some(function(g){return de(g,e)})},entries:function(){return this.__iterator(v)},every:function(e,g){dt(this.size);var A=!0;return this.__iterate(function(k,Z,ae){if(!e.call(g,k,Z,ae))return A=!1,!1}),A},filter:function(e,g){return st(this,xr(this,e,g,!0))},find:function(e,g,A){var k=this.findEntry(e,g);return k?k[1]:A},forEach:function(e,g){return dt(this.size),this.__iterate(g?e.bind(g):e)},join:function(e){dt(this.size),e=e!==void 0?""+e:",";var g="",A=!0;return this.__iterate(function(k){A?A=!1:g+=e,g+=k!=null?k.toString():""}),g},keys:function(){return this.__iterator(u)},map:function(e,g){return st(this,zr(this,e,g))},reduce:function(e,g,A){dt(this.size);var k,Z;return arguments.length<2?Z=!0:k=g,this.__iterate(function(ae,oe,ce){Z?(Z=!1,k=ae):k=e.call(A,k,ae,oe,ce)}),k},reduceRight:function(e,g,A){var k=this.toKeyedSeq().reverse();return k.reduce.apply(k,arguments)},reverse:function(){return st(this,Er(this,!0))},slice:function(e,g){return st(this,Fr(this,e,g,!0))},some:function(e,g){return!this.every(hr(e),g)},sort:function(e){return st(this,er(this,e))},values:function(){return this.__iterator(c)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,g){return Y(e?this.toSeq().filter(e,g):this)},countBy:function(e,g){return hn(this,e,g)},equals:function(e){return Pe(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ue(e._cache);var g=e.toSeq().map(Tn).toIndexedSeq();return g.fromEntrySeq=function(){return e.toSeq()},g},filterNot:function(e,g){return this.filter(hr(e),g)},findEntry:function(e,g,A){var k=A;return this.__iterate(function(Z,ae,oe){if(e.call(g,Z,ae,oe))return k=[ae,Z],!1}),k},findKey:function(e,g){var A=this.findEntry(e,g);return A&&A[0]},findLast:function(e,g,A){return this.toKeyedSeq().reverse().find(e,g,A)},findLastEntry:function(e,g,A){return this.toKeyedSeq().reverse().findEntry(e,g,A)},findLastKey:function(e,g){return this.toKeyedSeq().reverse().findKey(e,g)},first:function(){return this.find(y)},flatMap:function(e,g){return st(this,Sn(this,e,g))},flatten:function(e){return st(this,$r(this,e,!0))},fromEntrySeq:function(){return new _t(this)},get:function(e,g){return this.find(function(A,k){return de(k,e)},void 0,g)},getIn:function(e,g){for(var A=this,k=Xr(e),Z;!(Z=k.next()).done;){var ae=Z.value;if(A=A&&A.get?A.get(ae,R):R,A===R)return g}return A},groupBy:function(e,g){return mn(this,e,g)},has:function(e){return this.get(e,R)!==R},hasIn:function(e){return this.getIn(e,R)!==R},isSubset:function(e){return e=typeof e.includes=="function"?e:d(e),this.every(function(g){return e.includes(g)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:d(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(g){return de(g,e)})},keySeq:function(){return this.toSeq().map(Fn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return dr(this,e)},maxBy:function(e,g){return dr(this,g,e)},min:function(e){return dr(this,e?ln(e):fn)},minBy:function(e,g){return dr(this,g?ln(g):fn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return st(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,g){return st(this,Kr(this,e,g,!0))},skipUntil:function(e,g){return this.skipWhile(hr(e),g)},sortBy:function(e,g){return st(this,er(this,g,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return st(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,g){return st(this,yn(this,e,g))},takeUntil:function(e,g){return this.takeWhile(hr(e),g)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=bn(this))}});var Nt=d.prototype;Nt[x]=!0,Nt[n]=Nt.values,Nt.__toJS=Nt.toArray,Nt.__toStringMapper=sn,Nt.inspect=Nt.toSource=function(){return this.toString()},Nt.chain=Nt.flatMap,Nt.contains=Nt.includes,Wt(C,{flip:function(){return st(this,Br(this))},mapEntries:function(e,g){var A=this,k=0;return st(this,this.toSeq().map(function(Z,ae){return e.call(g,[ae,Z],k++,A)}).fromEntrySeq())},mapKeys:function(e,g){var A=this;return st(this,this.toSeq().flip().map(function(k,Z){return e.call(g,k,Z,A)}).flip())}});var gr=C.prototype;gr[V]=!0,gr[n]=Nt.entries,gr.__toJS=Nt.toObject,gr.__toStringMapper=function(e,g){return JSON.stringify(g)+": "+sn(e)},Wt(E,{toKeyedSeq:function(){return new wt(this,!1)},filter:function(e,g){return st(this,xr(this,e,g,!1))},findIndex:function(e,g){var A=this.findEntry(e,g);return A?A[0]:-1},indexOf:function(e){var g=this.keyOf(e);return g===void 0?-1:g},lastIndexOf:function(e){var g=this.lastKeyOf(e);return g===void 0?-1:g},reverse:function(){return st(this,Er(this,!1))},slice:function(e,g){return st(this,Fr(this,e,g,!1))},splice:function(e,g){var A=arguments.length;if(g=Math.max(g|0,0),A===0||A===2&&!g)return this;e=l(e,e<0?this.count():this.size);var k=this.slice(0,e);return st(this,A===1?k:k.concat(_(arguments,2),this.slice(e+g)))},findLastIndex:function(e,g){var A=this.findLastEntry(e,g);return A?A[0]:-1},first:function(){return this.get(0)},flatten:function(e){return st(this,$r(this,e,!1))},get:function(e,g){return e=j(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?g:this.find(function(A,k){return k===e},void 0,g)},has:function(e){return e=j(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return st(this,Cn(this,e))},interleave:function(){var e=[this].concat(_(arguments)),g=Tr(this.toSeq(),$.of,e),A=g.flatten(!0);return g.size&&(A.size=g.size*e.length),st(this,A)},keySeq:function(){return Ee(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,g){return st(this,Kr(this,e,g,!1))},zip:function(){var e=[this].concat(_(arguments));return st(this,Tr(this,Rn,e))},zipWith:function(e){var g=_(arguments);return g[0]=this,st(this,Tr(this,e,g))}}),E.prototype[U]=!0,E.prototype[J]=!0,Wt(B,{get:function(e,g){return this.has(e)?e:g},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),B.prototype.has=Nt.includes,B.prototype.contains=B.prototype.includes,Wt(w,C.prototype),Wt($,E.prototype),Wt(te,B.prototype),Wt($e,C.prototype),Wt(Ue,E.prototype),Wt(Je,B.prototype);function Fn(e,g){return g}function Tn(e,g){return[g,e]}function hr(e){return function(){return!e.apply(this,arguments)}}function ln(e){return function(){return-e.apply(this,arguments)}}function sn(e){return typeof e=="string"?JSON.stringify(e):String(e)}function Rn(){return _(arguments)}function fn(e,g){return e<g?1:e>g?-1:0}function bn(e){if(e.size===1/0)return 0;var g=F(e),A=S(e),k=g?1:0,Z=e.__iterate(A?g?function(ae,oe){k=31*k+cn(ke(ae),ke(oe))|0}:function(ae,oe){k=k+cn(ke(ae),ke(oe))|0}:g?function(ae){k=31*k+ke(ae)|0}:function(ae){k=k+ke(ae)|0});return Ln(Z,k)}function Ln(e,g){return g=qe(g,3432918353),g=qe(g<<15|g>>>-15,461845907),g=qe(g<<13|g>>>-13,5),g=(g+3864292196|0)^e,g=qe(g^g>>>16,2246822507),g=qe(g^g>>>13,3266489909),g=Qe(g^g>>>16),g}function cn(e,g){return e^g+2654435769+(e<<6)+(e>>2)|0}var Dn={Iterable:d,Seq:N,Collection:Be,Map:Ve,OrderedMap:Pt,List:ct,Stack:Ft,Set:pt,OrderedSet:jt,Record:It,Range:Ee,Repeat:be,is:de,fromJS:We};return Dn})},88671:(ie,f)=>{"use strict";var t;/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d=60103,C=60106,E=60107,B=60108,D=60114,S=60109,T=60110,P=60112,F=60113,x=60120,V=60115,U=60116,J=60121,K=60122,ee=60117,I=60129,X=60131;if(typeof Symbol=="function"&&Symbol.for){var R=Symbol.for;d=R("react.element"),C=R("react.portal"),E=R("react.fragment"),B=R("react.strict_mode"),D=R("react.profiler"),S=R("react.provider"),T=R("react.context"),P=R("react.forward_ref"),F=R("react.suspense"),x=R("react.suspense_list"),V=R("react.memo"),U=R("react.lazy"),J=R("react.block"),K=R("react.server.block"),ee=R("react.fundamental"),I=R("react.debug_trace_mode"),X=R("react.legacy_hidden")}function W(a){if(typeof a=="object"&&a!==null){var i=a.$$typeof;switch(i){case d:switch(a=a.type,a){case E:case D:case B:case F:case x:return a;default:switch(a=a&&a.$$typeof,a){case T:case P:case U:case V:case S:return a;default:return i}}case C:return i}}}var M=S,G=d,z=P,q=E,_=U,Y=V,j=C,y=D,h=B,l=F;t=T,t=M,t=G,t=z,t=q,t=_,t=Y,t=j,t=y,t=h,t=l,t=function(){return!1},t=function(){return!1},f.isContextConsumer=function(a){return W(a)===T},t=function(a){return W(a)===S},t=function(a){return typeof a=="object"&&a!==null&&a.$$typeof===d},t=function(a){return W(a)===P},t=function(a){return W(a)===E},t=function(a){return W(a)===U},t=function(a){return W(a)===V},t=function(a){return W(a)===C},t=function(a){return W(a)===D},t=function(a){return W(a)===B},t=function(a){return W(a)===F},t=function(a){return typeof a=="string"||typeof a=="function"||a===E||a===D||a===I||a===B||a===F||a===x||a===X||typeof a=="object"&&a!==null&&(a.$$typeof===U||a.$$typeof===V||a.$$typeof===S||a.$$typeof===T||a.$$typeof===P||a.$$typeof===ee||a.$$typeof===J||a[0]===K)},t=W},69339:(ie,f,t)=>{"use strict";ie.exports=t(88671)},64249:(ie,f,t)=>{"use strict";t.r(f),t.d(f,{Provider:()=>J,ReactReduxContext:()=>C,batch:()=>Ke.unstable_batchedUpdates,connect:()=>me,connectAdvanced:()=>l,createDispatchHook:()=>Te,createSelectorHook:()=>We,createStoreHook:()=>Oe,shallowEqual:()=>i,useDispatch:()=>Ne,useSelector:()=>je,useStore:()=>ge});var d=t(96540),C=d.createContext(null);const E=null;function B(fe){fe()}var D=B,S=function(de){return D=de},T=function(){return D};function P(){var fe=T(),de=null,Pe=null;return{clear:function(){de=null,Pe=null},notify:function(){fe(function(){for(var Re=de;Re;)Re.callback(),Re=Re.next})},get:function(){for(var Re=[],De=de;De;)Re.push(De),De=De.next;return Re},subscribe:function(Re){var De=!0,Ee=Pe={callback:Re,next:null,prev:Pe};return Ee.prev?Ee.prev.next=Ee:de=Ee,function(){!De||de===null||(De=!1,Ee.next?Ee.next.prev=Ee.prev:Pe=Ee.prev,Ee.prev?Ee.prev.next=Ee.next:de=Ee.next)}}}}var F={notify:function(){},get:function(){return[]}};function x(fe,de){var Pe,be=F;function Re(Je){return Be(),be.subscribe(Je)}function De(){be.notify()}function Ee(){Ue.onStateChange&&Ue.onStateChange()}function Ae(){return!!Pe}function Be(){Pe||(Pe=de?de.addNestedSub(Ee):fe.subscribe(Ee),be=P())}function $e(){Pe&&(Pe(),Pe=void 0,be.clear(),be=F)}var Ue={addNestedSub:Re,notifyNestedSubs:De,handleChangeWrapper:Ee,isSubscribed:Ae,trySubscribe:Be,tryUnsubscribe:$e,getListeners:function(){return be}};return Ue}var V=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?d.useLayoutEffect:d.useEffect;function U(fe){var de=fe.store,Pe=fe.context,be=fe.children,Re=(0,d.useMemo)(function(){var Ae=x(de);return{store:de,subscription:Ae}},[de]),De=(0,d.useMemo)(function(){return de.getState()},[de]);V(function(){var Ae=Re.subscription;return Ae.onStateChange=Ae.notifyNestedSubs,Ae.trySubscribe(),De!==de.getState()&&Ae.notifyNestedSubs(),function(){Ae.tryUnsubscribe(),Ae.onStateChange=null}},[Re,De]);var Ee=Pe||C;return d.createElement(Ee.Provider,{value:Re},be)}const J=U;var K=t(58168),ee=t(53825),I=t(4146),X=t.n(I),R=t(69339),W=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],M=["reactReduxForwardedRef"],G=[],z=[null,null],q=function(de){try{return JSON.stringify(de)}catch{return String(de)}};function _(fe,de){var Pe=fe[1];return[de.payload,Pe+1]}function Y(fe,de,Pe){V(function(){return fe.apply(void 0,de)},Pe)}function j(fe,de,Pe,be,Re,De,Ee){fe.current=be,de.current=Re,Pe.current=!1,De.current&&(De.current=null,Ee())}function y(fe,de,Pe,be,Re,De,Ee,Ae,Be,$e){if(fe){var Ue=!1,Je=null,qe=function(){if(!Ue){var rt=de.getState(),et,it;try{et=be(rt,Re.current)}catch(gt){it=gt,Je=gt}it||(Je=null),et===De.current?Ee.current||Be():(De.current=et,Ae.current=et,Ee.current=!0,$e({type:"STORE_UPDATED",payload:{error:it}}))}};Pe.onStateChange=qe,Pe.trySubscribe(),qe();var Qe=function(){if(Ue=!0,Pe.tryUnsubscribe(),Pe.onStateChange=null,Je)throw Je};return Qe}}var h=function(){return[null,0]};function l(fe,de){de===void 0&&(de={});var Pe=de,be=Pe.getDisplayName,Re=be===void 0?function(yt){return"ConnectAdvanced("+yt+")"}:be,De=Pe.methodName,Ee=De===void 0?"connectAdvanced":De,Ae=Pe.renderCountProp,Be=Ae===void 0?void 0:Ae,$e=Pe.shouldHandleStateChanges,Ue=$e===void 0?!0:$e,Je=Pe.storeKey,qe=Je===void 0?"store":Je,Qe=Pe.withRef,ke=Qe===void 0?!1:Qe,rt=Pe.forwardRef,et=rt===void 0?!1:rt,it=Pe.context,gt=it===void 0?C:it,He=(0,ee.A)(Pe,W);if(0)var ut;var mt=gt;return function(Ot){var tt=Ot.displayName||Ot.name||"Component",at=Re(tt),ht=(0,K.A)({},He,{getDisplayName:Re,methodName:Ee,renderCountProp:Be,shouldHandleStateChanges:Ue,storeKey:qe,displayName:at,wrappedComponentName:tt,WrappedComponent:Ot}),ot=He.pure;function Tt(Me){return fe(Me.dispatch,ht)}var dt=ot?d.useMemo:function(Me){return Me()};function Ve(Me){var Ct=(0,d.useMemo)(function(){var Kt=Me.reactReduxForwardedRef,ar=(0,ee.A)(Me,M);return[Me.context,Kt,ar]},[Me]),Et=Ct[0],Rt=Ct[1],Lt=Ct[2],xe=(0,d.useMemo)(function(){return Et&&Et.Consumer&&(0,R.isContextConsumer)(d.createElement(Et.Consumer,null))?Et:mt},[Et,mt]),ft=(0,d.useContext)(xe),le=!!Me.store&&!!Me.store.getState&&!!Me.store.dispatch,he=!!ft&&!!ft.store,Le=le?Me.store:ft.store,Ye=(0,d.useMemo)(function(){return Tt(Le)},[Le]),lt=(0,d.useMemo)(function(){if(!Ue)return z;var Kt=x(Le,le?null:ft.subscription),ar=Kt.notifyNestedSubs.bind(Kt);return[Kt,ar]},[Le,le,ft]),St=lt[0],$t=lt[1],rr=(0,d.useMemo)(function(){return le?ft:(0,K.A)({},ft,{subscription:St})},[le,ft,St]),kt=(0,d.useReducer)(_,G,h),yr=kt[0],Ht=yr[0],Or=kt[1];if(Ht&&Ht.error)throw Ht.error;var zt=(0,d.useRef)(),Jt=(0,d.useRef)(Lt),xt=(0,d.useRef)(),nr=(0,d.useRef)(!1),Yt=dt(function(){return xt.current&&Lt===Jt.current?xt.current:Ye(Le.getState(),Lt)},[Le,Ht,Lt]);Y(j,[Jt,zt,nr,Lt,Yt,xt,$t]),Y(y,[Ue,Le,St,Ye,Jt,zt,nr,xt,$t,Or],[Le,St,Ye]);var Qt=(0,d.useMemo)(function(){return d.createElement(Ot,(0,K.A)({},Yt,{ref:Rt}))},[Rt,Ot,Yt]),sr=(0,d.useMemo)(function(){return Ue?d.createElement(xe.Provider,{value:rr},Qt):Qt},[xe,Qt,rr]);return sr}var Xe=ot?d.memo(Ve):Ve;if(Xe.WrappedComponent=Ot,Xe.displayName=Ve.displayName=at,et){var _e=d.forwardRef(function(Ct,Et){return d.createElement(Xe,(0,K.A)({},Ct,{reactReduxForwardedRef:Et}))});return _e.displayName=at,_e.WrappedComponent=Ot,X()(_e,Ot)}return X()(Xe,Ot)}}function a(fe,de){return fe===de?fe!==0||de!==0||1/fe===1/de:fe!==fe&&de!==de}function i(fe,de){if(a(fe,de))return!0;if(typeof fe!="object"||fe===null||typeof de!="object"||de===null)return!1;var Pe=Object.keys(fe),be=Object.keys(de);if(Pe.length!==be.length)return!1;for(var Re=0;Re<Pe.length;Re++)if(!Object.prototype.hasOwnProperty.call(de,Pe[Re])||!a(fe[Pe[Re]],de[Pe[Re]]))return!1;return!0}function u(fe,de){var Pe={},be=function(Ee){var Ae=fe[Ee];typeof Ae=="function"&&(Pe[Ee]=function(){return de(Ae.apply(void 0,arguments))})};for(var Re in fe)be(Re);return Pe}function c(fe){return function(Pe,be){var Re=fe(Pe,be);function De(){return Re}return De.dependsOnOwnProps=!1,De}}function v(fe){return fe.dependsOnOwnProps!==null&&fe.dependsOnOwnProps!==void 0?!!fe.dependsOnOwnProps:fe.length!==1}function m(fe,de){return function(be,Re){var De=Re.displayName,Ee=function(Be,$e){return Ee.dependsOnOwnProps?Ee.mapToProps(Be,$e):Ee.mapToProps(Be)};return Ee.dependsOnOwnProps=!0,Ee.mapToProps=function(Be,$e){Ee.mapToProps=fe,Ee.dependsOnOwnProps=v(fe);var Ue=Ee(Be,$e);return typeof Ue=="function"&&(Ee.mapToProps=Ue,Ee.dependsOnOwnProps=v(Ue),Ue=Ee(Be,$e)),Ue},Ee}}function o(fe){return typeof fe=="function"?m(fe,"mapDispatchToProps"):void 0}function n(fe){return fe?void 0:c(function(de){return{dispatch:de}})}function r(fe){return fe&&typeof fe=="object"?c(function(de){return u(fe,de)}):void 0}const p=[o,n,r];function s(fe){return typeof fe=="function"?m(fe,"mapStateToProps"):void 0}function O(fe){return fe?void 0:c(function(){return{}})}const b=[s,O];function Q(fe,de,Pe){return(0,K.A)({},Pe,fe,de)}function H(fe){return function(Pe,be){var Re=be.displayName,De=be.pure,Ee=be.areMergedPropsEqual,Ae=!1,Be;return function(Ue,Je,qe){var Qe=fe(Ue,Je,qe);return Ae?(!De||!Ee(Qe,Be))&&(Be=Qe):(Ae=!0,Be=Qe),Be}}}function L(fe){return typeof fe=="function"?H(fe):void 0}function N(fe){return fe?void 0:function(){return Q}}const w=[L,N];var $=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function te(fe,de,Pe,be){return function(De,Ee){return Pe(fe(De,Ee),de(be,Ee),Ee)}}function re(fe,de,Pe,be,Re){var De=Re.areStatesEqual,Ee=Re.areOwnPropsEqual,Ae=Re.areStatePropsEqual,Be=!1,$e,Ue,Je,qe,Qe;function ke(He,ut){return $e=He,Ue=ut,Je=fe($e,Ue),qe=de(be,Ue),Qe=Pe(Je,qe,Ue),Be=!0,Qe}function rt(){return Je=fe($e,Ue),de.dependsOnOwnProps&&(qe=de(be,Ue)),Qe=Pe(Je,qe,Ue),Qe}function et(){return fe.dependsOnOwnProps&&(Je=fe($e,Ue)),de.dependsOnOwnProps&&(qe=de(be,Ue)),Qe=Pe(Je,qe,Ue),Qe}function it(){var He=fe($e,Ue),ut=!Ae(He,Je);return Je=He,ut&&(Qe=Pe(Je,qe,Ue)),Qe}function gt(He,ut){var mt=!Ee(ut,Ue),yt=!De(He,$e,ut,Ue);return $e=He,Ue=ut,mt&&yt?rt():mt?et():yt?it():Qe}return function(ut,mt){return Be?gt(ut,mt):ke(ut,mt)}}function ue(fe,de){var Pe=de.initMapStateToProps,be=de.initMapDispatchToProps,Re=de.initMergeProps,De=(0,ee.A)(de,$),Ee=Pe(fe,De),Ae=be(fe,De),Be=Re(fe,De),$e=De.pure?re:te;return $e(Ee,Ae,Be,fe,De)}var ne=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function pe(fe,de,Pe){for(var be=de.length-1;be>=0;be--){var Re=de[be](fe);if(Re)return Re}return function(De,Ee){throw new Error("Invalid value of type "+typeof fe+" for "+Pe+" argument when connecting component "+Ee.wrappedComponentName+".")}}function se(fe,de){return fe===de}function ve(fe){var de=fe===void 0?{}:fe,Pe=de.connectHOC,be=Pe===void 0?l:Pe,Re=de.mapStateToPropsFactories,De=Re===void 0?b:Re,Ee=de.mapDispatchToPropsFactories,Ae=Ee===void 0?p:Ee,Be=de.mergePropsFactories,$e=Be===void 0?w:Be,Ue=de.selectorFactory,Je=Ue===void 0?ue:Ue;return function(Qe,ke,rt,et){et===void 0&&(et={});var it=et,gt=it.pure,He=gt===void 0?!0:gt,ut=it.areStatesEqual,mt=ut===void 0?se:ut,yt=it.areOwnPropsEqual,Ot=yt===void 0?i:yt,tt=it.areStatePropsEqual,at=tt===void 0?i:tt,ht=it.areMergedPropsEqual,ot=ht===void 0?i:ht,Tt=(0,ee.A)(it,ne),dt=pe(Qe,De,"mapStateToProps"),Ve=pe(ke,Ae,"mapDispatchToProps"),Xe=pe(rt,$e,"mergeProps");return be(Je,(0,K.A)({methodName:"connect",getDisplayName:function(Me){return"Connect("+Me+")"},shouldHandleStateChanges:!!Qe,initMapStateToProps:dt,initMapDispatchToProps:Ve,initMergeProps:Xe,pure:He,areStatesEqual:mt,areOwnPropsEqual:Ot,areStatePropsEqual:at,areMergedPropsEqual:ot},Tt))}}const me=ve();function ye(){var fe=(0,d.useContext)(C);return fe}function Oe(fe){fe===void 0&&(fe=C);var de=fe===C?ye:function(){return(0,d.useContext)(fe)};return function(){var be=de(),Re=be.store;return Re}}var ge=Oe();function Te(fe){fe===void 0&&(fe=C);var de=fe===C?ge:Oe(fe);return function(){var be=de();return be.dispatch}}var Ne=Te(),Ie=function(de,Pe){return de===Pe};function we(fe,de,Pe,be){var Re=(0,d.useReducer)(function(ke){return ke+1},0),De=Re[1],Ee=(0,d.useMemo)(function(){return x(Pe,be)},[Pe,be]),Ae=(0,d.useRef)(),Be=(0,d.useRef)(),$e=(0,d.useRef)(),Ue=(0,d.useRef)(),Je=Pe.getState(),qe;try{if(fe!==Be.current||Je!==$e.current||Ae.current){var Qe=fe(Je);Ue.current===void 0||!de(Qe,Ue.current)?qe=Qe:qe=Ue.current}else qe=Ue.current}catch(ke){throw Ae.current&&(ke.message+=`
The error may be correlated with this previous error:
`+Ae.current.stack+`

`),ke}return V(function(){Be.current=fe,$e.current=Je,Ue.current=qe,Ae.current=void 0}),V(function(){function ke(){try{var rt=Pe.getState();if(rt===$e.current)return;var et=Be.current(rt);if(de(et,Ue.current))return;Ue.current=et,$e.current=rt}catch(it){Ae.current=it}De()}return Ee.onStateChange=ke,Ee.trySubscribe(),ke(),function(){return Ee.tryUnsubscribe()}},[Pe,Ee]),qe}function We(fe){fe===void 0&&(fe=C);var de=fe===C?ye:function(){return(0,d.useContext)(fe)};return function(be,Re){Re===void 0&&(Re=Ie);var De=de(),Ee=De.store,Ae=De.subscription,Be=we(be,Re,Ee,Ae);return(0,d.useDebugValue)(Be),Be}}var je=We(),Ke=t(40961);S(Ke.unstable_batchedUpdates)},21450:function(ie){(function(t,d){ie.exports=d()})(this,function(){return function(f){var t={};function d(C){if(t[C])return t[C].exports;var E=t[C]={i:C,l:!1,exports:{}};return f[C].call(E.exports,E,E.exports,d),E.l=!0,E.exports}return d.m=f,d.c=t,d.d=function(C,E,B){d.o(C,E)||Object.defineProperty(C,E,{configurable:!1,enumerable:!0,get:B})},d.n=function(C){var E=C&&C.__esModule?function(){return C.default}:function(){return C};return d.d(E,"a",E),E},d.o=function(C,E){return Object.prototype.hasOwnProperty.call(C,E)},d.p="",d(d.s=3)}([function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function C(B,D){var S={},T=B||"Abstract",P=[],F=null,x;if(S._type=T,S.getType=function(){return T},S.setType=function(K){T=K},S.getChildren=function(){return P},S.addChild=function(K){if(K){if(!K.setParent)throw{name:"Error",message:"Trying to add a child which is not a node: "+JSON.stringify(K)};K.setParent(S),P.push(K)}},S.getParent=function(){return F},S.setParent=function(K){F=K},S.getContext=function(K){return x||K.activeContext.peek()},S.setContext=function(K){x=K},S.getStartPosition=function(){return D>>16},S.getEndPosition=function(){return D&65535},S.getValue=function(){throw{name:"MethodNotImplementedException",message:"SpelNode#getValue() must be overridden."}},S.toString=function(){var K="Kind: "+S.getType();K+=", Children: [";for(var ee=0,I=S.getChildren().length;ee<I;ee+=1)K+="{"+S.getChildren()[ee]+"}, ";return K+="]",K},D===0)throw{name:"Error",message:"Position cannot be 0"};for(var V=arguments.length,U=Array(V>2?V-2:0),J=2;J<V;J++)U[J-2]=arguments[J];return U&&U.forEach(function(K){S.addChild(K)}),S}var E=t.SpelNode={create:C}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Stack=C;function C(E){this.elements=E||[]}C.prototype.push=function(E){return this.elements.push(E),E},C.prototype.pop=function(){return this.elements.pop()},C.prototype.peek=function(){return this.elements[this.elements.length-1]},C.prototype.empty=function(){return this.elements.length>0},C.prototype.search=function(E){return this.elements.length-this.elements.indexOf(E)}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var C={LITERAL_INT:1,LITERAL_LONG:2,LITERAL_HEXINT:3,LITERAL_HEXLONG:4,LITERAL_STRING:5,LITERAL_REAL:6,LITERAL_REAL_FLOAT:7,LPAREN:"(",RPAREN:")",COMMA:",",IDENTIFIER:0,COLON:":",HASH:"#",RSQUARE:"]",LSQUARE:"[",LCURLY:"{",RCURLY:"}",DOT:".",PLUS:"+",STAR:"*",MINUS:"-",SELECT_FIRST:"^[",SELECT_LAST:"$[",QMARK:"?",PROJECT:"![",DIV:"/",GE:">=",GT:">",LE:"<=",LT:"<",EQ:"==",NE:"!=",MOD:"%",NOT:"!",ASSIGN:"=",INSTANCEOF:"instanceof",MATCHES:"matches",BETWEEN:"between",SELECT:"?[",POWER:"^",ELVIS:"?:",SAFE_NAVI:"?.",BEAN_REF:"@",SYMBOLIC_OR:"||",SYMBOLIC_AND:"&&",INC:"++",DEC:"--"};function E(D){this.type=D,this.tokenChars=C[D],this._hasPayload=typeof C[D]!="string",typeof C[D]=="number"&&(this._ordinal=C[D])}for(var B in C)C.hasOwnProperty(B)&&(E[B]=new E(B));E.prototype.toString=function(){return this.type+(this.tokenChars.length!==0?"("+this.tokenChars+")":"")},E.prototype.getLength=function(){return this.tokenChars.length},E.prototype.hasPayload=function(){return this._hasPayload},E.prototype.valueOf=function(D){for(var S in C)if(C.hasOwnProperty(S)&&C[S]===D)return E[S]},E.prototype.ordinal=function(){return this._ordinal},t.TokenKind=E},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StandardContext=t.SpelExpressionEvaluator=void 0;var C=d(4),E=d(50);t.SpelExpressionEvaluator=C.SpelExpressionEvaluator,t.StandardContext=E.StandardContext},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpelExpressionEvaluator=void 0;var C=d(5),E=d(1),B={};function D(S,T,P){var F=new E.Stack,x;return T||(T={}),F.push(T),x={rootContext:T,activeContext:F,locals:P},S.getValue(x)}B.compile=function(S){var T=(0,C.SpelExpressionParser)().parse(S);return{eval:function(F,x){return D(T,F,x)},_compiledExpression:T}},B.eval=function(S,T,P){return B.compile(S).eval(T,P)},t.SpelExpressionEvaluator=B},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpelExpressionParser=void 0;var C=d(2),E=d(6),B=d(8),D=d(9),S=d(10),T=d(11),P=d(12),F=d(13),x=d(14),V=d(15),U=d(16),J=d(17),K=d(18),ee=d(19),I=d(20),X=d(21),R=d(22),W=d(23),M=d(24),G=d(25),z=d(26),q=d(27),_=d(28),Y=d(29),j=d(30),y=d(31),h=d(32),l=d(33),a=d(34),i=d(35),u=d(36),c=d(37),v=d(38),m=d(39),o=d(40),n=d(41),r=d(42),p=d(43),s=d(44),O=d(45),b=d(46),Q=d(47),H=d(48),L=d(49),N=t.SpelExpressionParser=function(){var $=new RegExp("[\\p{L}\\p{N}_$]+"),te,re=[],ue,ne,pe,se;function ve(le){te=le}function me(le,he){try{ue=le,ne=E.Tokenizer.tokenize(le),pe=ne.length,se=0,re=[];var Le=ye();return Ve()&&Me(_e().startPos,"MORE_INPUT",Xe().toString()),Le}catch(Ye){throw Ye.message}}function ye(){var le=Oe();if(Ve()){var he=_e();if(he.getKind()===C.TokenKind.ASSIGN){le===null&&(le=T.NullLiteral.create(ft(he.startPos-1,he.endPos-1))),Xe();var Le=Oe();return K.Assign.create(xe(he),le,Le)}if(he.getKind()===C.TokenKind.ELVIS){le===null&&(le=T.NullLiteral.create(ft(he.startPos-1,he.endPos-2))),Xe();var Ye=ye();return Ye===null&&(Ye=T.NullLiteral.create(ft(he.startPos+1,he.endPos+1))),v.Elvis.create(xe(he),le,Ye)}if(he.getKind()===C.TokenKind.QMARK){le===null&&(le=T.NullLiteral.create(ft(he.startPos-1,he.endPos-1))),Xe();var lt=ye();tt(C.TokenKind.COLON);var St=ye();return c.Ternary.create(xe(he),le,lt,St)}}return le}function Oe(){for(var le=ge();Tt("or")||at(C.TokenKind.SYMBOLIC_OR);){var he=Xe(),Le=ge();Et(he,le,Le),le=i.OpOr.create(xe(he),le,Le)}return le}function ge(){for(var le=Te();Tt("and")||at(C.TokenKind.SYMBOLIC_AND);){var he=Xe(),Le=Te();Et(he,le,Le),le=a.OpAnd.create(xe(he),le,Le)}return le}function Te(){var le=Ne(),he=Ot();if(he!==null){var Le=Xe(),Ye=Ne();Et(Le,le,Ye);var lt=he.kind;if(he.isNumericRelationalOperator()){var St=xe(Le);return lt===C.TokenKind.GT?R.OpGT.create(St,le,Ye):lt===C.TokenKind.LT?M.OpLT.create(St,le,Ye):lt===C.TokenKind.LE?W.OpLE.create(St,le,Ye):lt===C.TokenKind.GE?X.OpGE.create(St,le,Ye):lt===C.TokenKind.EQ?ee.OpEQ.create(St,le,Ye):I.OpNE.create(St,le,Ye)}return lt===C.TokenKind.INSTANCEOF?p.OpInstanceof.create(xe(Le),le,Ye):lt===C.TokenKind.MATCHES?u.OpMatches.create(xe(Le),le,Ye):s.OpBetween.create(xe(Le),le,Ye)}return le}function Ne(){for(var le=Ie();ot(C.TokenKind.PLUS,C.TokenKind.MINUS,C.TokenKind.INC);){var he=Xe(),Le=Ie();Lt(he,Le),he.getKind()===C.TokenKind.PLUS?le=G.OpPlus.create(xe(he),le,Le):he.getKind()===C.TokenKind.MINUS&&(le=z.OpMinus.create(xe(he),le,Le))}return le}function Ie(){for(var le=we();ot(C.TokenKind.STAR,C.TokenKind.DIV,C.TokenKind.MOD);){var he=Xe(),Le=we();Et(he,le,Le),he.getKind()===C.TokenKind.STAR?le=q.OpMultiply.create(xe(he),le,Le):he.getKind()===C.TokenKind.DIV?le=_.OpDivide.create(xe(he),le,Le):le=Y.OpModulus.create(xe(he),le,Le)}return le}function we(){var le=We(),he;if(at(C.TokenKind.POWER)){he=Xe();var Le=We();return Lt(he,Le),j.OpPower.create(xe(he),le,Le)}return le!==null&&ot(C.TokenKind.INC,C.TokenKind.DEC)?(he=Xe(),he.getKind()===C.TokenKind.INC?y.OpInc.create(xe(he),!0,le):h.OpDec.create(xe(he),!0,le)):le}function We(){var le,he;return ot(C.TokenKind.PLUS,C.TokenKind.MINUS,C.TokenKind.NOT)?(le=Xe(),he=We(),le.getKind()===C.TokenKind.NOT?l.OpNot.create(xe(le),he):le.getKind()===C.TokenKind.PLUS?G.OpPlus.create(xe(le),he):z.OpMinus.create(xe(le),he)):ot(C.TokenKind.INC,C.TokenKind.DEC)?(le=Xe(),he=We(),le.getKind()===C.TokenKind.INC?y.OpInc.create(xe(le),!1,he):h.OpDec.create(xe(le),!1,he)):je()}function je(){var le=[],he=Ae();for(le.push(he);Ke();)le.push(ut());return le.length===1?le[0]:U.CompoundExpression.create(ft(he.getStartPosition(),le[le.length-1].getEndPosition()),le)}function Ke(){var le=null;return ot(C.TokenKind.DOT,C.TokenKind.SAFE_NAVI)?le=de():le=fe(),le===null?!1:(He(le),!0)}function fe(){return at(C.TokenKind.LSQUARE)&&Qe()?ut():null}function de(){var le=Xe(),he=le.getKind()===C.TokenKind.SAFE_NAVI;return it(he)||Pe()||Je(he)||ke(he)?ut():(_e()===null?Me(le.startPos,"OOD"):Me(le.startPos,"UNEXPECTED_DATA_AFTER_DOT",Ct(_e())),null)}function Pe(){if(!at(C.TokenKind.HASH))return!1;var le=Xe(),he=tt(C.TokenKind.IDENTIFIER),Le=be();return Le===null?(He(V.VariableReference.create(he.data,ft(le.startPos,he.endPos))),!0):(He(P.FunctionReference.create(he.data,ft(le.startPos,he.endPos),Le)),!0)}function be(){if(!at(C.TokenKind.LPAREN))return null;var le=[];return De(le),tt(C.TokenKind.RPAREN),le}function Re(le){at(C.TokenKind.LPAREN)||Me(xe(_e()),"MISSING_CONSTRUCTOR_ARGS"),De(le),tt(C.TokenKind.RPAREN)}function De(le){var he=_e().startPos,Le;do{Xe();var Ye=_e();Ye===null&&Me(he,"RUN_OUT_OF_ARGUMENTS"),Ye.getKind()!==C.TokenKind.RPAREN&&le.push(ye()),Le=_e()}while(Le!==null&&Le.kind===C.TokenKind.COMMA);Le===null&&Me(he,"RUN_OUT_OF_ARGUMENTS")}function Ee(le){return le===null?ue.length:le.startPos}function Ae(){return mt()||yt()||$e()||Ue()||gt()||it(!1)||Pe()||Be()||Je(!1)||ke(!1)||Qe()||qe()?ut():null}function Be(){if(at(C.TokenKind.BEAN_REF)){var le=Xe(),he=null,Le=null;at(C.TokenKind.IDENTIFIER)?(he=tt(C.TokenKind.IDENTIFIER),Le=he.data):at(C.TokenKind.LITERAL_STRING)?(he=tt(C.TokenKind.LITERAL_STRING),Le=he.stringValue(),Le=Le.substring(1,Le.length()-1)):Me(le.startPos,"INVALID_BEAN_REFERENCE");var Ye=b.BeanReference.create(xe(he),Le);return He(Ye),!0}return!1}function $e(){if(at(C.TokenKind.IDENTIFIER)){var le=_e();if(le.stringValue()!=="T")return!1;var he=Xe();if(at(C.TokenKind.RSQUARE))return He(x.PropertyReference.create(he.stringValue(),xe(he))),!0;tt(C.TokenKind.LPAREN);for(var Le=rt(),Ye=0;ht(C.TokenKind.LSQUARE,!0);)tt(C.TokenKind.RSQUARE),Ye++;return tt(C.TokenKind.RPAREN),He(O.TypeReference.create(xe(le),Le,Ye)),!0}return!1}function Ue(){if(at(C.TokenKind.IDENTIFIER)){var le=_e();return le.stringValue().toLowerCase()!=="null"?!1:(Xe(),He(T.NullLiteral.create(xe(le))),!0)}return!1}function Je(le){var he=_e();if(!ht(C.TokenKind.PROJECT,!0))return!1;var Le=ye();return tt(C.TokenKind.RSQUARE),He(r.Projection.create(le,xe(he),Le)),!0}function qe(){var le=_e(),he=[];if(!ht(C.TokenKind.LCURLY,!0))return!1;var Le=null,Ye=_e();if(ht(C.TokenKind.RCURLY,!0))Le=m.InlineList.create(ft(le.startPos,Ye.endPos));else if(ht(C.TokenKind.COLON,!0))Ye=tt(C.TokenKind.RCURLY),Le=o.InlineMap.create(ft(le.startPos,Ye.endPos));else{var lt=ye();if(at(C.TokenKind.RCURLY))he.push(lt),Ye=tt(C.TokenKind.RCURLY),Le=m.InlineList.create(ft(le.startPos,Ye.endPos),he);else if(ht(C.TokenKind.COMMA,!0)){he.push(lt);do he.push(ye());while(ht(C.TokenKind.COMMA,!0));Ye=tt(C.TokenKind.RCURLY),Le=m.InlineList.create(xe(le.startPos,Ye.endPos),he)}else if(ht(C.TokenKind.COLON,!0)){var St=[];for(St.push(lt),St.push(ye());ht(C.TokenKind.COMMA,!0);)St.push(ye()),tt(C.TokenKind.COLON),St.push(ye());Ye=tt(C.TokenKind.RCURLY),Le=o.InlineMap.create(ft(le.startPos,Ye.endPos),St)}else Me(le.startPos,"OOD")}return He(Le),!0}function Qe(){var le=_e();if(!ht(C.TokenKind.LSQUARE,!0))return!1;var he=ye();return tt(C.TokenKind.RSQUARE),He(J.Indexer.create(xe(le),he)),!0}function ke(le){var he=_e();if(!dt())return!1;Xe();var Le=ye();return Le===null&&Me(xe(he),"MISSING_SELECTION_EXPRESSION"),tt(C.TokenKind.RSQUARE),he.getKind()===C.TokenKind.SELECT_FIRST?He(n.Selection.create(le,n.Selection.FIRST,xe(he),Le)):he.getKind()===C.TokenKind.SELECT_LAST?He(n.Selection.create(le,n.Selection.LAST,xe(he),Le)):He(n.Selection.create(le,n.Selection.ALL,xe(he),Le)),!0}function rt(){for(var le=[],he=_e();et(he);)Xe(),he.kind!==C.TokenKind.DOT&&le.push(Q.Identifier.create(he.stringValue(),xe(he))),he=_e();le.length||(he===null&&Me(ue.length(),"OOD"),Me(he.startPos,"NOT_EXPECTED_TOKEN","qualified ID",he.getKind().toString().toLowerCase()));var Le=ft(le[0].getStartPosition(),le[le.length-1].getEndPosition());return H.QualifiedIdentifier.create(Le,le)}function et(le){if(le===null||le.kind===C.TokenKind.LITERAL_STRING)return!1;if(le.kind===C.TokenKind.DOT||le.kind===C.TokenKind.IDENTIFIER)return!0;var he=le.stringValue();return he&&he.length&&$.test(he)}function it(le){if(at(C.TokenKind.IDENTIFIER)){var he=Xe(),Le=be();return Le===null?(He(x.PropertyReference.create(le,he.stringValue(),xe(he))),!0):(He(F.MethodReference.create(le,he.stringValue(),xe(he),Le)),!0)}return!1}function gt(){if(Tt("new")){var le=Xe();if(at(C.TokenKind.RSQUARE))return He(x.PropertyReference.create(le.stringValue(),xe(le))),!0;var he=rt(),Le=[];if(Le.push(he),at(C.TokenKind.LSQUARE)){for(var Ye=[];ht(C.TokenKind.LSQUARE,!0);)at(C.TokenKind.RSQUARE)?Ye.push(null):Ye.push(ye()),tt(C.TokenKind.RSQUARE);qe()&&Le.push(ut()),He(L.ConstructorReference.create(xe(le),Ye,Le))}else Re(Le),He(L.ConstructorReference.create(xe(le),Le));return!0}return!1}function He(le){re.push(le)}function ut(){return re.pop()}function mt(){var le=_e();if(le===null)return!1;if(le.getKind()===C.TokenKind.LITERAL_INT||le.getKind()===C.TokenKind.LITERAL_LONG)He(D.NumberLiteral.create(parseInt(le.stringValue(),10),xe(le)));else if(le.getKind()===C.TokenKind.LITERAL_REAL||le.getKind()===C.TokenKind.LITERAL_REAL_FLOAT)He(D.NumberLiteral.create(parseFloat(le.stringValue()),xe(le)));else if(le.getKind()===C.TokenKind.LITERAL_HEXINT||le.getKind()===C.TokenKind.LITERAL_HEXLONG)He(D.NumberLiteral.create(parseInt(le.stringValue(),16),xe(le)));else if(Tt("true"))He(B.BooleanLiteral.create(!0,xe(le)));else if(Tt("false"))He(B.BooleanLiteral.create(!1,xe(le)));else if(le.getKind()===C.TokenKind.LITERAL_STRING)He(S.StringLiteral.create(le.stringValue(),xe(le)));else return!1;return Xe(),!0}function yt(){if(at(C.TokenKind.LPAREN)){Xe();var le=ye();return tt(C.TokenKind.RPAREN),He(le),!0}else return!1}function Ot(){var le=_e();if(le===null)return null;if(le.isNumericRelationalOperator())return le;if(le.isIdentifier()){var he=le.stringValue();if(he.toLowerCase()==="instanceof")return le.asInstanceOfToken();if(he.toLowerCase()==="matches")return le.asMatchesToken();if(he.toLowerCase()==="between")return le.asBetweenToken()}return null}function tt(le){var he=Xe();return he===null&&Me(ue.length,"OOD"),he.getKind()!==le&&Me(he.startPos,"NOT_EXPECTED_TOKEN",le.toString().toLowerCase(),he.getKind().toString().toLowerCase()),he}function at(le){return ht(le,!1)}function ht(le,he){if(!Ve())return!1;var Le=_e();return Le.getKind()===le?(he&&se++,!0):le===C.TokenKind.IDENTIFIER&&Le.getKind().ordinal()>=C.TokenKind.DIV.ordinal()&&Le.getKind().ordinal()<=C.TokenKind.NOT.ordinal()&&Le.data!==null}function ot(){if(!Ve())return!1;for(var le=_e(),he=Array.prototype.slice.call(arguments),Le=0,Ye=he.length;Le<Ye;Le+=1)if(le.getKind()===he[Le])return!0;return!1}function Tt(le){if(!Ve())return!1;var he=_e();return he.getKind()===C.TokenKind.IDENTIFIER&&he.stringValue().toLowerCase()===le.toLowerCase()}function dt(){if(!Ve())return!1;var le=_e();return le.getKind()===C.TokenKind.SELECT||le.getKind()===C.TokenKind.SELECT_FIRST||le.getKind()===C.TokenKind.SELECT_LAST}function Ve(){return se<ne.length}function Xe(){return se>=pe?null:ne[se++]}function _e(){return se>=pe?null:ne[se]}function Me(le,he,Le,Ye){throw Le&&(he+=`
Expected: `+Le),Ye&&(he+=`
Actual: `+Ye),{name:"InternalParseException",message:"Error occurred while attempting to parse expression '"+ue+"' at position "+le+". Message: "+he}}function Ct(le){return le.getKind().hasPayload()?le.stringValue():le.getKind().toString().toLowerCase()}function Et(le,he,Le){Rt(le,he),Lt(le,Le)}function Rt(le,he){he===null&&Me(le.startPos,"LEFT_OPERAND_PROBLEM")}function Lt(le,he){he===null&&Me(le.startPos,"RIGHT_OPERAND_PROBLEM")}function xe(le){return(le.startPos<<16)+le.endPos}function ft(le,he){return(le<<16)+he}return{setConfiguration:ve,parse:me}}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tokenizer=void 0;var C=d(7),E=d(2),B=["DIV","EQ","GE","GT","LE","LT","MOD","NE","NOT"],D=[],S=1,T=2,P=4;function F(){var U;for(U=48;U<=57;U+=1)D[U]|=S|T;for(U=65;U<=70;U+=1)D[U]|=T;for(U=97;U<=102;U+=1)D[U]|=T;for(U=65;U<=90;U+=1)D[U]|=P;for(U=97;U<=122;U+=1)D[U]|=P}F();function x(U){var J=U,K=U+"\0",ee=K.length,I=0,X=[];function R(){for(var s;I<ee;)if(s=K[I],r(s))z();else switch(s){case"+":y(E.TokenKind.INC)?l(E.TokenKind.INC):h(E.TokenKind.PLUS);break;case"_":z();break;case"-":y(E.TokenKind.DEC)?l(E.TokenKind.DEC):h(E.TokenKind.MINUS);break;case":":h(E.TokenKind.COLON);break;case".":h(E.TokenKind.DOT);break;case",":h(E.TokenKind.COMMA);break;case"*":h(E.TokenKind.STAR);break;case"/":h(E.TokenKind.DIV);break;case"%":h(E.TokenKind.MOD);break;case"(":h(E.TokenKind.LPAREN);break;case")":h(E.TokenKind.RPAREN);break;case"[":h(E.TokenKind.LSQUARE);break;case"#":h(E.TokenKind.HASH);break;case"]":h(E.TokenKind.RSQUARE);break;case"{":h(E.TokenKind.LCURLY);break;case"}":h(E.TokenKind.RCURLY);break;case"@":h(E.TokenKind.BEAN_REF);break;case"^":y(E.TokenKind.SELECT_FIRST)?l(E.TokenKind.SELECT_FIRST):h(E.TokenKind.POWER);break;case"!":y(E.TokenKind.NE)?l(E.TokenKind.NE):y(E.TokenKind.PROJECT)?l(E.TokenKind.PROJECT):h(E.TokenKind.NOT);break;case"=":y(E.TokenKind.EQ)?l(E.TokenKind.EQ):h(E.TokenKind.ASSIGN);break;case"&":if(!y(E.TokenKind.SYMBOLIC_AND))throw{name:"SpelParseException",message:"Missing character '&' in expression ("+J+") at position "+I};l(E.TokenKind.SYMBOLIC_AND);break;case"|":if(!y(E.TokenKind.SYMBOLIC_OR))throw{name:"SpelParseException",message:"Missing character '|' in expression ("+J+") at position "+I};l(E.TokenKind.SYMBOLIC_OR);break;case"?":y(E.TokenKind.SELECT)?l(E.TokenKind.SELECT):y(E.TokenKind.ELVIS)?l(E.TokenKind.ELVIS):y(E.TokenKind.SAFE_NAVI)?l(E.TokenKind.SAFE_NAVI):h(E.TokenKind.QMARK);break;case"$":y(E.TokenKind.SELECT_LAST)?l(E.TokenKind.SELECT_LAST):z();break;case">":y(E.TokenKind.GE)?l(E.TokenKind.GE):h(E.TokenKind.GT);break;case"<":y(E.TokenKind.LE)?l(E.TokenKind.LE):h(E.TokenKind.LT);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":G(s==="0");break;case" ":case"	":case"\r":case`
`:I+=1;break;case"'":W();break;case'"':M();break;case"\0":I+=1;break;case"\\":throw{name:"SpelParseException",message:"Unexpected escape character in expression ("+J+") at position "+I};default:throw{name:"SpelParseException",message:"Cannot handle character '"+s+"' in expression ("+J+") at position "+I}}}function W(){for(var s=I,O=!1,b;!O;)if(I+=1,b=K[I],b==="'"&&(K[I+1]==="'"?I+=1:O=!0),b.charCodeAt(0)===0)throw{name:"SpelParseException",message:"Non-terminating quoted string in expression ("+J+") at position "+I};I+=1,X.push(new C.Token(E.TokenKind.LITERAL_STRING,j(s,I),s,I))}function M(){for(var s=I,O=!1,b;!O;)if(I+=1,b=K[I],b==='"'&&(K[I+1]==='"'?I+=1:O=!0),b.charCodeAt(0)===0)throw{name:"SpelParseException",message:"Non-terminating double-quoted string in expression ("+J+") at position "+I};I+=1,X.push(new C.Token(E.TokenKind.LITERAL_STRING,j(s,I),s,I))}function G(s){var O=!1,b=I,Q=K[I+1],H=Q==="x"||Q==="X",L,N,w,$;if(s&&H){I=I+1;do I+=1;while(p(K[I]));u("L","l")?(_(j(b+2,I),!0,b,I),I+=1):_(j(b+2,I),!1,b,I);return}do I+=1;while(n(K[I]));if(Q=K[I],Q==="."){O=!0,L=I;do I+=1;while(n(K[I]));if(I===L+1){I=L,q(j(b,I),!1,b,I);return}}if(N=I,u("L","l")){if(O)throw{name:"SpelParseException",message:"Real cannot be long in expression ("+J+") at position "+I};q(j(b,N),!0,b,N),I+=1}else if(c(K[I])){O=!0,I+=1,w=K[I],o(w)&&(I+=1);do I+=1;while(n(K[I]));$=!1,v(K[I])?($=!0,I+=1,N=I):m(K[I])&&(I+=1,N=I),Y(j(b,I),$,b,I)}else Q=K[I],$=!1,v(Q)?(O=!0,$=!0,I+=1,N=I):m(Q)&&(O=!0,I+=1,N=I),O?Y(j(b,N),$,b,N):q(j(b,N),!1,b,N)}function z(){var s=I,O,b,Q;do I+=1;while(i(K[I]));if(O=j(s,I),(I-s===2||I-s===3)&&(b=O.toUpperCase(),Q=B.indexOf(b),Q>=0)){a(E.TokenKind.valueOf(b),s,O);return}X.push(new C.Token(E.TokenKind.IDENTIFIER,O.replace("\0",""),s,I))}function q(s,O,b,Q){O?X.push(new C.Token(E.TokenKind.LITERAL_LONG,s,b,Q)):X.push(new C.Token(E.TokenKind.LITERAL_INT,s,b,Q))}function _(s,O,b,Q){if(s.length===0)throw O?{name:"SpelParseException",message:"Not a long in expression ("+J+") at position "+I}:{name:"SpelParseException",message:"Not an int in expression ("+J+") at position "+I};O?X.push(new C.Token(E.TokenKind.LITERAL_HEXLONG,s,b,Q)):X.push(new C.Token(E.TokenKind.LITERAL_HEXINT,s,b,Q))}function Y(s,O,b,Q){O?X.push(new C.Token(E.TokenKind.LITERAL_REAL_FLOAT,s,b,Q)):X.push(new C.Token(E.TokenKind.LITERAL_REAL,s,b,Q))}function j(s,O){return K.substring(s,O)}function y(s){return s.tokenChars.length===2&&K[I]===s.tokenChars[0]?K[I+1]===s.tokenChars[1]:!1}function h(s){X.push(new C.Token(s,null,I,I+1)),I+=1}function l(s){X.push(new C.Token(s,null,I,I+2)),I+=2}function a(s,O,b){X.push(new C.Token(s,b,O,O+s.getLength()))}function i(s){return r(s)||n(s)||s==="_"||s==="$"}function u(s,O){var b=K[I];return b===s||b===O}function c(s){return s==="e"||s==="E"}function v(s){return s==="f"||s==="F"}function m(s){return s==="d"||s==="D"}function o(s){return s==="+"||s==="-"}function n(s){return s.charCodeAt(0)>255?!1:(D[s.charCodeAt(0)]&S)!==0}function r(s){return s.charCodeAt(0)>255?!1:(D[s.charCodeAt(0)]&P)!==0}function p(s){return s.charCodeAt(0)>255?!1:(D[s.charCodeAt(0)]&T)!==0}return R(),X}var V=t.Tokenizer={tokenize:x}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Token=void 0;var C=d(2);function E(B,D,S,T){this.kind=B,this.startPos=S,this.endPos=T,D&&(this.data=D)}E.prototype.getKind=function(){return this.kind},E.prototype.toString=function(){var B="[";return B+=this.kind.toString(),this.kind.hasPayload()&&(B+=":"+this.data),B+="]",B+="("+this.startPos+","+this.endPos+")",B},E.prototype.isIdentifier=function(){return this.kind===C.TokenKind.IDENTIFIER},E.prototype.isNumericRelationalOperator=function(){return this.kind===C.TokenKind.GT||this.kind===C.TokenKind.GE||this.kind===C.TokenKind.LT||this.kind===C.TokenKind.LE||this.kind===C.TokenKind.EQ||this.kind===C.TokenKind.NE},E.prototype.stringValue=function(){return this.data},E.prototype.asInstanceOfToken=function(){return new E(C.TokenKind.INSTANCEOF,this.startPos,this.endPos)},E.prototype.asMatchesToken=function(){return new E(C.TokenKind.MATCHES,this.startPos,this.endPos)},E.prototype.asBetweenToken=function(){return new E(C.TokenKind.BETWEEN,this.startPos,this.endPos)},E.prototype.getStartPosition=function(){return this.startPos},E.prototype.getEndPosition=function(){return this.endPos},t.Token=E},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanLiteral=void 0;var C=d(0);function E(D,S){var T=C.SpelNode.create("boolean",S);return T.getValue=function(){return D},T.setValue=function(P){return D=P},T}var B=t.BooleanLiteral={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumberLiteral=void 0;var C=d(0);function E(D,S){var T=C.SpelNode.create("number",S);return T.getValue=function(){return D},T.setValue=function(P){return D=P},T}var B=t.NumberLiteral={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringLiteral=void 0;var C=d(0);function E(D,S){var T=C.SpelNode.create("string",S);function P(F){return(F[0]==="'"&&F[F.length-1]==="'"||F[0]==='"'&&F[F.length-1]==='"')&&(F=F.substring(1,F.length-1)),F.replace(/''/g,"'").replace(/""/g,'"')}return D=P(D),T.getValue=function(){return D},T.setValue=function(F){return D=F},T}var B=t.StringLiteral={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NullLiteral=void 0;var C=d(0);function E(D,S){var T=C.SpelNode.create("null",S);return T.getValue=function(){return null},T}var B=t.NullLiteral={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionReference=void 0;var C=d(0),E=d(1);function B(S,T,P){var F=C.SpelNode.create("function",T);return F.getRaw=function(){return{functionName:S,args:P}},F.getValue=function(x){var V=x.locals||{},U=x.rootContext,J=[];if(P.forEach(function(K){var ee=x.activeContext;x.activeContext=new E.Stack,x.activeContext.push(x.rootContext),J.push(K.getValue(x)),x.activeContext=ee}),V[S])return V[S].apply(U,J);throw{name:"FunctionDoesNotExistException",message:"Function '"+S+"' does not exist."}},F}var D=t.FunctionReference={create:B}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MethodReference=void 0;var C=d(0),E=d(1);function B(S,T,P,F){var x=C.SpelNode.create("method",P);return x.getRaw=function(){return{methodName:T,args:F}},x.getValue=function(V){var U=V.activeContext.peek(),J=[],K;if(!U)throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+T+"' for an undefined context."};function ee(I){if(I==null){if(S)return null;throw{name:"NullPointerException",message:"Method "+T+" does not exist."}}return I}if(F.forEach(function(I){var X=V.activeContext;V.activeContext=new E.Stack,V.activeContext.push(V.rootContext),J.push(I.getValue(V)),V.activeContext=X}),T.substr(0,3)==="get"&&!U[T])return ee(U[T.charAt(3).toLowerCase()+T.substring(4)]);if(T.substr(0,3)==="set"&&!U[T])return U[T.charAt(3).toLowerCase()+T.substring(4)]=J[0];if(Array.isArray(U)){if(T==="size")return U.length;if(T==="contains")return U.includes(J[0])}return K=ee(U[T]),K?K.apply(U,J):null},x}var D=t.MethodReference={create:B}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyReference=void 0;var C=d(0);function E(D,S,T){var P=C.SpelNode.create("property",T);return P.getRaw=function(){return S},P.getValue=function(F){var x=F.activeContext.peek();if(!x){if(D)return null;throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+S+"' for an undefined context."}}if(x[S]===void 0||x[S]===null){if(D)return null;if(S==="size"&&Array.isArray(x))return x.length;throw{name:"NullPointerException",message:"Property '"+S+"' does not exist."}}return x[S]},P.setValue=function(F,x){var V=x.activeContext.peek();if(!V)throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+S+"' for an undefined context."};return V[S]=F},P.getName=function(){return S},P}var B=t.PropertyReference={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VariableReference=void 0;var C=d(0);function E(D,S){var T=C.SpelNode.create("variable",S);return T.getRaw=function(){return D},T.getValue=function(P){var F=P.activeContext.peek(),x=P.locals;if(!F)throw{name:"ContextDoesNotExistException",message:"Attempting to look up variable '"+D+"' for an undefined context."};return D==="this"?F:D==="root"?P.rootContext:x[D]},T.setValue=function(P,F){var x=F.locals;return x[D]=P},T}var B=t.VariableReference={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompoundExpression=void 0;var C=d(0);function E(D,S){var T=C.SpelNode.create.apply(null,["compound",D].concat(S));function P(F){var x=T.getChildren().length,V;for(V=0;V<x;V+=1)T.getChildren()[V].getType()==="indexer"?F.activeContext.push(F.activeContext.peek()[T.getChildren()[V].getValue(F)]):F.activeContext.push(T.getChildren()[V].getValue(F));return function(){for(V=0;V<x;V+=1)F.activeContext.pop()}}return T.getValue=function(F){var x=F.activeContext.peek(),V;if(!x)throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};var U=P(F);return V=F.activeContext.peek(),U(),V},T.setValue=function(F,x){var V=P(x),U=T.getChildren().length;return x.activeContext.pop(),F=T.getChildren()[U-1].setValue(F,x),x.activeContext.push(null),V(),F},T}var B=t.CompoundExpression={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Indexer=void 0;var C=d(0),E=d(1);function B(S,T){var P=C.SpelNode.create.apply(null,["indexer",S].concat(T));return P.getValue=function(F){var x=F.activeContext,V,U=P.getChildren().length,J,K;if(F.activeContext=new E.Stack,F.activeContext.push(F.rootContext),V=F.activeContext.peek(),!V)throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};for(J=0;J<U;J+=1)F.activeContext.push(P.getChildren()[J].getValue(F));for(K=F.activeContext.peek(),J=0;J<U;J+=1)F.activeContext.pop();return F.activeContext=x,K},P}var D=t.Indexer={create:B}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Assign=void 0;var C=d(0);function E(D,S,T){var P=C.SpelNode.create("assign",D,S,T);return P.getValue=function(F){var x=F.activeContext.peek();if(!x)throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+S.getValue(F)+"' for an undefined context."};return S.setValue(T.getValue(F),F)},P}var B=t.Assign={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpEQ=void 0;var C=d(0);function E(D,S,T){var P=C.SpelNode.create("op-eq",D,S,T);return P.getValue=function(F){return S.getValue(F)===T.getValue(F)},P}var B=t.OpEQ={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpNE=void 0;var C=d(0);function E(D,S,T){var P=C.SpelNode.create("op-ne",D,S,T);return P.getValue=function(F){return S.getValue(F)!==T.getValue(F)},P}var B=t.OpNE={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpGE=void 0;var C=d(0);function E(D,S,T){var P=C.SpelNode.create("op-ge",D,S,T);return P.getValue=function(F){return S.getValue(F)>=T.getValue(F)},P}var B=t.OpGE={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpGT=void 0;var C=d(0);function E(D,S,T){var P=C.SpelNode.create("op-gt",D,S,T);return P.getValue=function(F){return S.getValue(F)>T.getValue(F)},P}var B=t.OpGT={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpLE=void 0;var C=d(0);function E(D,S,T){var P=C.SpelNode.create("op-le",D,S,T);return P.getValue=function(F){return S.getValue(F)<=T.getValue(F)},P}var B=t.OpLE={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpLT=void 0;var C=d(0);function E(D,S,T){var P=C.SpelNode.create("op-lt",D,S,T);return P.getValue=function(F){return S.getValue(F)<T.getValue(F)},P}var B=t.OpLT={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpPlus=void 0;var C=d(0);function E(D,S,T){var P=C.SpelNode.create("op-plus",D,S,T);return P.getValue=function(F){return T?S.getValue(F)+T.getValue(F):+S.getValue(F)},P}var B=t.OpPlus={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpMinus=void 0;var C=d(0);function E(D,S,T){var P=C.SpelNode.create("op-minus",D,S,T);return P.getValue=function(F){return T?S.getValue(F)-T.getValue(F):-S.getValue(F)},P}var B=t.OpMinus={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpMultiply=void 0;var C=d(0);function E(D,S,T){var P=C.SpelNode.create("op-multiply",D,S,T);return P.getValue=function(F){var x=S.getValue(F),V=T.getValue(F);if(typeof x=="number"&&typeof V=="number")return x*V;if(typeof x=="string"&&typeof V=="number"){for(var U="",J=0;J<V;J+=1)U+=x;return U}return null},P}var B=t.OpMultiply={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpDivide=void 0;var C=d(0);function E(D,S,T){var P=C.SpelNode.create("op-divide",D,S,T);return P.getValue=function(F){return S.getValue(F)/T.getValue(F)},P}var B=t.OpDivide={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpModulus=void 0;var C=d(0);function E(D,S,T){var P=C.SpelNode.create("op-modulus",D,S,T);return P.getValue=function(F){return S.getValue(F)%T.getValue(F)},P}var B=t.OpModulus={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpPower=void 0;var C=d(0);function E(D,S,T){var P=C.SpelNode.create("op-power",D,S,T);return P.getValue=function(F){return Math.pow(S.getValue(F),T.getValue(F))},P}var B=t.OpPower={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpInc=void 0;var C=d(0);function E(D,S,T){var P=C.SpelNode.create("op-inc",D,T);return P.getValue=function(F){var x=T.getValue(F);return T.setValue(x+1,F),S?x:x+1},P}var B=t.OpInc={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpDec=void 0;var C=d(0);function E(D,S,T){var P=C.SpelNode.create("op-dec",D,T);return P.getValue=function(F){var x=T.getValue(F);return T.setValue(x-1,F),S?x:x-1},P}var B=t.OpDec={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpNot=void 0;var C=d(0);function E(D,S){var T=C.SpelNode.create("op-not",D,S);return T.getValue=function(P){return!S.getValue(P)},T}var B=t.OpNot={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpAnd=void 0;var C=d(0);function E(D,S,T){var P=C.SpelNode.create("op-and",D,S,T);return P.getValue=function(F){return!!S.getValue(F)&&!!T.getValue(F)},P}var B=t.OpAnd={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpOr=void 0;var C=d(0);function E(D,S,T){var P=C.SpelNode.create("op-or",D,S,T);return P.getValue=function(F){return!!S.getValue(F)||!!T.getValue(F)},P}var B=t.OpOr={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpMatches=void 0;var C=d(0);function E(D,S,T){var P=C.SpelNode.create("matches",D,S,T);return P.getValue=function(F){var x=S.getValue(F),V=T.getValue(F);try{var U=new RegExp(V);return!!U.exec(x)}catch(J){throw{name:"EvaluationException",message:J.toString()}}},P}var B=t.OpMatches={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ternary=void 0;var C=d(0);function E(D,S,T,P){var F=C.SpelNode.create("ternary",D,S,T,P);return F.getValue=function(x){return S.getValue(x)?T.getValue(x):P.getValue(x)},F}var B=t.Ternary={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Elvis=void 0;var C=d(0);function E(D,S,T){var P=C.SpelNode.create("elvis",D,S,T);return P.getValue=function(F){return S.getValue(F)!==null?S.getValue(F):T.getValue(F)},P}var B=t.Elvis={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineList=void 0;var C=d(0);function E(D,S){var T=C.SpelNode.create("list",D),P=[].concat(S||[]);return T.getRaw=function(){return P},T.getValue=function(F){return P.map(function(x){return x.getValue(F)})},T}var B=t.InlineList={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineMap=void 0;var C=d(0);function E(D,S){var T=C.SpelNode.create("map",D),P=[].concat(S||[]);return T.getValue=function(F){var x=!0,V=null,U={};return P.forEach(function(J){x?J.getType()==="property"?V=J.getName():V=J.getValue(F):U[V]=J.getValue(F),x=!x}),U},T}var B=t.InlineMap={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Selection=void 0;var C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},E=d(0);function B(F,x,V){var U=!1;return V.activeContext.push(F),U=x.getValue(V),V.activeContext.pop(),U}function D(F,x,V,U){var J=F.filter(function(K){return B(K,V,U)});switch(x){case"ALL":return J;case"FIRST":return J[0]||null;case"LAST":return J.length?J[J.length-1]:null}}function S(F,x,V,U){var J={},K,ee,I=[],X={};for(ee in F)F.hasOwnProperty(ee)&&(K={key:ee,value:F[ee]},B(K,V,U)&&I.push(K));switch(x){case"ALL":return I.forEach(function(R){J[R.key]=R.value}),J;case"FIRST":return I.length?(X[I[0].key]=I[0].value,X):null;case"LAST":return I.length?(X[I[I.length-1].key]=I[I.length-1].value,X):null}I.forEach(function(R){J[R.key]=R.value})}function T(F,x,V,U){var J=E.SpelNode.create("selection",V,U);return J.getValue=function(K){var ee=K.activeContext.peek();if(ee){if(Array.isArray(ee))return D(ee,x,U,K);if((typeof ee>"u"?"undefined":C(ee))==="object")return S(ee,x,U,K)}return null},J}var P=t.Selection={create:T,FIRST:"FIRST",LAST:"LAST",ALL:"ALL"}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Projection=void 0;var C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},E=d(0);function B(T,P,F){return T.map(function(x){var V;return F.activeContext.push(x),V=P.getValue(F),F.activeContext.pop(),V})}function D(T,P,F){var x=E.SpelNode.create("projection",P,F);return x.getValue=function(V){var U=V.activeContext.peek(),J=[],K;if(Array.isArray(U))return B(U,F,V);if((typeof U>"u"?"undefined":C(U))==="object"){for(K in U)U.hasOwnProperty(K)&&J.push(U[K]);return B(J,F,V)}return null},x}var S=t.Projection={create:D}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpInstanceof=void 0;var C=d(0);function E(D,S,T){var P=C.SpelNode.create("instanceof",D,S,T);return P.getValue=function(F){throw{name:"MethodNotImplementedException",message:"OpInstanceOf: Not implemented"}},P}var B=t.OpInstanceof={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpBetween=void 0;var C=d(0);function E(D,S,T){var P=C.SpelNode.create("between",D,S,T);return P.getValue=function(F){throw{name:"MethodNotImplementedException",message:"OpBetween: Not implemented"}},P}var B=t.OpBetween={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeReference=void 0;var C=d(0);function E(D,P,T){var P=C.SpelNode.create("typeref",D,P);return P.getValue=function(F){throw{name:"MethodNotImplementedException",message:"TypeReference: Not implemented"}},P}var B=t.TypeReference={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BeanReference=void 0;var C=d(0);function E(D,S){var T=C.SpelNode.create("beanref",D);return T.getValue=function(P){throw{name:"MethodNotImplementedException",message:"BeanReference: Not implemented"}},T}var B=t.BeanReference={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Identifier=void 0;var C=d(0);function E(D,S){var T=C.SpelNode.create("identifier",S);return T.getRaw=function(){return D},T.getValue=function(P){throw{name:"MethodNotImplementedException",message:"Identifier: Not implemented"}},T}var B=t.Identifier={create:E}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QualifiedIdentifier=void 0;var C=d(0);function E(S){if(Array.isArray(S)){for(var T=0,P=Array(S.length);T<S.length;T++)P[T]=S[T];return P}else return Array.from(S)}function B(S,T){var P=C.SpelNode.create.apply(C.SpelNode,["qualifiedidentifier",S].concat(E(T)));return P.getRaw=function(){return T.map(function(F){return F.getRaw()})},P.getValue=function(F){throw{name:"MethodNotImplementedException",message:"QualifiedIdentifier: Not implemented"}},P}var D=t.QualifiedIdentifier={create:B}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConstructorReference=void 0;var C=d(0),E=d(1);function B(P){if(Array.isArray(P)){for(var F=0,x=Array(P.length);F<P.length;F++)x[F]=P[F];return x}else return Array.from(P)}function D(P){return Array.isArray(P)?P:Array.from(P)}function S(P,F,x){var V=x!==void 0,U;V?U=F.length&&F[0]&&F[0].getType()==="number"?F[0].getValue():null:(x=F,F=void 0);var J=x,K=D(J),ee=K[0],I=K.slice(1),X=C.SpelNode.create.apply(C.SpelNode,["constructorref",P].concat(B(x)));return X.getRaw=function(){return U},X.getValue=function(R){if(V&&I.length<=1){var W=[];return I.forEach(function(M){var G=R.activeContext;R.activeContext=new E.Stack,R.activeContext.push(R.rootContext),W.push(M.getValue(R)),R.activeContext=G}),I.length===1?W[0]:U?new Array(U):[]}throw{name:"MethodNotImplementedException",message:"ConstructorReference: Not implemented"}},X}var T=t.ConstructorReference={create:S}},function(f,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function C(B,D){var S={};return S.authentication=B||{},S.principal=D||{},S.hasRole=function(T){var P=!1;return!T||!S.authentication&&!Array.isArray(S.authentication.authorities)?!1:(S.authentication.authorities.forEach(function(F){F.authority.toLowerCase()===T.toLowerCase()&&(P=!0)}),P)},S.hasPermission=function(){var T=Array.prototype.slice.call(arguments);if(T.length===1)return S.hasRole(T[0])},S}var E=t.StandardContext={create:C}}])})},61526:(ie,f,t)=>{ie.exports=t(88319)},88319:(ie,f,t)=>{var d=t(48287).Buffer,C=f,E=/`/g,B=/\./g,D=/[\0\b\t\n\r\x1a\"\'\\]/g,S={"\0":"\\0","\b":"\\b","	":"\\t","\n":"\\n","\r":"\\r","":"\\Z",'"':'\\"',"'":"\\'","\\":"\\\\"};C.escapeId=function(V,U){if(Array.isArray(V)){for(var J="",K=0;K<V.length;K++)J+=(K===0?"":", ")+C.escapeId(V[K],U);return J}else return U?"`"+String(V).replace(E,"``")+"`":"`"+String(V).replace(E,"``").replace(B,"`.`")+"`"},C.escape=function(V,U,J){if(V==null)return"NULL";switch(typeof V){case"boolean":return V?"true":"false";case"number":return V+"";case"object":return Object.prototype.toString.call(V)==="[object Date]"?C.dateToString(V,J||"local"):Array.isArray(V)?C.arrayToList(V,J):d.isBuffer(V)?C.bufferToString(V):typeof V.toSqlString=="function"?String(V.toSqlString()):U?T(V.toString()):C.objectToValues(V,J);default:return T(V)}},C.arrayToList=function(V,U){for(var J="",K=0;K<V.length;K++){var ee=V[K];Array.isArray(ee)?J+=(K===0?"":", ")+"("+C.arrayToList(ee,U)+")":J+=(K===0?"":", ")+C.escape(ee,!0,U)}return J},C.format=function(V,U,J,K){if(U==null)return V;Array.isArray(U)||(U=[U]);for(var ee=0,I=/\?+/g,X="",R=0,W;R<U.length&&(W=I.exec(V));){var M=W[0].length;if(!(M>2)){var G=M===2?C.escapeId(U[R]):C.escape(U[R],J,K);X+=V.slice(ee,W.index)+G,ee=I.lastIndex,R++}}return ee===0?V:ee<V.length?X+V.slice(ee):X},C.dateToString=function(V,U){var J=new Date(V);if(isNaN(J.getTime()))return"NULL";var K,ee,I,X,R,W,M;if(U==="local")K=J.getFullYear(),ee=J.getMonth()+1,I=J.getDate(),X=J.getHours(),R=J.getMinutes(),W=J.getSeconds(),M=J.getMilliseconds();else{var G=F(U);G!==!1&&G!==0&&J.setTime(J.getTime()+G*6e4),K=J.getUTCFullYear(),ee=J.getUTCMonth()+1,I=J.getUTCDate(),X=J.getUTCHours(),R=J.getUTCMinutes(),W=J.getUTCSeconds(),M=J.getUTCMilliseconds()}var z=P(K,4)+"-"+P(ee,2)+"-"+P(I,2)+" "+P(X,2)+":"+P(R,2)+":"+P(W,2)+"."+P(M,3);return T(z)},C.bufferToString=function(V){return"X"+T(V.toString("hex"))},C.objectToValues=function(V,U){var J="";for(var K in V){var ee=V[K];typeof ee!="function"&&(J+=(J.length===0?"":", ")+C.escapeId(K)+" = "+C.escape(ee,!0,U))}return J},C.raw=function(V){if(typeof V!="string")throw new TypeError("argument sql must be a string");return{toSqlString:function(){return V}}};function T(x){for(var V=D.lastIndex=0,U="",J;J=D.exec(x);)U+=x.slice(V,J.index)+S[J[0]],V=D.lastIndex;return V===0?"'"+x+"'":V<x.length?"'"+U+x.slice(V)+"'":"'"+U+"'"}function P(x,V){for(x=x.toString();x.length<V;)x="0"+x;return x}function F(x){if(x==="Z")return 0;var V=x.match(/([\+\-\s])(\d\d):?(\d\d)?/);return V?(V[1]==="-"?-1:1)*(parseInt(V[2],10)+(V[3]?parseInt(V[3],10):0)/60)*60:!1}},70079:ie=>{function f(t,d){(d==null||d>t.length)&&(d=t.length);for(var C=0,E=Array(d);C<d;C++)E[C]=t[C];return E}ie.exports=f,ie.exports.__esModule=!0,ie.exports.default=ie.exports},92987:ie=>{function f(t){if(Array.isArray(t))return t}ie.exports=f,ie.exports.__esModule=!0,ie.exports.default=ie.exports},5901:(ie,f,t)=>{var d=t(70079);function C(E){if(Array.isArray(E))return d(E)}ie.exports=C,ie.exports.__esModule=!0,ie.exports.default=ie.exports},12475:ie=>{function f(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}ie.exports=f,ie.exports.__esModule=!0,ie.exports.default=ie.exports},29293:ie=>{function f(d,C,E,B,D,S,T){try{var P=d[S](T),F=P.value}catch(x){return void E(x)}P.done?C(F):Promise.resolve(F).then(B,D)}function t(d){return function(){var C=this,E=arguments;return new Promise(function(B,D){var S=d.apply(C,E);function T(F){f(S,B,D,T,P,"next",F)}function P(F){f(S,B,D,T,P,"throw",F)}T(void 0)})}}ie.exports=t,ie.exports.__esModule=!0,ie.exports.default=ie.exports},17383:ie=>{function f(t,d){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")}ie.exports=f,ie.exports.__esModule=!0,ie.exports.default=ie.exports},34579:(ie,f,t)=>{var d=t(77736);function C(B,D){for(var S=0;S<D.length;S++){var T=D[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(B,d(T.key),T)}}function E(B,D,S){return D&&C(B.prototype,D),S&&C(B,S),Object.defineProperty(B,"prototype",{writable:!1}),B}ie.exports=E,ie.exports.__esModule=!0,ie.exports.default=ie.exports},32395:(ie,f,t)=>{var d=t(39552);function C(){return ie.exports=C=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(E,B,D){var S=d(E,B);if(S){var T=Object.getOwnPropertyDescriptor(S,B);return T.get?T.get.call(arguments.length<3?E:D):T.value}},ie.exports.__esModule=!0,ie.exports.default=ie.exports,C.apply(null,arguments)}ie.exports=C,ie.exports.__esModule=!0,ie.exports.default=ie.exports},63072:ie=>{function f(t){return ie.exports=f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},ie.exports.__esModule=!0,ie.exports.default=ie.exports,f(t)}ie.exports=f,ie.exports.__esModule=!0,ie.exports.default=ie.exports},29511:(ie,f,t)=>{var d=t(95636);function C(E,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(B&&B.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),B&&d(E,B)}ie.exports=C,ie.exports.__esModule=!0,ie.exports.default=ie.exports},99291:ie=>{function f(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}ie.exports=f,ie.exports.__esModule=!0,ie.exports.default=ie.exports},81156:ie=>{function f(t,d){var C=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(C!=null){var E,B,D,S,T=[],P=!0,F=!1;try{if(D=(C=C.call(t)).next,d===0){if(Object(C)!==C)return;P=!1}else for(;!(P=(E=D.call(C)).done)&&(T.push(E.value),T.length!==d);P=!0);}catch(x){F=!0,B=x}finally{try{if(!P&&C.return!=null&&(S=C.return(),Object(S)!==S))return}finally{if(F)throw B}}return T}}ie.exports=f,ie.exports.__esModule=!0,ie.exports.default=ie.exports},47752:ie=>{function f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}ie.exports=f,ie.exports.__esModule=!0,ie.exports.default=ie.exports},41869:ie=>{function f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}ie.exports=f,ie.exports.__esModule=!0,ie.exports.default=ie.exports},91847:(ie,f,t)=>{var d=t(54893);function C(E,B){if(E==null)return{};var D,S,T=d(E,B);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(E);for(S=0;S<P.length;S++)D=P[S],B.indexOf(D)===-1&&{}.propertyIsEnumerable.call(E,D)&&(T[D]=E[D])}return T}ie.exports=C,ie.exports.__esModule=!0,ie.exports.default=ie.exports},54893:ie=>{function f(t,d){if(t==null)return{};var C={};for(var E in t)if({}.hasOwnProperty.call(t,E)){if(d.indexOf(E)!==-1)continue;C[E]=t[E]}return C}ie.exports=f,ie.exports.__esModule=!0,ie.exports.default=ie.exports},28452:(ie,f,t)=>{var d=t(73738).default,C=t(12475);function E(B,D){if(D&&(d(D)=="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(B)}ie.exports=E,ie.exports.__esModule=!0,ie.exports.default=ie.exports},4633:(ie,f,t)=>{var d=t(73738).default;function C(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ie.exports=C=function(){return B},ie.exports.__esModule=!0,ie.exports.default=ie.exports;var E,B={},D=Object.prototype,S=D.hasOwnProperty,T=Object.defineProperty||function(m,o,n){m[o]=n.value},P=typeof Symbol=="function"?Symbol:{},F=P.iterator||"@@iterator",x=P.asyncIterator||"@@asyncIterator",V=P.toStringTag||"@@toStringTag";function U(m,o,n){return Object.defineProperty(m,o,{value:n,enumerable:!0,configurable:!0,writable:!0}),m[o]}try{U({},"")}catch{U=function(n,r,p){return n[r]=p}}function J(m,o,n,r){var p=o&&o.prototype instanceof M?o:M,s=Object.create(p.prototype),O=new c(r||[]);return T(s,"_invoke",{value:l(m,n,O)}),s}function K(m,o,n){try{return{type:"normal",arg:m.call(o,n)}}catch(r){return{type:"throw",arg:r}}}B.wrap=J;var ee="suspendedStart",I="suspendedYield",X="executing",R="completed",W={};function M(){}function G(){}function z(){}var q={};U(q,F,function(){return this});var _=Object.getPrototypeOf,Y=_&&_(_(v([])));Y&&Y!==D&&S.call(Y,F)&&(q=Y);var j=z.prototype=M.prototype=Object.create(q);function y(m){["next","throw","return"].forEach(function(o){U(m,o,function(n){return this._invoke(o,n)})})}function h(m,o){function n(p,s,O,b){var Q=K(m[p],m,s);if(Q.type!=="throw"){var H=Q.arg,L=H.value;return L&&d(L)=="object"&&S.call(L,"__await")?o.resolve(L.__await).then(function(N){n("next",N,O,b)},function(N){n("throw",N,O,b)}):o.resolve(L).then(function(N){H.value=N,O(H)},function(N){return n("throw",N,O,b)})}b(Q.arg)}var r;T(this,"_invoke",{value:function(s,O){function b(){return new o(function(Q,H){n(s,O,Q,H)})}return r=r?r.then(b,b):b()}})}function l(m,o,n){var r=ee;return function(p,s){if(r===X)throw Error("Generator is already running");if(r===R){if(p==="throw")throw s;return{value:E,done:!0}}for(n.method=p,n.arg=s;;){var O=n.delegate;if(O){var b=a(O,n);if(b){if(b===W)continue;return b}}if(n.method==="next")n.sent=n._sent=n.arg;else if(n.method==="throw"){if(r===ee)throw r=R,n.arg;n.dispatchException(n.arg)}else n.method==="return"&&n.abrupt("return",n.arg);r=X;var Q=K(m,o,n);if(Q.type==="normal"){if(r=n.done?R:I,Q.arg===W)continue;return{value:Q.arg,done:n.done}}Q.type==="throw"&&(r=R,n.method="throw",n.arg=Q.arg)}}}function a(m,o){var n=o.method,r=m.iterator[n];if(r===E)return o.delegate=null,n==="throw"&&m.iterator.return&&(o.method="return",o.arg=E,a(m,o),o.method==="throw")||n!=="return"&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+n+"' method")),W;var p=K(r,m.iterator,o.arg);if(p.type==="throw")return o.method="throw",o.arg=p.arg,o.delegate=null,W;var s=p.arg;return s?s.done?(o[m.resultName]=s.value,o.next=m.nextLoc,o.method!=="return"&&(o.method="next",o.arg=E),o.delegate=null,W):s:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,W)}function i(m){var o={tryLoc:m[0]};1 in m&&(o.catchLoc=m[1]),2 in m&&(o.finallyLoc=m[2],o.afterLoc=m[3]),this.tryEntries.push(o)}function u(m){var o=m.completion||{};o.type="normal",delete o.arg,m.completion=o}function c(m){this.tryEntries=[{tryLoc:"root"}],m.forEach(i,this),this.reset(!0)}function v(m){if(m||m===""){var o=m[F];if(o)return o.call(m);if(typeof m.next=="function")return m;if(!isNaN(m.length)){var n=-1,r=function p(){for(;++n<m.length;)if(S.call(m,n))return p.value=m[n],p.done=!1,p;return p.value=E,p.done=!0,p};return r.next=r}}throw new TypeError(d(m)+" is not iterable")}return G.prototype=z,T(j,"constructor",{value:z,configurable:!0}),T(z,"constructor",{value:G,configurable:!0}),G.displayName=U(z,V,"GeneratorFunction"),B.isGeneratorFunction=function(m){var o=typeof m=="function"&&m.constructor;return!!o&&(o===G||(o.displayName||o.name)==="GeneratorFunction")},B.mark=function(m){return Object.setPrototypeOf?Object.setPrototypeOf(m,z):(m.__proto__=z,U(m,V,"GeneratorFunction")),m.prototype=Object.create(j),m},B.awrap=function(m){return{__await:m}},y(h.prototype),U(h.prototype,x,function(){return this}),B.AsyncIterator=h,B.async=function(m,o,n,r,p){p===void 0&&(p=Promise);var s=new h(J(m,o,n,r),p);return B.isGeneratorFunction(o)?s:s.next().then(function(O){return O.done?O.value:s.next()})},y(j),U(j,V,"Generator"),U(j,F,function(){return this}),U(j,"toString",function(){return"[object Generator]"}),B.keys=function(m){var o=Object(m),n=[];for(var r in o)n.push(r);return n.reverse(),function p(){for(;n.length;){var s=n.pop();if(s in o)return p.value=s,p.done=!1,p}return p.done=!0,p}},B.values=v,c.prototype={constructor:c,reset:function(o){if(this.prev=0,this.next=0,this.sent=this._sent=E,this.done=!1,this.delegate=null,this.method="next",this.arg=E,this.tryEntries.forEach(u),!o)for(var n in this)n.charAt(0)==="t"&&S.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=E)},stop:function(){this.done=!0;var o=this.tryEntries[0].completion;if(o.type==="throw")throw o.arg;return this.rval},dispatchException:function(o){if(this.done)throw o;var n=this;function r(H,L){return O.type="throw",O.arg=o,n.next=H,L&&(n.method="next",n.arg=E),!!L}for(var p=this.tryEntries.length-1;p>=0;--p){var s=this.tryEntries[p],O=s.completion;if(s.tryLoc==="root")return r("end");if(s.tryLoc<=this.prev){var b=S.call(s,"catchLoc"),Q=S.call(s,"finallyLoc");if(b&&Q){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(b){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!Q)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(o,n){for(var r=this.tryEntries.length-1;r>=0;--r){var p=this.tryEntries[r];if(p.tryLoc<=this.prev&&S.call(p,"finallyLoc")&&this.prev<p.finallyLoc){var s=p;break}}s&&(o==="break"||o==="continue")&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var O=s?s.completion:{};return O.type=o,O.arg=n,s?(this.method="next",this.next=s.finallyLoc,W):this.complete(O)},complete:function(o,n){if(o.type==="throw")throw o.arg;return o.type==="break"||o.type==="continue"?this.next=o.arg:o.type==="return"?(this.rval=this.arg=o.arg,this.method="return",this.next="end"):o.type==="normal"&&n&&(this.next=n),W},finish:function(o){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===o)return this.complete(r.completion,r.afterLoc),u(r),W}},catch:function(o){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===o){var p=r.completion;if(p.type==="throw"){var s=p.arg;u(r)}return s}}throw Error("illegal catch attempt")},delegateYield:function(o,n,r){return this.delegate={iterator:v(o),resultName:n,nextLoc:r},this.method==="next"&&(this.arg=E),W}},B}ie.exports=C,ie.exports.__esModule=!0,ie.exports.default=ie.exports},95636:ie=>{function f(t,d){return ie.exports=f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,E){return C.__proto__=E,C},ie.exports.__esModule=!0,ie.exports.default=ie.exports,f(t,d)}ie.exports=f,ie.exports.__esModule=!0,ie.exports.default=ie.exports},85715:(ie,f,t)=>{var d=t(92987),C=t(81156),E=t(17122),B=t(47752);function D(S,T){return d(S)||C(S,T)||E(S,T)||B()}ie.exports=D,ie.exports.__esModule=!0,ie.exports.default=ie.exports},39552:(ie,f,t)=>{var d=t(63072);function C(E,B){for(;!{}.hasOwnProperty.call(E,B)&&(E=d(E))!==null;);return E}ie.exports=C,ie.exports.__esModule=!0,ie.exports.default=ie.exports},8053:(ie,f,t)=>{var d=t(92987),C=t(99291),E=t(17122),B=t(47752);function D(S){return d(S)||C(S)||E(S)||B()}ie.exports=D,ie.exports.__esModule=!0,ie.exports.default=ie.exports},41132:(ie,f,t)=>{var d=t(5901),C=t(99291),E=t(17122),B=t(41869);function D(S){return d(S)||C(S)||E(S)||B()}ie.exports=D,ie.exports.__esModule=!0,ie.exports.default=ie.exports},17122:(ie,f,t)=>{var d=t(70079);function C(E,B){if(E){if(typeof E=="string")return d(E,B);var D={}.toString.call(E).slice(8,-1);return D==="Object"&&E.constructor&&(D=E.constructor.name),D==="Map"||D==="Set"?Array.from(E):D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D)?d(E,B):void 0}}ie.exports=C,ie.exports.__esModule=!0,ie.exports.default=ie.exports},54756:(ie,f,t)=>{var d=t(4633)();ie.exports=d;try{regeneratorRuntime=d}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=d:Function("r","regeneratorRuntime = r")(d)}},28895:ie=>{"use strict";var f=Object.defineProperty,t=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,C=Object.prototype.hasOwnProperty,E=(a,i)=>{for(var u in i)f(a,u,{get:i[u],enumerable:!0})},B=(a,i,u,c)=>{if(i&&typeof i=="object"||typeof i=="function")for(let v of d(i))!C.call(a,v)&&v!==u&&f(a,v,{get:()=>i[v],enumerable:!(c=t(i,v))||c.enumerable});return a},D=a=>B(f({},"__esModule",{value:!0}),a),S={};E(S,{__DO_NOT_USE__ActionTypes:()=>U,applyMiddleware:()=>h,bindActionCreators:()=>j,combineReducers:()=>_,compose:()=>y,createStore:()=>W,isAction:()=>l,isPlainObject:()=>J,legacy_createStore:()=>M}),ie.exports=D(S);function T(a){return`Minified Redux error #${a}; visit https://redux.js.org/Errors?code=${a} for the full message or use the non-minified dev environment for full errors. `}var P=typeof Symbol=="function"&&Symbol.observable||"@@observable",F=P,x=()=>Math.random().toString(36).substring(7).split("").join("."),V={INIT:`@@redux/INIT${x()}`,REPLACE:`@@redux/REPLACE${x()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${x()}`},U=V;function J(a){if(typeof a!="object"||a===null)return!1;let i=a;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(a)===i||Object.getPrototypeOf(a)===null}function K(a){if(a===void 0)return"undefined";if(a===null)return"null";const i=typeof a;switch(i){case"boolean":case"string":case"number":case"symbol":case"function":return i}if(Array.isArray(a))return"array";if(X(a))return"date";if(I(a))return"error";const u=ee(a);switch(u){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return u}return Object.prototype.toString.call(a).slice(8,-1).toLowerCase().replace(/\s/g,"")}function ee(a){return typeof a.constructor=="function"?a.constructor.name:null}function I(a){return a instanceof Error||typeof a.message=="string"&&a.constructor&&typeof a.constructor.stackTraceLimit=="number"}function X(a){return a instanceof Date?!0:typeof a.toDateString=="function"&&typeof a.getDate=="function"&&typeof a.setDate=="function"}function R(a){return typeof a}function W(a,i,u){if(typeof a!="function")throw new Error(T(2));if(typeof i=="function"&&typeof u=="function"||typeof u=="function"&&typeof arguments[3]=="function")throw new Error(T(0));if(typeof i=="function"&&typeof u>"u"&&(u=i,i=void 0),typeof u<"u"){if(typeof u!="function")throw new Error(T(1));return u(W)(a,i)}let c=a,v=i,m=new Map,o=m,n=0,r=!1;function p(){o===m&&(o=new Map,m.forEach((N,w)=>{o.set(w,N)}))}function s(){if(r)throw new Error(T(3));return v}function O(N){if(typeof N!="function")throw new Error(T(4));if(r)throw new Error(T(5));let w=!0;p();const $=n++;return o.set($,N),function(){if(w){if(r)throw new Error(T(6));w=!1,p(),o.delete($),m=null}}}function b(N){if(!J(N))throw new Error(T(7));if(typeof N.type>"u")throw new Error(T(8));if(typeof N.type!="string")throw new Error(T(17));if(r)throw new Error(T(9));try{r=!0,v=c(v,N)}finally{r=!1}return(m=o).forEach($=>{$()}),N}function Q(N){if(typeof N!="function")throw new Error(T(10));c=N,b({type:U.REPLACE})}function H(){const N=O;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(T(11));function $(){const re=w;re.next&&re.next(s())}return $(),{unsubscribe:N($)}},[F](){return this}}}return b({type:U.INIT}),{dispatch:b,subscribe:O,getState:s,replaceReducer:Q,[F]:H}}function M(a,i,u){return W(a,i,u)}function G(a){typeof console<"u"&&typeof console.error=="function"&&console.error(a);try{throw new Error(a)}catch{}}function z(a,i,u,c){const v=Object.keys(i),m=u&&u.type===U.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(v.length===0)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!J(a))return`The ${m} has unexpected type of "${R(a)}". Expected argument to be an object with the following keys: "${v.join('", "')}"`;const o=Object.keys(a).filter(n=>!i.hasOwnProperty(n)&&!c[n]);if(o.forEach(n=>{c[n]=!0}),!(u&&u.type===U.REPLACE)&&o.length>0)return`Unexpected ${o.length>1?"keys":"key"} "${o.join('", "')}" found in ${m}. Expected to find one of the known reducer keys instead: "${v.join('", "')}". Unexpected keys will be ignored.`}function q(a){Object.keys(a).forEach(i=>{const u=a[i];if(typeof u(void 0,{type:U.INIT})>"u")throw new Error(T(12));if(typeof u(void 0,{type:U.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(T(13))})}function _(a){const i=Object.keys(a),u={};for(let o=0;o<i.length;o++){const n=i[o];typeof a[n]=="function"&&(u[n]=a[n])}const c=Object.keys(u);let v,m;try{q(u)}catch(o){m=o}return function(n={},r){if(m)throw m;let p=!1;const s={};for(let O=0;O<c.length;O++){const b=c[O],Q=u[b],H=n[b],L=Q(H,r);if(typeof L>"u"){const N=r&&r.type;throw new Error(T(14))}s[b]=L,p=p||L!==H}return p=p||c.length!==Object.keys(n).length,p?s:n}}function Y(a,i){return function(...u){return i(a.apply(this,u))}}function j(a,i){if(typeof a=="function")return Y(a,i);if(typeof a!="object"||a===null)throw new Error(T(16));const u={};for(const c in a){const v=a[c];typeof v=="function"&&(u[c]=Y(v,i))}return u}function y(...a){return a.length===0?i=>i:a.length===1?a[0]:a.reduce((i,u)=>(...c)=>i(u(...c)))}function h(...a){return i=>(u,c)=>{const v=i(u,c);let m=()=>{throw new Error(T(15))};const o={getState:v.getState,dispatch:(r,...p)=>m(r,...p)},n=a.map(r=>r(o));return m=y(...n)(v.dispatch),{...v,dispatch:m}}}function l(a){return J(a)&&"type"in a&&typeof a.type=="string"}}}]);

//# sourceMappingURL=4541.d2f1591b10632f3f5402.js.map