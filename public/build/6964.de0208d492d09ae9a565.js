"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[6964],{67293:(O,_,s)=>{s.d(_,{GU:()=>g,YO:()=>P,qm:()=>c});var n=s(74848),i=s(22803),m=s(96540),o=s(29675),r=s(11817),l=s(77455),E=s(50363);const c=({children:e,enterAnimation:a=!0})=>{const x=(0,o.of)(P);return(0,n.jsx)("div",{className:(0,i.cx)(x.loginInnerBox,a&&x.enterAnimation),children:e})},g=({children:e,branding:a,isChangingPassword:x})=>{const t=(0,o.of)(P),[M,D]=(0,m.useState)(!1),h=a?.loginSubtitle??l.M.GetLoginSubTitle(),p=a?.loginTitle??l.M.LoginTitle,u=a?.loginBoxBackground||l.M.LoginBoxBackground(),j=a?.loginLogo,L=a?.hideEdition??l.M.HideEdition;return(0,m.useEffect)(()=>D(!0),[]),(0,n.jsxs)(l.M.LoginBackground,{className:(0,i.cx)(t.container,M&&t.loginAnim,a?.loginBackground),children:[(0,n.jsx)("div",{className:t.loginMain,children:(0,n.jsxs)("div",{className:(0,i.cx)(t.loginContent,u,"login-content-box"),children:[(0,n.jsxs)("div",{className:t.loginLogoWrapper,children:[(0,n.jsx)(l.M.LoginLogo,{className:t.loginLogo,logo:j}),(0,n.jsx)("div",{className:t.titleWrapper,children:x?(0,n.jsx)("h1",{className:t.mainTitle,children:(0,n.jsx)(r.x6,{i18nKey:"login.layout.update-password",children:"Update your password"})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{className:t.mainTitle,children:p}),h&&(0,n.jsx)("h3",{className:t.subTitle,children:h})]})})]}),(0,n.jsx)("div",{className:t.loginOuterBox,children:e})]})}),a?.hideFooter?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(E.wi,{hideEdition:L,customLinks:a?.footerLinks})]})},f=(0,i.keyframes)`
from{
  opacity: 0;
  transform: translate(-60px, 0px);
}

to{
  opacity: 1;
  transform: translate(0px, 0px);
}`,P=e=>({loginMain:(0,i.css)({flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minWidth:"100%"}),container:(0,i.css)({minHeight:"100%",backgroundPosition:"center",backgroundRepeat:"no-repeat",flex:1,minWidth:"100%",marginLeft:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}),loginAnim:(0,i.css)({"&:before":{opacity:1},".login-content-box":{opacity:1}}),submitButton:(0,i.css)({justifyContent:"center",width:"100%"}),loginLogo:(0,i.css)({width:"100%",maxWidth:60,marginBottom:e.spacing(2),[e.breakpoints.up("sm")]:{maxWidth:100}}),loginLogoWrapper:(0,i.css)({display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",padding:e.spacing(3)}),titleWrapper:(0,i.css)({textAlign:"center"}),mainTitle:(0,i.css)({fontSize:22,[e.breakpoints.up("sm")]:{fontSize:32}}),subTitle:(0,i.css)({fontSize:e.typography.size.md,color:e.colors.text.secondary}),loginContent:(0,i.css)({maxWidth:478,width:"calc(100% - 2rem)",display:"flex",alignItems:"stretch",flexDirection:"column",position:"relative",justifyContent:"flex-start",zIndex:1,minHeight:320,borderRadius:e.shape.radius.default,padding:e.spacing(2,0),opacity:0,[e.transitions.handleMotion("no-preference","reduce")]:{transition:"opacity 0.5s ease-in-out"},[e.breakpoints.up("sm")]:{minHeight:e.spacing(40),justifyContent:"center"}}),loginOuterBox:(0,i.css)({display:"flex",overflowY:"hidden",alignItems:"center",justifyContent:"center"}),loginInnerBox:(0,i.css)({padding:e.spacing(0,2,2,2),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flexGrow:1,maxWidth:415,width:"100%",transform:"translate(0px, 0px)",[e.transitions.handleMotion("no-preference")]:{transition:"0.25s ease"}}),enterAnimation:(0,i.css)({[e.transitions.handleMotion("no-preference")]:{animation:`${f} ease-out 0.2s`}})})},34191:(O,_,s)=>{s.d(_,{s:()=>l});var n=s(74848),i=s(96540),m=s(58779),o=s(34128),r=s(99764);const l=(0,i.forwardRef)((E,c)=>{const[g,f]=(0,i.useState)(!1);return(0,n.jsx)(o.p,{...E,type:g?"text":"password","data-testid":m.Tp.pages.Login.password,ref:c,suffix:(0,n.jsx)(r.K,{name:g?"eye-slash":"eye","aria-controls":E.id,role:"switch","aria-checked":g,onClick:()=>{f(!g)},tooltip:g?"Hide password":"Show password"})})});l.displayName="PasswordField"},26964:(O,_,s)=>{s.r(_),s.d(_,{SignupPage:()=>x,default:()=>t});var n=s(74848),i=s(49785),m=s(28082),o=s(86489),r=s(34128),l=s(48583),E=s(54594),c=s(88023),g=s(17687),f=s(11817),P=s(4148),e=s(67293),a=s(34191);const x=({queryParams:M})=>{const D=(0,g._2)(),{handleSubmit:h,formState:{errors:p},register:u,getValues:j}=(0,i.mN)({defaultValues:{email:M.email,code:M.code}}),L=async d=>{d.name===""&&delete d.name,delete d.confirm,(await(0,m.AI)().post("/api/user/signup/step2",{email:d.email,code:d.code,username:d.email,orgName:d.orgName,password:d.password,name:d.name}).catch(y=>{const A=y.data?.message||y;D.warning(A)})).code==="redirect-to-select-org"&&window.location.assign((0,c.zj)().appSubUrl+"/profile/select-org?signup=1"),window.location.assign((0,c.zj)().appSubUrl+"/")};return(0,n.jsx)(e.GU,{children:(0,n.jsx)(e.qm,{children:(0,n.jsxs)("form",{onSubmit:h(L),style:{width:"100%"},children:[(0,n.jsx)(o.D,{label:"Your name",children:(0,n.jsx)(r.p,{id:"user-name",...u("name"),placeholder:"(optional)"})}),(0,n.jsx)(o.D,{label:"Email",invalid:!!p.email,error:p.email?.message,children:(0,n.jsx)(r.p,{id:"email",...u("email",{required:"Email is required",pattern:{value:P.pL,message:"Email is invalid"}}),type:"email",placeholder:"Email"})}),!(0,c.zj)().autoAssignOrg&&(0,n.jsx)(o.D,{label:"Org. name",children:(0,n.jsx)(r.p,{id:"org-name",...u("orgName"),placeholder:"Org. name"})}),(0,c.zj)().verifyEmailEnabled&&(0,n.jsx)(o.D,{label:"Email verification code (sent to your email)",children:(0,n.jsx)(r.p,{id:"verification-code",...u("code"),placeholder:"Code"})}),(0,n.jsx)(o.D,{label:"Password",invalid:!!p.password,error:p?.password?.message,children:(0,n.jsx)(a.s,{id:"new-password",autoFocus:!0,autoComplete:"new-password",...u("password",{required:"Password is required"})})}),(0,n.jsx)(o.D,{label:"Confirm password",invalid:!!p.confirm,error:p?.confirm?.message,children:(0,n.jsx)(a.s,{id:"confirm-new-password",autoComplete:"new-password",...u("confirm",{required:"Confirmed password is required",validate:d=>d===j().password||"Passwords must match!"})})}),(0,n.jsxs)(l.B,{children:[(0,n.jsx)(E.$n,{type:"submit",children:(0,n.jsx)(f.x6,{i18nKey:"sign-up.submit-button",children:"Submit"})}),(0,n.jsx)(E.z9,{fill:"text",href:(0,c.zj)().appSubUrl+"/login",children:(0,n.jsx)(f.x6,{i18nKey:"sign-up.back-button",children:"Back to login"})})]})]})})})},t=x},4148:(O,_,s)=>{s.d(_,{pL:()=>i,z5:()=>o});var n=s(32370);const i=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function m(){const r=n.$.licenseInfo?.trialExpiry;return!!(r&&r>0)}const o=()=>m()&&n.$.featureToggles.featureHighlights}}]);

//# sourceMappingURL=6964.de0208d492d09ae9a565.js.map