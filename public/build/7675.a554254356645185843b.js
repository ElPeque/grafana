"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[7675],{71623:(he,Q,p)=>{p.d(Q,{n:()=>en});var n=p(74848),r=p(96540),g=p(29675),F=p(77576),K=p(75606),t=p(22803),re=p(20968),P=p(79784),W=p(6736),b=p(34128),C=p(89256),ne=p(94963),z=p(11817),T=p(74162);const X=(0,r.forwardRef)(({children:e,iconName:s},d)=>{const o=(0,g.of)(ke);return(0,n.jsxs)("div",{className:o.container,ref:d,children:[s&&(0,n.jsx)(P.I,{name:s,size:"xs"}),e]})});X.displayName="ValueContainer";const ke=e=>{const{prefix:s}=(0,b.n)({theme:e}),{multiValueContainer:d}=(0,T.J)(e);return{container:(0,t.cx)(s,d,(0,t.css)({position:"relative",padding:e.spacing(.5,1,.5,1),svg:{marginRight:e.spacing(.5)}}))}},je=360,Z=300,we=320,J=360,Ee=320,ve=360,Ge=J+ve,Be=e=>e.stopPropagation(),ye=({appliedRoles:e,basicRole:s,disabled:d,isFocused:o,query:c,showBasicRole:v,width:S,isLoading:k,onOpen:R,onClose:M,onQueryChange:f,...I})=>{const m=(0,g.of)(De,!1,!!o,!!d,!1,S),w=(0,r.useRef)(null);(0,r.useEffect)(()=>{o&&w.current?.focus()});const u=O=>{const D=O.target?.value;f(D)},h=v&&s!=="None";return o?(0,n.jsxs)("div",{className:m.wrapper,children:[h&&(0,n.jsx)(X,{children:s}),e.map(O=>(0,n.jsx)(X,{children:O.group+":"+(O.displayName||O.name)},O.uid)),!d&&(0,n.jsx)("input",{...I,className:m.input,ref:w,onMouseDown:Be,onChange:u,"data-testid":"role-picker-input",placeholder:o?"Select role":"",value:c}),(0,n.jsx)("div",{className:m.suffix,children:(0,n.jsx)(P.I,{name:"angle-up",className:m.dropdownIndicator,onMouseDown:M})})]}):(0,n.jsxs)("div",{className:(0,t.cx)(m.wrapper,m.selectedRoles),onMouseDown:R,children:[h&&(0,n.jsx)(X,{children:s}),(0,n.jsx)(Le,{appliedRoles:e,numberOfRoles:e.length,showBuiltInRole:h}),k&&(0,n.jsx)("div",{className:m.spinner,children:(0,n.jsx)(re.y,{size:16,inline:!0})})]})};ye.displayName="RolePickerInput";const Le=({showBuiltInRole:e,numberOfRoles:s,appliedRoles:d})=>{const o=(0,g.of)(c=>Te(c));return(0,n.jsx)(n.Fragment,{children:s?(0,n.jsx)(W.m,{content:(0,n.jsx)("div",{className:o.tooltip,children:d?.map(c=>(0,n.jsx)("p",{children:c.group+":"+(c.displayName||c.name)},c.uid))}),children:(0,n.jsx)(X,{children:`${e?"+":""}${s} role${s>1?"s":""}`})}):!e&&(0,n.jsx)(X,{children:(0,n.jsx)(z.x6,{i18nKey:"role-picker.input.no-roles",children:"No roles assigned"})})})},De=(e,s,d,o,c,v)=>{const S=(0,b.n)({theme:e,invalid:s});return{wrapper:(0,t.cx)(S.wrapper,(0,C.Xb)(e,s),d&&(0,t.css)((0,ne.getFocusStyles)(e)),o&&S.inputDisabled,(0,t.css)({minWidth:v||je+"px",width:v,minHeight:"32px",maxHeight:"200px",overflow:"scroll",overflowX:"hidden",overflowY:"auto",height:"auto",flexDirection:"row",paddingRight:e.spacing(1),maxWidth:"100%",alignItems:"center",display:"flex",flexWrap:"wrap",justifyContent:"flex-start",position:"relative",boxSizing:"border-box",cursor:"default"}),c&&(0,t.css)({paddingLeft:0})),input:(0,t.cx)((0,C.Xb)(e,s),(0,t.css)({maxWidth:"120px",border:"none",cursor:d?"default":"pointer"})),suffix:S.suffix,dropdownIndicator:(0,t.css)({cursor:"pointer"}),selectedRoles:(0,t.css)({display:"flex",alignItems:"center",cursor:o?"not-allowed":"pointer"}),tooltip:(0,t.css)({p:{marginBottom:e.spacing(.5)}}),spinner:(0,t.css)({display:"flex",flexGrow:1,justifyContent:"flex-end"})}},Te=e=>({tooltip:(0,t.css)({p:{marginBottom:e.spacing(.5)}})});var Ue=p(54731),Ce=p(99134),Re=p(48583),ae=p(54594),He=p(22084),Ne=p(61491);const Y=e=>({hideScrollBar:(0,t.css)({".scrollbar-view":{"&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none"}}),menuWrapper:(0,t.css)({display:"flex",maxHeight:"650px",position:"absolute",zIndex:e.zIndex.dropdown,overflow:"hidden",minWidth:"auto"}),menu:(0,t.css)({minWidth:`${we}px`,maxWidth:`${J}px`,"& > div":{paddingTop:e.spacing(1)}}),menuLeft:(0,t.css)({flexDirection:"row-reverse"}),subMenu:(0,t.css)({height:"100%",minWidth:`${Ee}px`,maxWidth:`${ve}px`,display:"flex",flexDirection:"column",borderLeft:`1px solid ${e.components.input.borderColor}`,"& > div":{paddingTop:e.spacing(1)}}),subMenuLeft:(0,t.css)({borderRight:`1px solid ${e.components.input.borderColor}`,borderLeft:"unset"}),groupHeader:(0,t.css)({padding:e.spacing(0,4.5),display:"flex",alignItems:"center",color:e.colors.text.primary,fontWeight:e.typography.fontWeightBold}),container:(0,t.css)({padding:e.spacing(1),border:`1px ${e.colors.border.weak} solid`,borderRadius:e.shape.radius.default,backgroundColor:e.colors.background.primary,zIndex:e.zIndex.modal}),menuSection:(0,t.css)({marginBottom:e.spacing(2)}),menuOptionCheckbox:(0,t.css)({display:"flex",margin:e.spacing(0,1,0,.25)}),menuButtonRow:(0,t.css)({backgroundColor:e.colors.background.primary,padding:e.spacing(1)}),menuOptionBody:(0,t.css)({fontWeight:e.typography.fontWeightRegular,padding:e.spacing(0,1.5,0,0)}),menuOptionDisabled:(0,t.css)({color:e.colors.text.disabled,cursor:"not-allowed"}),menuOptionExpand:(0,t.css)({position:"absolute",right:e.spacing(2.5),color:e.colors.text.disabled,"&:after":{content:'">"'}}),menuOptionInfoSign:(0,t.css)({color:e.colors.text.disabled}),basicRoleSelector:(0,t.css)({margin:e.spacing(1,1.25,1,1.5)}),subMenuPortal:(0,t.css)({height:"100%","> div":{height:"100%"}}),subMenuButtonRow:(0,t.css)({backgroundColor:e.colors.background.primary,padding:e.spacing(1)}),checkboxPartiallyChecked:(0,t.css)({input:{"&:checked + span":{"&:after":{borderWidth:"0 3px 0px 0",transform:"rotate(90deg)"}}}}),loadingSpinner:(0,t.css)({marginLeft:e.spacing(1)})}),ze=Object.values(Ne.OrgRole).map(e=>({label:e===Ne.OrgRole.None?"No basic role":e,value:e})),Ae=({value:e,onChange:s,disabled:d,disabledMesssage:o,tooltipMessage:c})=>{const v=(0,g.of)(Y),S=(0,g.$j)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:v.groupHeader,children:[(0,n.jsx)("span",{style:{marginRight:S.spacing(1)},children:(0,n.jsx)(z.x6,{i18nKey:"role-picker.built-in.basic-roles",children:"Basic roles"})}),d&&o&&(0,n.jsx)(W.m,{placement:"right-end",interactive:!0,content:(0,n.jsx)("div",{children:o}),children:(0,n.jsx)(P.I,{name:"question-circle"})}),!d&&c&&(0,n.jsx)(W.m,{placement:"right-end",interactive:!0,content:c,children:(0,n.jsx)(P.I,{name:"info-circle",size:"xs"})})]}),(0,n.jsx)(He.a,{name:"Basic Role Selector",className:v.basicRoleSelector,options:ze,value:e,onChange:s,disabled:d})]})};var be=p(81942);const Se=(0,r.memo)(r.forwardRef(({name:e,value:s,isFocused:d,isSelected:o,partiallySelected:c,disabled:v,onChange:S,onClick:k,onOpenSubMenu:R,onCloseSubMenu:M,children:f,root:I},m)=>{const w=(0,g.$j)(),u=(0,T.J)(w),h=(0,g.of)(Y),O=(0,t.cx)(u.option,d&&u.optionFocused,v&&h.menuOptionDisabled),D=H=>{v||s&&S(s)},B=H=>{k&&k(s)},U=()=>{R&&R(s)},G=()=>{M&&M()};return(0,n.jsx)("div",{onMouseEnter:U,onMouseLeave:G,children:(0,n.jsxs)("div",{ref:m,className:O,"aria-label":"Role picker option",onClick:B,children:[(0,n.jsx)(be.S,{value:o,className:(0,t.cx)(h.menuOptionCheckbox,{[h.checkboxPartiallyChecked]:c}),onChange:D,disabled:v}),(0,n.jsxs)("div",{className:(0,t.cx)(u.optionBody,h.menuOptionBody),children:[(0,n.jsx)("span",{children:e}),(0,n.jsx)("span",{className:h.menuOptionExpand})]}),I&&f&&(0,n.jsx)(K.ZL,{className:h.subMenuPortal,root:I,children:f})]})})}));Se.displayName="RoleMenuGroupOption";const le=(0,r.forwardRef)(({data:e,isFocused:s,isSelected:d,disabled:o,mapped:c,onChange:v,hideDescription:S},k)=>{const R=(0,g.$j)(),M=(0,T.J)(R),f=(0,g.of)(Y);o=o||c;let I="";o&&(I="You do not have permissions to assign this role.",c&&(I="Role assignment cannot be removed because the role is mapped through group sync."));const m=(0,t.cx)(M.option,s&&M.optionFocused,o&&f.menuOptionDisabled),w=u=>{o||(u.preventDefault(),u.stopPropagation(),v(e))};return(0,n.jsxs)("div",{ref:k,className:m,"aria-label":"Role picker option",onClick:w,children:[(0,n.jsx)(be.S,{value:d,className:f.menuOptionCheckbox,onChange:w,disabled:o}),(0,n.jsxs)("div",{className:(0,t.cx)(M.optionBody,f.menuOptionBody),children:[(0,n.jsx)("span",{children:e.displayName||e.name}),!S&&e.description&&(0,n.jsx)("div",{className:M.optionDescription,children:e.description})]}),I&&(0,n.jsx)(W.m,{content:I,children:(0,n.jsx)(P.I,{name:"lock"})}),e.description&&(0,n.jsx)(W.m,{content:e.description,children:(0,n.jsx)(P.I,{name:"info-circle",className:f.menuOptionInfoSign})})]})});le.displayName="RoleMenuOption";var ce=p(3980);const Ke=({options:e,selectedOptions:s,disabledOptions:d,onSelect:o,onClear:c,showOnLeft:v})=>{const S=(0,g.$j)(),k=(0,T.J)(S),R=(0,g.of)(Y),M=async()=>{c&&c()};return(0,n.jsxs)("div",{className:(0,t.cx)(R.subMenu,{[R.subMenuLeft]:v}),"aria-label":"Role picker submenu",children:[(0,n.jsx)(Ce.P,{maxHeight:`${Z}px`,children:(0,n.jsx)("div",{className:k.optionBody,children:e.map((f,I)=>(0,n.jsx)(le,{data:f,isSelected:!!(f.uid&&(s.find(m=>m.uid===f.uid)||d?.find(m=>m.uid===f.uid))),disabled:!!(f.uid&&d?.find(m=>m.uid===f.uid))||(0,ce.W)(f),mapped:!!(f.uid&&s.find(m=>m.uid===f.uid&&m.mapped)),onChange:o,hideDescription:!0},I))})}),(0,n.jsx)("div",{className:R.subMenuButtonRow,children:(0,n.jsx)(Re.B,{justifyContent:"flex-end",children:(0,n.jsx)(ae.$n,{size:"sm",fill:"text",onClick:M,children:(0,n.jsx)(z.x6,{i18nKey:"role-picker.sub-menu.clear-button",children:"Clear"})})})})]})},Me=(0,r.forwardRef)(({roles:e,renderedName:s,showGroups:d,optionGroups:o,onGroupChange:c,groupSelected:v,groupPartiallySelected:S,subMenuNode:k,selectedOptions:R,onRoleChange:M,onClearSubMenu:f,showOnLeftSubMenu:I},m)=>{const[w,u]=(0,r.useState)(!1),[h,O]=(0,r.useState)(""),D=(0,g.$j)(),B=(0,T.J)(D),U=(0,g.of)(Y),G=(0,r.useCallback)(y=>{O(y),u(!0)},[]),H=(0,r.useCallback)(()=>{u(!1),O("")},[]);return(0,n.jsx)("div",{children:e.length>0&&(0,n.jsxs)("div",{className:U.menuSection,children:[(0,n.jsx)("div",{className:U.groupHeader,children:s}),(0,n.jsx)("div",{className:B.optionBody}),d&&o?.length?o.map(y=>(0,n.jsx)(Se,{name:y.name,value:y.value,isSelected:v(y.value)||S(y.value),partiallySelected:S(y.value),disabled:y.options?.every(E=>(0,ce.W)(E)||R.find(A=>A.uid===E.uid&&A.mapped)),onChange:c,onOpenSubMenu:G,onCloseSubMenu:H,root:k,isFocused:w&&h===y.value,children:w&&h===y.value&&(0,n.jsx)(Ke,{options:y.options,selectedOptions:R,onSelect:M,onClear:()=>f(h),showOnLeft:I})},y.value)):e.map(y=>(0,n.jsx)(le,{data:y,isSelected:!!(y.uid&&R.find(E=>E.uid===y.uid)),disabled:(0,ce.W)(y),mapped:!!(y.uid&&R.find(E=>E.uid===y.uid&&E.mapped)),onChange:M,hideDescription:!0},y.uid))]})})});Me.displayName="RoleMenuGroupsSection";var Fe=(e=>(e.fixed="fixed",e.custom="custom",e.plugin="plugin",e))(Fe||{});const Xe={ldap:"LDAP",current:"Current org"},Je=(0,n.jsxs)(z.x6,{i18nKey:"role-picker.menu.tooltip",children:['You can now select the "No basic role" option and add permissions to your custom needs. You can find more information in\xA0',(0,n.jsx)(Ue.Y,{href:"https://grafana.com/docs/grafana/latest/administration/roles-and-permissions/#organization-roles",variant:"bodySmall",external:!0,children:"our documentation"}),"."]}),Ye=({basicRole:e,options:s,appliedRoles:d,showGroups:o,basicRoleDisabled:c,disabledMessage:v,showBasicRole:S,onSelect:k,onBasicRoleSelect:R,onUpdate:M,updateDisabled:f,offset:I,menuLeft:m,apply:w})=>{const[u,h]=(0,r.useState)(d),[O,D]=(0,r.useState)(e),[B,U]=(0,r.useState)({}),G=(0,r.useRef)(null),H=(0,g.$j)(),y=(0,T.J)(H),E=(0,g.of)(Y);(0,r.useEffect)(()=>{k(u)},[u,k]),(0,r.useEffect)(()=>{R&&O&&R(O)},[O,R]),(0,r.useEffect)(()=>{const x=s.filter(Ve).sort(se),a=s.filter(Qe).sort(se),l=s.filter(Ze).sort(se),N={fixed:ue(a).sort(($,i)=>$.name.localeCompare(i.name)),custom:ue(x).sort(($,i)=>$.name.localeCompare(i.name)),plugin:ue(l).sort(($,i)=>$.name.localeCompare(i.name))};U({fixed:{groupType:"fixed",optionGroup:N.fixed,renderedName:"Fixed roles",roles:a},custom:{groupType:"custom",optionGroup:N.custom,renderedName:"Custom roles",roles:x},plugin:{groupType:"plugin",optionGroup:N.plugin,renderedName:"Plugin roles",roles:l}})},[s]);const A=x=>{const a=[];for(const l of u)de(l)===x&&a.push(l);return a},te=(x,a)=>{const l=A(a),N=B[x]?.optionGroup.find($=>$.value===a);return l.length>0&&l.length>=N.options.length},oe=(x,a)=>{const l=A(a),N=B[x]?.optionGroup.find($=>$.value===a);return l.length>0&&l.length<N.options.length},pe=(x,a)=>{const N=A(a).filter(i=>i.delegatable&&!i.mapped),$=B[x]?.optionGroup.find(i=>i.value===a);return N.length>0&&N.length<$.options.length},q=x=>{u.find(a=>a.uid===x.uid&&!a.mapped)?h(u.filter(a=>a.uid!==x.uid)):h([...u,x])},V=(x,a)=>{const l=B[x]?.optionGroup.find(N=>N.value===a);if(l)if(te(x,a)||pe(x,a)){const N=u.filter(i=>l.options.find(j=>j.uid===i.uid&&i.mapped)),$=u.filter(i=>!l.options.find(j=>i.uid===j.uid));h([...$,...N])}else{const N=u.filter(j=>l.options.find(L=>L.uid===j.uid&&L.delegatable)),$=l.options.filter(j=>j.delegatable&&!u.find(L=>j.uid===L.uid&&L.mapped)),i=u.filter(j=>!l.options.find(L=>j.uid===L.uid));h([...i,...$,...N])}},fe=x=>{D(x)},me=async()=>{const x=u.filter(l=>l.mapped),a=s.filter(l=>u.find(N=>l.uid===N.uid&&!l.delegatable));h([...x,...a])},ie=x=>{const a=u.filter(l=>de(l)!==x||l.mapped);h(a)},xe=()=>{M(u,O)};return(0,n.jsxs)("div",{className:(0,t.cx)(y.menu,E.menuWrapper,{[E.menuLeft]:m},(0,t.css)({top:`${I.vertical}px`,left:m?"unset":`${I.horizontal}px`,right:m?`${I.horizontal}px`:"unset"})),children:[(0,n.jsxs)("div",{className:E.menu,"aria-label":"Role picker menu",children:[(0,n.jsxs)(Ce.P,{maxHeight:`${Z}px`,scrollbarWidth:"none",children:[S&&(0,n.jsx)("div",{className:E.menuSection,children:(0,n.jsx)(Ae,{value:O,onChange:fe,disabled:c,disabledMesssage:v,tooltipMessage:Je})}),Object.entries(B).map(([x,a])=>(0,n.jsx)(Me,{roles:a.roles,renderedName:a.renderedName,showGroups:o,optionGroups:a.optionGroup,groupSelected:l=>te(a.groupType,l),groupPartiallySelected:l=>oe(a.groupType,l),onGroupChange:l=>V(a.groupType,l),subMenuNode:G?.current,selectedOptions:u,onRoleChange:q,onClearSubMenu:ie,showOnLeftSubMenu:m},x))]}),(0,n.jsx)("div",{className:E.menuButtonRow,children:(0,n.jsxs)(Re.B,{justifyContent:"flex-end",children:[(0,n.jsx)(ae.$n,{size:"sm",fill:"text",onClick:me,disabled:f,children:(0,n.jsx)(z.x6,{i18nKey:"role-picker.menu.clear-button",children:"Clear all"})}),(0,n.jsx)(ae.$n,{size:"sm",onClick:xe,disabled:f,children:w?"Apply":"Update"})]})})]}),(0,n.jsx)("div",{ref:G})]})},Ve=e=>!e.name?.startsWith("fixed:")&&!e.name.startsWith("plugins:"),Qe=e=>e.name?.startsWith("fixed:"),Ze=e=>e.name?.startsWith("plugins:"),ue=e=>{const s={};return e.forEach(o=>{const c=de(o),v=Oe(o);s[c]||(s[c]={name:v,roles:[]}),s[c].roles.push(o)}),Object.entries(s).map(([o,c])=>({name:Xe[o]||_e(c.name),value:o,options:c.roles.sort(se)}))},de=e=>{const s=qe(e),d=Oe(e);return`${s}:${d}`},Oe=e=>e.group||"Other",qe=e=>{const s=e.name.indexOf(":");return s<0?"unknown":e.name.substring(0,s)},se=(e,s)=>e.name.localeCompare(s.name),_e=e=>e.slice(0,1).toUpperCase()+e.slice(1),en=({basicRole:e,appliedRoles:s,roleOptions:d,disabled:o,isLoading:c,basicRoleDisabled:v,basicRoleDisabledMessage:S,showBasicRole:k,onRolesChange:R,onBasicRoleChange:M,canUpdateRoles:f=!0,apply:I=!1,maxWidth:m=je,width:w})=>{const[u,h]=(0,r.useState)(!1),[O,D]=(0,r.useState)(s),[B,U]=(0,r.useState)(e),[G,H]=(0,r.useState)(""),[y,E]=(0,r.useState)({vertical:0,horizontal:0}),[A,te]=(0,r.useState)(!1),oe=(0,r.useRef)(null),pe=(0,g.$j)(),q=typeof w=="number"?pe.spacing(w):w;(0,r.useEffect)(()=>{U(e),D(s)},[s,e,M]);const V=(0,r.useCallback)(()=>{const{horizontal:i,vertical:j,menuToLeft:L}=fe();i&&j&&(E({horizontal:i,vertical:j}),te(L))},[]);(0,r.useEffect)(()=>{u&&V()},[u,O,V]);const fe=()=>{const i=oe?.current?.getBoundingClientRect();if(!i)return{};const{bottom:j,top:L,left:ge,right:Ie}=i,We=window.innerHeight-j,nn=L,sn=window.innerWidth-Ie,tn=ge;let _=ge,ee=j,Pe=!1,$e=!1;return We<Z&&nn>We&&(ee=L-Z,$e=!0),sn<J&&tn<J?(_=Ie-J,Pe=!0):_=Math.max(0,ge+(i.width-J)/2),_=Math.max(0,Math.min(_,window.innerWidth-Ge)),ee=Math.max(0,Math.min(ee,window.innerHeight-Z)),$e&&(ee-=48),{horizontal:_,vertical:ee,menuToLeft:Pe}},me=(0,r.useCallback)(i=>{o||(i.preventDefault(),i.stopPropagation(),V(),h(!0))},[o,V]),ie=(0,r.useCallback)(()=>{h(!1),H(""),D(s),U(e)},[s,e]),xe=()=>u&&ie(),x=i=>{H(i||"")},a=i=>{D(i)},l=i=>{U(i)},N=(i,j)=>{M&&j&&j!==e&&M(j),f&&R(i),H(""),h(!1)},$=()=>{const i=d.map(j=>({...j,delegatable:f&&j.delegatable}));return G&&G.trim()!==""?i.filter(j=>j.name?.toLowerCase().includes(G.toLowerCase())):i};return(0,n.jsx)("div",{"data-testid":"role-picker",style:{position:"relative",maxWidth:q||m,width:q},ref:oe,children:(0,n.jsxs)(F.N,{onClick:xe,useCapture:!1,children:[(0,n.jsx)(ye,{basicRole:B,appliedRoles:O,query:G,onQueryChange:x,onOpen:me,onClose:ie,isFocused:u,disabled:o,showBasicRole:k,width:q,isLoading:c}),u&&(0,n.jsx)(K.ZL,{children:(0,n.jsx)("div",{onClick:i=>i.stopPropagation(),children:(0,n.jsx)(Ye,{options:$(),basicRole:B,appliedRoles:s,onBasicRoleSelect:l,onSelect:a,onUpdate:N,showGroups:G.length===0||G.trim()==="",basicRoleDisabled:v,disabledMessage:S,showBasicRole:k,updateDisabled:v&&!f,apply:I,offset:y,menuLeft:A})})})]})})}},26185:(he,Q,p)=>{p.d(Q,{G3:()=>re,RL:()=>g,Xh:()=>F,eA:()=>K,xN:()=>t});var n=p(28082),r=p(3980);const g=async P=>{let W="/api/access-control/roles?delegatable=true";P&&(W+=`&targetOrgId=${P}`);const b=await(0,n.AI)().get(W);return!b||!b.length?[]:b.map(r.c)},F=async(P,W)=>{let b=`/api/access-control/users/${P}/roles?includeMapped=true`;W&&(b+=`&targetOrgId=${W}`);try{const C=await(0,n.AI)().get(b);return!C||!C.length?[]:C.map(r.c)}catch(C){return(0,n.NF)(C)&&(C.isHandled=!0),[]}},K=(P,W,b)=>{let C=`/api/access-control/users/${W}/roles`;b&&(C+=`?targetOrgId=${b}`);const z=P.filter(T=>!T.mapped).flatMap(T=>T.uid);return(0,n.AI)().put(C,{orgId:b,roleUids:z})},t=async(P,W)=>{let b=`/api/access-control/teams/${P}/roles`;W&&(b+=`?targetOrgId=${W}`);try{const C=await(0,n.AI)().get(b);return!C||!C.length?[]:C.map(r.c)}catch(C){return(0,n.NF)(C)&&(C.isHandled=!0),[]}},re=(P,W,b)=>{let C=`/api/access-control/teams/${W}/roles`;b&&(C+=`?targetOrgId=${b}`);const ne=P.flatMap(z=>z.uid);return(0,n.AI)().put(C,{orgId:b,roleUids:ne})}},3980:(he,Q,p)=>{p.d(Q,{W:()=>n,c:()=>r});const n=g=>g.delegatable!==void 0&&!g.delegatable,r=g=>{const F="fixed:";if(!g.displayName&&g.name.startsWith(F)){let K="";K=g.name.replace(F,"").replace(/:/g," "),g.displayName=K}return g}}}]);

//# sourceMappingURL=7675.a554254356645185843b.js.map