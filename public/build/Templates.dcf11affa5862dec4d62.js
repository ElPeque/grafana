"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[9224],{51866:(N,p,e)=>{e.r(p),e.d(p,{default:()=>U});var t=e(74848),a=e(54148),s=e(32174),c=e(81876),r=e(37e3),i=e(22961),j=e(75764),u=e(13005),C=e(36826),y=e(85651),L=e(5900),g=e(37104),f=e(38979),x=e(50292);const E=(0,t.jsx)(i.L,{entity:"Notification template"}),I=()=>{const{selectedAlertmanager:n}=(0,u.VI)(),{name:m}=(0,a.g)(),d=m?decodeURIComponent(m):void 0,{currentData:l,isLoading:v,error:o}=(0,x.J2)({alertmanager:n??"",uid:d??""}),{currentData:T,isLoading:$,error:P}=(0,x.cC)({alertmanager:n??""});if(!n)return(0,t.jsx)(i.L,{entity:"Alertmanager"});if(!d)return(0,t.jsx)(i.L,{entity:"Notification template"});if(v||$)return(0,t.jsx)(c._,{text:"Loading notification template"});if(o||P||!l||!T)return(0,j.E)(o)?E:(0,t.jsx)(r.F,{title:"Error loading notification template",severity:"error",children:(0,y.JZ)(o)});const R=(0,C.V)(l.title,T?.map(Z=>Z.title)??[]);return(0,t.jsx)(f.By,{alertmanager:n,prefill:{title:R,content:(0,L.a)(l.content)}})};function M(){return(0,t.jsx)(s.y,{navId:"receivers",accessType:"notification",children:(0,t.jsx)(I,{})})}const A=(0,g.S)(M),h=(0,t.jsx)(i.L,{entity:"Notification template"}),D=()=>{const{name:n}=(0,a.g)(),m=n?decodeURIComponent(n):void 0,{selectedAlertmanager:d}=(0,u.VI)(),{currentData:l,isLoading:v,error:o}=(0,x.J2)({alertmanager:d??"",uid:m??""});return m?v?(0,t.jsx)(c._,{text:"Loading template..."}):o?(0,j.E)(o)?h:(0,t.jsx)(r.F,{severity:"error",title:"Failed to fetch notification template",children:(0,y.JZ)(o)}):l?(0,t.jsx)(f.By,{alertmanager:d??"",originalTemplate:l}):h:(0,t.jsx)(i.L,{entity:"Notification template"})};function F(){return(0,t.jsx)(s.y,{navId:"receivers",accessType:"notification",children:(0,t.jsx)(D,{})})}const V=(0,g.S)(F);function B(){const{selectedAlertmanager:n}=(0,u.VI)();return(0,t.jsx)(s.y,{navId:"receivers",accessType:"notification",children:(0,t.jsx)(f.By,{alertmanager:n??""})})}const J=(0,g.S)(B);function S(){return(0,t.jsx)(s.y,{navId:"receivers",accessType:"notification",pageNav:{id:"templates",text:"Notification templates",subTitle:"Create and edit a group of notification templates"},children:(0,t.jsxs)(a.BV,{children:[(0,t.jsx)(a.qh,{path:":name/edit",element:(0,t.jsx)(V,{})}),(0,t.jsx)(a.qh,{path:"new",element:(0,t.jsx)(J,{})}),(0,t.jsx)(a.qh,{path:":name/duplicate",element:(0,t.jsx)(A,{})})]})})}const U=(0,g.S)(S)},36826:(N,p,e)=>{e.d(p,{V:()=>t});function t(a,s){const c=a.replace(/\(copy( [0-9]+)?\)$/,"").trim();let r=`${c} (copy)`;for(let i=2;s.includes(r);i++)r=`${c} (copy ${i})`;return r}}}]);

//# sourceMappingURL=Templates.dcf11affa5862dec4d62.js.map